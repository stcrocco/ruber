<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Ruber::OutputWidget</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (O)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Ruber.html" title="Ruber (module)">Ruber</a></span></span>
     &raquo; 
    <span class="title">OutputWidget</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Ruber::OutputWidget
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Qt::Widget</span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Qt::Widget</li>
          
            <li class="next">Ruber::OutputWidget</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="GuiStatesHandler.html" title="Ruber::GuiStatesHandler (module)">GuiStatesHandler</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/ruber/output_widget.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Widget meant to be used as tool widget to display the output of a program. It is
based on Qt Model/View classes and provides the following facitlities:</p>
<ul>
	<li>an easy way to display in different colors items with different meaning (for
  example, error message are displayed in a different color from output messages)</li>
	<li>a centralized way in which the user can choose the colors for different types
  of items</li>
	<li>a context menu with some standard actions, which can be enhanced with custom
  ones and is automatically (under certain conditions) shown to the user</li>
	<li>autoscrolling (which means that whenever new text is added, the view scrolls so
  that the text becomes visible)</li>
	<li>a centralized way for the user to turn on and off word wrapping (which can be
  ignored by widgets for which it doesn&#8217;t make sense)</li>
	<li>a mechanism which allows the user to click on an entry containing a file name
  in the widget to open the file in the editor. The mechanism can be customized
  by plugins to be better tailored to their needs (and can also be turned off)</li>
	<li>a model class, derived from <tt>Qt::StandardItemModel</tt>, which provides a
  couple of convenience methods to make text insertion even easier.</li>
</ul>
<p>Note that OutputWidget is not (and doesn&#8217;t derive from) one of the View classes.
Rather, it&#8217;s a normal <code>Qt::Widget</code> which has the view as its only child.
You can add other widgets to the OutputWidget as you would with any other widget:
create the widget with the OutputWidget as parent and add it to the OutputWidget&#8217;s
layout (which is a <code>Qt::GridLayout</code> where the view is at position 0,0).</p>
<p><strong>Note:</strong> this class defines two new roles (<code>OutputTypeRole</code> and <code>IsTitleRole</code>),
which correspond to <code>Qt::UserRole</code> and <code>Qt::UserRole+1</code>. Therefore,
if you need to define other custom roles, please have them start from
<code>Ruber::OutputWidget::IsTitleRole+1</code>.</p>
<h3>Output types</h3>
<p>The <code>output_type</code> of an entry in the model can be set using the <span class='object_link'><a href="#set_output_type-instance_method" title="Ruber::OutputWidget#set_output_type (method)">#set_output_type</a></span>
method. This has two effects: first, the item will be displayed using the color
chosen by the user for that output type; second, the name of the output type will
be stored in that item under the custom role <code>OutputTypeRole</code>.</p>
<p>There are several predefined output types: <code>message</code>, <code>message_good</code>,
<code>message_bad</code>, <code>output</code>,
<code>output1</code>, <code>output2</code>, <code>warning</code>, <code>warning1</code>, <code>warning2</code>, <code>error</code>, <code>error1</code> and <code>error2</code>.
The types ending with a number
can be used when you need different types with similar meaning.</p>
<p>The <code>message</code> type
(and its variations) are meant to display messages which don&#8217;t come from the external
program but from Ruber itself (for example, a message telling that the external
problem exited successfully or exited with an error). Its good and bad version are
meant to display messages with good news and bad news respectively (for example:
&#8220;the program exited successfully&#8221; could be displayed using the <code>message_good</code>
type, while &#8220;the program crashed&#8221; could be displayed using the <code>message_bad</code>
type).</p>
<p>The <code>output</code> type is meant
to be used to show the text written by the external program on standard output,
while the <code>error</code> type is used to display the text written on standard error. If
you can distinguish between warning and errors, you can use the <code>warning</code> type
for the latter.</p>
<p>The colors for the default output types are chosen by the user from the configuration
dialog and are used whenever those output types are requested.</p>
<p>New output types (and their associated colors) can be make known to the output
widget by using the <code>set_color_for</code> method. There&#8217;s no need to remove the
color, for example when the plugin is unloaded (indeed, there&#8217;s no way to do so).</p>
<h3>The context menu</h3>
<p>This widget automatically creates a context menu containing three actions: Copy,
Copy Selected and Clear. Copy and Copy Selected copy the text contained respectively
in all the items and in the selected items to the clipboard. The clear action 
removes all the entries from the model.</p>
<p>You can add other actions to the menu by performing the following steps:</p>
<ul>
	<li>add an entry in the appropriate position of <span class='object_link'><a href="#action_list-instance_method" title="Ruber::OutputWidget#action_list (method)">#action_list</a></span>. Note
  that this is an instance of ActionList, so it provides the <span class='object_link'><a href="OutputWidget/ActionList.html#insert_after-instance_method" title="Ruber::OutputWidget::ActionList#insert_after (method)">insert_after</a></span>
  and <span class='object_link'><a href="OutputWidget/ActionList.html#insert_before-instance_method" title="Ruber::OutputWidget::ActionList#insert_before (method)">insert_before</a></span> methods which allow to easily put the actions in the
  correct place. <span class='object_link'><a href="#action_list-instance_method" title="Ruber::OutputWidget#action_list (method)">#action_list</a></span> contains the <code>object_name</code> of
  the actions (and <strong>nil</strong> for the separators), not the action themselves</li>
	<li>create the actions (setting their <code>object_name</code> to the values inserted
  in <span class='object_link'><a href="#action_list-instance_method" title="Ruber::OutputWidget#action_list (method)">#action_list</a></span>) and put them into the <span class='object_link'><a href="#actions-instance_method" title="Ruber::OutputWidget#actions (method)">#actions</a></span> hash, using the <code>object_name</code>
  as keys. Of course, you also need to define the appropriate slots and connect
  them to the actions&#8217; signals.</li>
</ul>
<p>Note that actions can only be added <em>before</em> the menu is first shown (usually, you
do that in the widget&#8217;s constructor). The <span class='object_link'><a href="#about_to_fill_menu-signalcode" title="Ruber::OutputWidget#about_to_fill_menu (signalcode)">#about_to_fill_menu</a></span> signal is
emitted just before the menu is built: this is the last time you can add entries
to it.</p>
<p><span class='object_link'><a href="" title="Ruber::OutputWidget (class)">OutputWidget</a></span> mixes in the <span class='object_link'><a href="GuiStatesHandler.html" title="Ruber::GuiStatesHandler (module)">GuiStatesHandler</a></span> module, which means you can define states
to enable and disable actions as usual. By default, two states are defined: <code>no_text</code>
and <code>no_selection</code>. As the names imply, the former is <strong>true</strong> when the model
is empty and <strong>false</strong> when there&#8217;s at least one item; the second is <strong>true</strong> when no
item is selected and <strong>false</strong> when there are selected items.</p>
<p>For the menu to be displayed automatically, the view should have a <code>context_menu_requested(QPoint)</code>
signal. The menu will be displayed in response to that signal, at the point given
as argument. For convenience, there are three classes <span class='object_link'><a href="OutputWidget/ListView.html" title="Ruber::OutputWidget::ListView (class)">ListView</a></span>,
<span class='object_link'><a href="OutputWidget/TreeView.html" title="Ruber::OutputWidget::TreeView (class)">TreeView</a></span> and <span class='object_link'><a href="OutputWidget/TableView.html" title="Ruber::OutputWidget::TableView (class)">TableView</a></span>, derived 
respectively from <code>Qt::ListView</code>, <code>Qt::TreeView</code> and <code>Qt::TableView</code>
which emit that signal from their <code>contextMenuEvent</code> method. If you use
one of these classes as view, the menu will work automatically.</p>
<h3>Autoscrolling</h3>
<p>Whenever an item is added to the list, the view will be scrolled so that the added
item is visible. Plugins which don&#8217;t want this feature can disable it by setting
<span class='object_link'><a href="#auto_scroll-instance_method" title="Ruber::OutputWidget#auto_scroll (method)">#auto_scroll</a></span> to <strong>false</strong>. Note that auto scrolling won&#8217;t happen if an item
is modified or removed</p>
<h3>Word wrapping</h3>
<p>If the user has enabled word wrapping for output widgets in the config dialog 
(the <code>general/wrap_output</code> option), word wrapping will be automatically enabled for
all output widgets. If the user has disabled it, it will be disabled for all
widgets.</p>
<p>Subclasses can avoid the automatic behaviour by setting the <span class='object_link'><a href="#ignore_word_wrap_option-instance_method" title="Ruber::OutputWidget#ignore_word_wrap_option (method)">#ignore_word_wrap_option</a></span>
attribute to <strong>true</strong> and managing word wrap by themselves. This is mostly useful
for output widgets for which word wrap is undesirable or meaningless.</p>
<h3>Opening files in the editor</h3>
<p>Whenever the user activates an item, the text of the item is searched for a filename
(and optionally for a line number). If it&#8217;s found, a new editor view is opened
and the file is displayed in it. The editor can be an already existing editor
or a new one created by splitting the current editor or in a new tab, according to
the <code>general/tool_open_files</code> option.</p>
<p>This process uses four methods:</p>
<dl>
	<dt><span class='object_link'><a href="#maybe_open_file-instance_method" title="Ruber::OutputWidget#maybe_open_file (method)">#maybe_open_file</a></span></dt>
	<dd>the method connected to the view&#8217;s <code>activated(QModelIndex)</code> signal. It
starts the search for the filename and, if successful, opens the editor view</dd>
	<dt><span class='object_link'><a href="#find_filename_in_index-instance_method" title="Ruber::OutputWidget#find_filename_in_index (method)">#find_filename_in_index</a></span></dt>
	<dd>performs the search of the filename. By default, it uses <span class='object_link'><a href="#find_filename_in_string-instance_method" title="Ruber::OutputWidget#find_filename_in_string (method)">#find_filename_in_string</a></span>,
but subclasses can override it to change the behaviour</dd>
	<dt><span class='object_link'><a href="#find_filename_in_string-instance_method" title="Ruber::OutputWidget#find_filename_in_string (method)">#find_filename_in_string</a></span></dt>
	<dd>the method used by default by <span class='object_link'><a href="#find_filename_in_index-instance_method" title="Ruber::OutputWidget#find_filename_in_index (method)">#find_filename_in_index</a></span> to find the
filename.</dd>
	<dt>#display_file</dt>
	<dd>opens the file in an editor. By default uses the <code>general/tool_open_files</code>
  to decide how the editor should be created, but this behaviour can be overridden
  by subclasses.</dd>
</dl>
<p>If a relative filename is found, it&#8217;s considered relative to the directory contained
in the <span class='object_link'><a href="#working_dir-instance_method" title="Ruber::OutputWidget#working_dir (method)">#working_dir</a></span> attribute.</p>
<h3><span class='object_link'><a href="OutputWidget/Model.html" title="Ruber::OutputWidget::Model (class)">Model</a></span></h3>
<p>The <span class='object_link'><a href="OutputWidget/Model.html" title="Ruber::OutputWidget::Model (class)">Model</a></span> class behaves as a standard <code>Qt::StandardItemModel</code>, but
provides two methods, <span class='object_link'><a href="OutputWidget/Model.html#insert-instance_method" title="Ruber::OutputWidget::Model#insert (method)">insert</a></span> and
<span class='object_link'><a href="OutputWidget/Model.html#insert_lines-instance_method" title="Ruber::OutputWidget::Model#insert_lines (method)">insert_lines</a></span> which make easier adding items. You
aren&#8217;t forced to use this model, however: if you want to use another class,
pass it to the constructor.</p>

  </div>
</div>
<div class="tags">
  
</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="FilteredOutputWidget.html" title="Ruber::FilteredOutputWidget (class)">FilteredOutputWidget</a></span>, <span class='object_link'><a href="FindInFiles/ReplaceWidget.html" title="Ruber::FindInFiles::ReplaceWidget (class)">FindInFiles::ReplaceWidget</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="OutputWidget/ActionList.html" title="Ruber::OutputWidget::ActionList (class)">ActionList</a></span>, <span class='object_link'><a href="OutputWidget/ListView.html" title="Ruber::OutputWidget::ListView (class)">ListView</a></span>, <span class='object_link'><a href="OutputWidget/Model.html" title="Ruber::OutputWidget::Model (class)">Model</a></span>, <span class='object_link'><a href="OutputWidget/TableView.html" title="Ruber::OutputWidget::TableView (class)">TableView</a></span>, <span class='object_link'><a href="OutputWidget/TreeView.html" title="Ruber::OutputWidget::TreeView (class)">TreeView</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="OutputTypeRole-constant" class="">OutputTypeRole =
          <div class="docstring">
  <div class="discussion">
    <p>The role which contains a string with the output type of the index</p>

  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='const'>Qt</span><span class='op'>::</span><span class='const'>UserRole</span></pre></dd>
      
        <dt id="IsTitleRole-constant" class="">IsTitleRole =
          <div class="docstring">
  <div class="discussion">
    <p>The role which contains whether an item is or not the title</p>

  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='const'>OutputTypeRole</span> <span class='op'>+</span> <span class='int'>1</span></pre></dd>
      
    </dl>
  


  
  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#action_list-instance_method" title="#action_list (instance method)">- (ActionList) <strong>action_list</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>The names of the action to use to build the menu.</p></div></span>
  
</li>

    
      <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#actions-instance_method" title="#actions (instance method)">- (Hash{String =&gt; KDE::Action}) <strong>actions</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>The actions to insert in the menu.</p></div></span>
  
</li>

    
      <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#auto_scroll-instance_method" title="#auto_scroll (instance method)">- (Boolean) <strong>auto_scroll</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether auto scrolling should be enabled or not (default: <strong>true</strong>).</p></div></span>
  
</li>

    
      <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#ignore_word_wrap_option-instance_method" title="#ignore_word_wrap_option (instance method)">- (Boolean) <strong>ignore_word_wrap_option</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether or not word wrapping should respect the <code>general/wrap_output</code> option (default: <strong>false</strong>).</p></div></span>
  
</li>

    
      <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#model-instance_method" title="#model (instance method)">- (Qt::AbstractItemModel) <strong>model</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The model used by the <span class='object_link'><a href="" title="Ruber::OutputWidget (class)">OutputWidget</a></span>.</p></div></span>
  
</li>

    
      <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#skip_first_file_in_title-instance_method" title="#skip_first_file_in_title (instance method)">- (Boolean) <strong>skip_first_file_in_title</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether or not to <span class='object_link'><a href="#find_filename_in_index-instance_method" title="Ruber::OutputWidget#find_filename_in_index (method)">#find_filename_in_index</a></span> should skip the first
file name in the title.</p></div></span>
  
</li>

    
      <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#view-instance_method" title="#view (instance method)">- (Qt::AbstractItemView) <strong>view</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The view used by the OutputWidget.</p></div></span>
  
</li>

    
      <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#working_dir-instance_method" title="#working_dir (instance method)">- (String) <strong>working_dir</strong> </a>
    

    
      (also: #working_directory)
    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The directory used to resolve relative paths when opening a file (default <strong>nil</strong>).</p></div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#clear_output-instance_method" title="#clear_output (instance method)">- (nil) <strong>clear_output</strong> </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Removes all the entries from the model.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#copy-instance_method" title="#copy (instance method)">- (nil) <strong>copy</strong> </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Slot connected to the &#8216;Copy&#8217; action.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#copy_selected-instance_method" title="#copy_selected (instance method)">- (nil) <strong>copy_selected</strong> </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Slot connected to the &#8216;Copy Selection&#8217; action.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#create_standard_actions-instance_method" title="#create_standard_actions (instance method)">- (nil) <strong>create_standard_actions</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates the default actions for the context menu.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#create_widgets-instance_method" title="#create_widgets (instance method)">- (nil) <strong>create_widgets</strong>(view) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates the layout and the view.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#do_auto_scroll-instance_method" title="#do_auto_scroll (instance method)">- (nil) <strong>do_auto_scroll</strong>(parent, start_idx, end_idx) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Slot called whenever rows are inserted in the model.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#fill_menu-instance_method" title="#fill_menu (instance method)">- (nil) <strong>fill_menu</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates the context menu.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#find_filename_in_index-instance_method" title="#find_filename_in_index (instance method)">- (Array(String,Integer)<sup>?</sup>) <strong>find_filename_in_index</strong>(idx) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Searches in the display role of the given index for a file name.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#find_filename_in_string-instance_method" title="#find_filename_in_string (instance method)">- (Array(String,Integer), ...) <strong>find_filename_in_string</strong>(str) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Searches the given string for the first occurrence of a file name.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#has_title%3F-instance_method" title="#has_title? (instance method)">- (Boolean) <strong>has_title?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether or not the output widget has a title.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#hints-instance_method" title="#hints (instance method)">- (Hash) <strong>hints</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>The hints to pass to <span class='object_link'><a href="MainWindow.html#display_document-instance_method" title="Ruber::MainWindow#display_document (method)">MainWindow#display_document</a></span>.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (OutputWidget) <strong>initialize</strong>(parent = nil, opts = {}) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of OutputWidget.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#load_settings-instance_method" title="#load_settings (instance method)">- (nil) <strong>load_settings</strong> </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Loads the settings from the configuration file.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#maybe_open_file-instance_method" title="#maybe_open_file (instance method)">- (EditorView<sup>?</sup>) <strong>maybe_open_file</strong>(idx) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Attempts to display the file whose name is contained in the given index.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#pinned_down%3F-instance_method" title="#pinned_down? (instance method)">- (Boolean) <strong>pinned_down?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#rows_changed-instance_method" title="#rows_changed (instance method)">- (nil) <strong>rows_changed</strong> </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Slot called whenever rows are added to or removed from the model.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#scroll_to-instance_method" title="#scroll_to (instance method)">- (nil) <strong>scroll_to</strong>(idx) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Scrolls the view so that the item corresponding the given index is visible.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#selection_changed-instance_method" title="#selection_changed (instance method)">- (nil) <strong>selection_changed</strong>(sel, desel) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Slot connected to the view&#8217;s selection model&#8217;s <code>selectionChanged</code> signal.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#set_color_for-instance_method" title="#set_color_for (instance method)">- (nil) <strong>set_color_for</strong>(name, color) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Associates a color with an output type.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#set_output_type-instance_method" title="#set_output_type (instance method)">- (Symbol<sup>?</sup>) <strong>set_output_type</strong>(idx, type) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Changes the output type of a given index.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#setup_model-instance_method" title="#setup_model (instance method)">- (nil) <strong>setup_model</strong>(mod) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Prepares the model to use.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#show_menu-instance_method" title="#show_menu (instance method)">- (ni;) <strong>show_menu</strong>(pt) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shows the menu.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#text_for_clipboard-instance_method" title="#text_for_clipboard (instance method)">- (String) <strong>text_for_clipboard</strong>(indexes) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Retrieves the text to copy to the clipboard from the given indexes.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#title%3D-instance_method" title="#title= (instance method)">- (nil) <strong>title</strong>(text) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Gives a title to the widget.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#update_index_color-instance_method" title="#update_index_color (instance method)">- (nil) <strong>update_index_color</strong>(idx) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Updates the color of an index and its children so that it matches their output types.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#with_auto_scrolling-instance_method" title="#with_auto_scrolling (instance method)">- (Object) <strong>with_auto_scrolling</strong>(val) { ... }</a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Executes a block while temporarily turning autoscrolling on or off.</p></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="GuiStatesHandler.html" title="Ruber::GuiStatesHandler (module)">GuiStatesHandler</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="GuiStatesHandler.html#change_state-instance_method" title="Ruber::GuiStatesHandler#change_state (method)">#change_state</a></span>, <span class='object_link'><a href="GuiStatesHandler.html#included-class_method" title="Ruber::GuiStatesHandler.included (method)">included</a></span>, <span class='object_link'><a href="GuiStatesHandler.html#initialize_states_handler-instance_method" title="Ruber::GuiStatesHandler#initialize_states_handler (method)">#initialize_states_handler</a></span>, <span class='object_link'><a href="GuiStatesHandler.html#register_action_handler-instance_method" title="Ruber::GuiStatesHandler#register_action_handler (method)">#register_action_handler</a></span>, <span class='object_link'><a href="GuiStatesHandler.html#remove_action_handler_for-instance_method" title="Ruber::GuiStatesHandler#remove_action_handler_for (method)">#remove_action_handler_for</a></span>, <span class='object_link'><a href="GuiStatesHandler.html#state-instance_method" title="Ruber::GuiStatesHandler#state (method)">#state</a></span></p>

  

  <h2>Signal Summary</h2>
  <ul class="summary" >
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#about_to_fill_menu-signalcode" title="about_to_fill_menu (signalcode)">- <strong>about_to_fill_menu</strong> </a>
      </span>
      <span class="summary_desc"><div class='inline'><p>Signal emitted immediately before the menu is created.</p></div></span>
    </li>
  
  </ul>





<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Ruber::OutputWidget (class)">OutputWidget</a></span></tt>) <strong>initialize</strong>(parent = nil, opts = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>A new instance of OutputWidget</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Qt::Widget</tt>, <tt>nil</tt>)</span>
      
      
        <span class='name'>the</span>
      
      
      
        &mdash;
        <div class='inline'><p>parent widget</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>opts</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>fine-tune the new widget</p></div>
      
    </li>
  
</ul>

  
    
    
    
    
    <h3>Options Hash (<tt>opts</tt>):</h3>
    <ul class="option">
      
        <li>
          <span class="type">(<tt>Qt::AbstractItemView</tt>, <tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
          <span class="name">:view</span>
          <span class="default">
            
              &mdash; default:
              <tt>:list</tt>
            
          </span>
          &mdash; <div class='inline'><p>the view to use for
the widget. If it is an instance of a subclass of <code>Qt::AbstractItemView</code>, it&#8217;ll
be used as it is (and the new widget will become a child of the output widget).
If it is a symbol, it can be either <code>:list</code>, <code>:tree</code> or <code>:table</code>. In this case,
a new instance respectively of <span class='object_link'><a href="OutputWidget/ListView.html" title="Ruber::OutputWidget::ListView (class)">ListView</a></span>, <span class='object_link'><a href="OutputWidget/TreeView.html" title="Ruber::OutputWidget::TreeView (class)">TreeView</a></span> or <span class='object_link'><a href="OutputWidget/TableView.html" title="Ruber::OutputWidget::TableView (class)">TableView</a></span> will be
created</p></div>
        </tr>
      
        <li>
          <span class="type">(<tt>Qt::AbstractItemModel</tt>, <tt>nil</tt>)</span>
          <span class="name">:model</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          &mdash; <div class='inline'><p>the model the output widget
should use. If <strong>nil</strong>, a new instance of <span class='object_link'><a href="OutputWidget/Model.html" title="Ruber::OutputWidget::Model (class)">Model</a></span> will be used</p></div>
        </tr>
      
        <li>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="name">:use_default_font</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          &mdash; <div class='inline'><p>whether or not the application&#8217;s
default font should by used for the output widget. By default, the font used
is the one the user set in the <code>general/output_font</code> option</p></div>
        </tr>
      
    </ul>
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 275</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span> <span class='id parent'>parent</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='ivar'>@ignore_word_wrap_option</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@working_dir</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@skip_first_file_in_title</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@use_default_font</span> <span class='op'>=</span> <span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:use_default_font</span><span class='rbracket'>]</span>
  
  <span class='kw'>super</span> <span class='id parent'>parent</span>
  <span class='id initialize_states_handler'>initialize_states_handler</span>
  <span class='id create_widgets'>create_widgets</span><span class='lparen'>(</span><span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:view</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='symbol'>:list</span><span class='rparen'>)</span>
  <span class='id setup_model'>setup_model</span> <span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:model</span><span class='rbracket'>]</span>
  <span class='id connect'>connect</span> <span class='ivar'>@view</span><span class='period'>.</span><span class='id selection_model'>selection_model</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>selectionChanged(QItemSelection, QItemSelection)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>selection_changed(QItemSelection, QItemSelection)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='ivar'>@view</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>activated(QModelIndex)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>maybe_open_file(QModelIndex)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='ivar'>@auto_scroll</span> <span class='op'>=</span> <span class='kw'>true</span>
  
  <span class='ivar'>@colors</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@action_list</span> <span class='op'>=</span> <span class='const'>ActionList</span><span class='period'>.</span><span class='id new'>new</span> 
  <span class='ivar'>@action_list</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>copy</span><span class='tstring_end'>'</span></span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>copy_selected</span><span class='tstring_end'>'</span></span> <span class='op'>&lt;&lt;</span> <span class='kw'>nil</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>clear</span><span class='tstring_end'>'</span></span>
  <span class='ivar'>@actions</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  
  <span class='id connect'>connect</span> <span class='ivar'>@view</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>context_menu_requested(QPoint)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>show_menu(QPoint)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  
  <span class='ivar'>@menu</span> <span class='op'>=</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>Menu</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>self</span>
  
  <span class='id create_standard_actions'>create_standard_actions</span>
  <span class='id change_state'>change_state</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>no_text</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='kw'>true</span>
  <span class='id change_state'>change_state</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>no_selection</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="action_list-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="action_list-instance_method">
  
    - (<tt><span class='object_link'><a href="OutputWidget/ActionList.html" title="Ruber::OutputWidget::ActionList (class)">ActionList</a></span></tt>) <strong>action_list</strong>  <span class="extras">(readonly, private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The names of the action to use to build the menu</p>
<p>Separators are represented by <strong>nil</strong> entries. The default is
<code>['copy', 'copy_selected', nil, 'clear']</code>.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="OutputWidget/ActionList.html" title="Ruber::OutputWidget::ActionList (class)">ActionList</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the names of the action to use to build the menu</p>
<p>Separators are represented by <strong>nil</strong> entries. The default is
<code>['copy', 'copy_selected', nil, 'clear']</code>.</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 238</span>

<span class='kw'>def</span> <span class='id action_list'>action_list</span>
  <span class='ivar'>@action_list</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="actions-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="actions-instance_method">
  
    - (<tt>Hash{<span class='object_link'><a href="../String.html" title="String (class)">String</a></span> =&gt; KDE::Action}</tt>) <strong>actions</strong>  <span class="extras">(readonly, private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The actions to insert in the menu</p>
<p>Each action is inserted using its <code>object_name</code> as key. By default, the hash
contains the &#8216;copy&#8217;, &#8216;copy_selected&#8217; and &#8216;clear&#8217; actions.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Hash{<span class='object_link'><a href="../String.html" title="String (class)">String</a></span> =&gt; KDE::Action}</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the actions to insert in the menu</p>
<p>Each action is inserted using its <code>object_name</code> as key. By default, the hash
contains the &#8216;copy&#8217;, &#8216;copy_selected&#8217; and &#8216;clear&#8217; actions.</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


246
247
248</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 246</span>

<span class='kw'>def</span> <span class='id actions'>actions</span>
  <span class='ivar'>@actions</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="auto_scroll=-instance_method"></span>
      <span id="auto_scroll-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="auto_scroll-instance_method">
  
    - (<tt>Boolean</tt>) <strong>auto_scroll</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Whether auto scrolling should be enabled or not (default: <strong>true</strong>)</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>whether auto scrolling should be enabled or not (default: <strong>true</strong>)</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


212
213
214</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 212</span>

<span class='kw'>def</span> <span class='id auto_scroll'>auto_scroll</span>
  <span class='ivar'>@auto_scroll</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="ignore_word_wrap_option=-instance_method"></span>
      <span id="ignore_word_wrap_option-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="ignore_word_wrap_option-instance_method">
  
    - (<tt>Boolean</tt>) <strong>ignore_word_wrap_option</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Whether or not word wrapping should respect the <code>general/wrap_output</code> option (default: <strong>false</strong>)</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>whether or not word wrapping should respect the <code>general/wrap_output</code> option (default: <strong>false</strong>)</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


217
218
219</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 217</span>

<span class='kw'>def</span> <span class='id ignore_word_wrap_option'>ignore_word_wrap_option</span>
  <span class='ivar'>@ignore_word_wrap_option</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="model-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="model-instance_method">
  
    - (<tt>Qt::AbstractItemModel</tt>) <strong>model</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The model used by the <span class='object_link'><a href="" title="Ruber::OutputWidget (class)">Ruber::OutputWidget</a></span></p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Qt::AbstractItemModel</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the model used by the <span class='object_link'><a href="" title="Ruber::OutputWidget (class)">Ruber::OutputWidget</a></span></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 251</span>

<span class='kw'>def</span> <span class='id model'>model</span>
  <span class='ivar'>@model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="skip_first_file_in_title=-instance_method"></span>
      <span id="skip_first_file_in_title-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="skip_first_file_in_title-instance_method">
  
    - (<tt>Boolean</tt>) <strong>skip_first_file_in_title</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Whether or not to <span class='object_link'><a href="#find_filename_in_index-instance_method" title="Ruber::OutputWidget#find_filename_in_index (method)">#find_filename_in_index</a></span> should skip the first
file name in the title</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>whether or not to <span class='object_link'><a href="#find_filename_in_index-instance_method" title="Ruber::OutputWidget#find_filename_in_index (method)">#find_filename_in_index</a></span> should skip the first
file name in the title</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 230</span>

<span class='kw'>def</span> <span class='id skip_first_file_in_title'>skip_first_file_in_title</span>
  <span class='ivar'>@skip_first_file_in_title</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="view-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="view-instance_method">
  
    - (<tt>Qt::AbstractItemView</tt>) <strong>view</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The view used by the OutputWidget</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Qt::AbstractItemView</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the view used by the OutputWidget</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 256</span>

<span class='kw'>def</span> <span class='id view'>view</span>
  <span class='ivar'>@view</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="working_dir=-instance_method"></span>
      <span id="working_dir-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="working_dir-instance_method">
  
    - (<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>) <strong>working_dir</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='working_directory-instance_method'>working_directory</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>The directory used to resolve relative paths when opening a file (default <strong>nil</strong>)</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the directory used to resolve relative paths when opening a file (default <strong>nil</strong>)</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 222</span>

<span class='kw'>def</span> <span class='id working_dir'>working_dir</span>
  <span class='ivar'>@working_dir</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="clear_output-instance_method">
  
    - (<tt>nil</tt>) <strong>clear_output</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Removes all the entries from the model</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


459
460
461
462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 459</span>

<span class='kw'>def</span> <span class='id clear_output'>clear_output</span>
  <span class='ivar'>@model</span><span class='period'>.</span><span class='id remove_rows'>remove_rows</span> <span class='int'>0</span><span class='comma'>,</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id row_count'>row_count</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>clear_output()</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="copy-instance_method">
  
    - (<tt>nil</tt>) <strong>copy</strong>  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Slot connected to the &#8216;Copy&#8217; action.</p>
<p>It copies the content of all the items to the clipboard. The text is obtained
from the items by calling <span class='object_link'><a href="#text_for_clipboard-instance_method" title="Ruber::OutputWidget#text_for_clipboard (method)">#text_for_clipboard</a></span>.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 631</span>

<span class='kw'>def</span> <span class='id copy'>copy</span>
  <span class='id items'>items</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id stack'>stack</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@model</span><span class='period'>.</span><span class='id row_count'>row_count</span><span class='period'>.</span><span class='id times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id r'>r</span><span class='op'>|</span>
    <span class='ivar'>@model</span><span class='period'>.</span><span class='id column_count'>column_count</span><span class='period'>.</span><span class='id times'>times</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span> <span class='id stack'>stack</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id index'>index</span><span class='lparen'>(</span><span class='id r'>r</span><span class='comma'>,</span> <span class='id c'>c</span><span class='rparen'>)</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='kw'>until</span> <span class='id stack'>stack</span><span class='period'>.</span><span class='id empty?'>empty?</span>
    <span class='id it'>it</span> <span class='op'>=</span>  <span class='id stack'>stack</span><span class='period'>.</span><span class='id shift'>shift</span>
    <span class='id items'>items</span> <span class='op'>&lt;&lt;</span> <span class='id it'>it</span>
    <span class='lparen'>(</span><span class='ivar'>@model</span><span class='period'>.</span><span class='id row_count'>row_count</span><span class='lparen'>(</span><span class='id it'>it</span><span class='rparen'>)</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id downto'>downto</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id r'>r</span><span class='op'>|</span>
      <span class='lparen'>(</span><span class='ivar'>@model</span><span class='period'>.</span><span class='id column_count'>column_count</span><span class='lparen'>(</span><span class='id it'>it</span><span class='rparen'>)</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id downto'>downto</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span> <span class='id stack'>stack</span><span class='period'>.</span><span class='id unshift'>unshift</span> <span class='id it'>it</span><span class='period'>.</span><span class='id child'>child</span><span class='lparen'>(</span><span class='id r'>r</span><span class='comma'>,</span> <span class='id c'>c</span><span class='rparen'>)</span><span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id clp'>clp</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Application</span><span class='period'>.</span><span class='id clipboard'>clipboard</span>
  <span class='id clp'>clp</span><span class='period'>.</span><span class='id text'>text</span> <span class='op'>=</span> <span class='id text_for_clipboard'>text_for_clipboard</span> <span class='id items'>items</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>copy()</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="copy_selected-instance_method">
  
    - (<tt>nil</tt>) <strong>copy_selected</strong>  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Slot connected to the &#8216;Copy Selection&#8217; action.</p>
<p>It copies the content of all the items to the clipboard. The text is obtained
from the items by calling <span class='object_link'><a href="#text_for_clipboard-instance_method" title="Ruber::OutputWidget#text_for_clipboard (method)">#text_for_clipboard</a></span>.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


656
657
658
659</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 656</span>

<span class='kw'>def</span> <span class='id copy_selected'>copy_selected</span>
  <span class='id clp'>clp</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Application</span><span class='period'>.</span><span class='id clipboard'>clipboard</span>
  <span class='id clp'>clp</span><span class='period'>.</span><span class='id text'>text</span> <span class='op'>=</span> <span class='id text_for_clipboard'>text_for_clipboard</span> <span class='ivar'>@view</span><span class='period'>.</span><span class='id selection_model'>selection_model</span><span class='period'>.</span><span class='id selected_indexes'>selected_indexes</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>copy_selected()</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="create_standard_actions-instance_method">
  
    - (<tt>nil</tt>) <strong>create_standard_actions</strong>  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Creates the default actions for the context menu</p>
<p>It also sets up the gui state handlers for them</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


609
610
611
612
613
614
615
616
617
618
619
620
621
622</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 609</span>

<span class='kw'>def</span> <span class='id create_standard_actions'>create_standard_actions</span>
  <span class='ivar'>@actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>copy</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Action</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id a'>a</span><span class='op'>|</span> <span class='id a'>a</span><span class='period'>.</span><span class='id text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;Copy</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span>
  <span class='ivar'>@actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>copy_selected</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Action</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id a'>a</span><span class='op'>|</span> <span class='id a'>a</span><span class='period'>.</span><span class='id text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;Copy Selection</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span>
  <span class='ivar'>@actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>clear</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Action</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id a'>a</span><span class='op'>|</span> <span class='id a'>a</span><span class='period'>.</span><span class='id text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>C&amp;lear</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span>
  <span class='id register_action_handler'>register_action_handler</span> <span class='ivar'>@actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>copy</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>!no_text</span><span class='tstring_end'>'</span></span>
  <span class='id register_action_handler'>register_action_handler</span> <span class='ivar'>@actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>copy_selected</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>no_text</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>no_selection</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id s'>s</span><span class='op'>|</span>
    <span class='op'>!</span><span class='lparen'>(</span><span class='id s'>s</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>no_text</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id s'>s</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>no_selection</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id register_action_handler'>register_action_handler</span>  <span class='ivar'>@actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>clear</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>!no_text</span><span class='tstring_end'>'</span></span>
  <span class='id connect'>connect</span> <span class='ivar'>@actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>copy</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='symbol'>:triggered</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='symbol'>:copy</span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='ivar'>@actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>copy_selected</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='symbol'>:triggered</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='symbol'>:copy_selected</span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='ivar'>@actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>clear</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='symbol'>:triggered</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='symbol'>:clear_output</span><span class='rparen'>)</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_widgets-instance_method">
  
    - (<tt>nil</tt>) <strong>create_widgets</strong>(view)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Creates the layout and the view</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>AbstractItemView</tt>, <tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
        <span class='name'>view</span>
      
      
      
        &mdash;
        <div class='inline'><p>the view to use. Has the same meaning as the
<code>:view</code> option to <span class='object_link'><a href="#initialize-instance_method" title="Ruber::OutputWidget#initialize (method)">#initialize</a></span></p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 585</span>

<span class='kw'>def</span> <span class='id create_widgets'>create_widgets</span> <span class='id view'>view</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id layout'>layout</span> <span class='op'>=</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>GridLayout</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id view'>view</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Qt</span><span class='op'>::</span><span class='const'>Widget</span><span class='rparen'>)</span>
    <span class='ivar'>@view</span> <span class='op'>=</span> <span class='id view'>view</span>
    <span class='ivar'>@view</span><span class='period'>.</span><span class='id parent'>parent</span> <span class='op'>=</span> <span class='kw'>self</span>
  <span class='kw'>else</span> <span class='ivar'>@view</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id const_get'>const_get</span><span class='lparen'>(</span><span class='id view'>view</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='period'>.</span><span class='id capitalize'>capitalize</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>View</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>self</span>
  <span class='kw'>end</span>
  <span class='ivar'>@view</span><span class='period'>.</span><span class='id selection_mode'>selection_mode</span> <span class='op'>=</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>AbstractItemView</span><span class='op'>::</span><span class='const'>ExtendedSelection</span>
  <span class='ivar'>@pin_button</span> <span class='op'>=</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>ToolButton</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>self</span>
  <span class='ivar'>@pin_button</span><span class='period'>.</span><span class='id tool_tip'>tool_tip</span> <span class='op'>=</span> <span class='id i18n'>i18n</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Don't hide the tool widget when clicking on a file name</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@pin_button</span><span class='period'>.</span><span class='id auto_raise'>auto_raise</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@pin_button</span><span class='period'>.</span><span class='id icon'>icon</span> <span class='op'>=</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>Icon</span><span class='period'>.</span><span class='id new'>new</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Global</span><span class='period'>.</span><span class='id dirs'>dirs</span><span class='period'>.</span><span class='id find_resource'>find_resource</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>icon</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>pin.png</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='ivar'>@pin_button</span><span class='period'>.</span><span class='id checkable'>checkable</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id layout'>layout</span><span class='period'>.</span><span class='id add_widget'>add_widget</span> <span class='ivar'>@view</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>0</span>
  <span class='id layout'>layout</span><span class='period'>.</span><span class='id add_widget'>add_widget</span> <span class='ivar'>@pin_button</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>AlignRight</span> <span class='op'>|</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>AlignVCenter</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="do_auto_scroll-instance_method">
  
    - (<tt>nil</tt>) <strong>do_auto_scroll</strong>(parent, start_idx, end_idx)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong> 
    <div class='inline'><p>all indexes are considered relative to the model associated with the view,
not to the model returned by <span class='object_link'><a href="#model-instance_method" title="Ruber::OutputWidget#model (method)">#model</a></span>. This doesn&#8217; matter for <span class='object_link'><a href="" title="Ruber::OutputWidget (class)">Ruber::OutputWidget</a></span> itself,
but makes a difference in sublclasses where the two models are different (for
example, <span class='object_link'><a href="FilteredOutputWidget.html" title="Ruber::FilteredOutputWidget (class)">FilteredOutputWidget</a></span>)</p></div>
  </div>

<p>Slot called whenever rows are inserted in the model</p>
<p>If autoscrolling is enabled, it scrolls so that the last row inserted is at the
bottom of the widget. It does nothing if autoscrolling is disabled.</p>
<p>If the scrollbar slider is not at the bottom of the scroll bar, autoscrolling
isn&#8217;t done, regardless of the option. This is because it&#8217;s likely that the user
moved the slider, which may mean he&#8217;s looking at some particular lines of output
and he wouldn&#8217;t like them to scroll away.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Qt::ModelIndex</tt>)</span>
      
      
        <span class='name'>parent</span>
      
      
      
        &mdash;
        <div class='inline'><p>the parent index of the inserted rows</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Qt::ModelIndex</tt>)</span>
      
      
        <span class='name'>start_idx</span>
      
      
      
        &mdash;
        <div class='inline'><p>the index corresponding to the first inserted
row (unused)</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Qt::ModelIndex</tt>)</span>
      
      
        <span class='name'>end_idx</span>
      
      
      
        &mdash;
        <div class='inline'><p>the index correspodnding to the last inserted row</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


534
535
536
537
538
539
540</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 534</span>

<span class='kw'>def</span> <span class='id do_auto_scroll'>do_auto_scroll</span> <span class='id parent'>parent</span><span class='comma'>,</span> <span class='id start_idx'>start_idx</span><span class='comma'>,</span> <span class='id end_idx'>end_idx</span>
  <span class='kw'>if</span> <span class='ivar'>@auto_scroll</span>
    <span class='id scroll_bar'>scroll_bar</span> <span class='op'>=</span> <span class='ivar'>@view</span><span class='period'>.</span><span class='id vertical_scroll_bar'>vertical_scroll_bar</span>
    <span class='id scroll_to'>scroll_to</span> <span class='ivar'>@view</span><span class='period'>.</span><span class='id model'>model</span><span class='period'>.</span><span class='id index'>index</span><span class='lparen'>(</span><span class='id end_idx'>end_idx</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id parent'>parent</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id scroll_bar'>scroll_bar</span><span class='period'>.</span><span class='id value'>value</span> <span class='op'>==</span> <span class='id scroll_bar'>scroll_bar</span><span class='period'>.</span><span class='id maximum'>maximum</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>do_auto_scroll(QModelIndex, int, int)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="fill_menu-instance_method">
  
    - (<tt>nil</tt>) <strong>fill_menu</strong>  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Creates the context menu</p>
<p>The menu is created using the values returned by <span class='object_link'><a href="#action_list-instance_method" title="Ruber::OutputWidget#action_list (method)">#action_list</a></span> and <span class='object_link'><a href="#actions-instance_method" title="Ruber::OutputWidget#actions (method)">#actions</a></span>.</p>
<p>Before creating the menu, the <span class='object_link'><a href="#about_to_fill_menu-signalcode" title="Ruber::OutputWidget#about_to_fill_menu (signalcode)">#about_to_fill_menu</a></span> signal is emitted. Connecting
to this signal allows to do some last-minute changes to the actions which will
be inserted in the menu.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


552
553
554
555
556
557
558
559</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 552</span>

<span class='kw'>def</span> <span class='id fill_menu'>fill_menu</span>
  <span class='id emit'>emit</span> <span class='id about_to_fill_menu'>about_to_fill_menu</span>
  <span class='ivar'>@action_list</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id a'>a</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id a'>a</span> <span class='kw'>then</span> <span class='ivar'>@menu</span><span class='period'>.</span><span class='id add_action'>add_action</span> <span class='ivar'>@actions</span><span class='lbracket'>[</span><span class='id a'>a</span><span class='rbracket'>]</span>
    <span class='kw'>else</span> <span class='ivar'>@menu</span><span class='period'>.</span><span class='id add_separator'>add_separator</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="find_filename_in_index-instance_method">
  
    - (<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>(<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>,Integer)</tt><sup>?</sup>) <strong>find_filename_in_index</strong>(idx)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Searches in the display role of the given index for a file name</p>
<p>This method is used by <span class='object_link'><a href="#maybe_open_file-instance_method" title="Ruber::OutputWidget#maybe_open_file (method)">#maybe_open_file</a></span> to find out the name of the file to open
(if any) when an item is activated.</p>
<p>The actual search for the file name is done by <span class='object_link'><a href="#find_filename_in_string-instance_method" title="Ruber::OutputWidget#find_filename_in_string (method)">#find_filename_in_string</a></span>. If it
reports a success, this method makes sure the file actually exists, expanding it
relative to <span class='object_link'><a href="#working_dir-instance_method" title="Ruber::OutputWidget#working_dir (method)">#working_dir</a></span> if it&#8217;s not an absolute path. If <span class='object_link'><a href="#working_dir-instance_method" title="Ruber::OutputWidget#working_dir (method)">#working_dir</a></span> is
not set, the current directory will be used. However, you&#8217;re advised not to relay
on this behaviour and always set the working directory.</p>
<p>If the given index is the title of the widget (see <span class='object_link'><a href="#title%3D-instance_method" title="Ruber::OutputWidget#title= (method)">#title=</a></span>) and <span class='object_link'><a href="#skip_first_file_in_title-instance_method" title="Ruber::OutputWidget#skip_first_file_in_title (method)">#skip_first_file_in_title</a></span>
is <strong>true</strong>, all the text from the beginning of the title up to the first whitespace
or colon is ignored. Since often the first word of the title is the name of the
program being run (which may as well be compiled), it doesn&#8217;t make sense to attempt
to open it. This behaviour allows the user to activate on a title like
<code>/usr/bin/ruby /path/to/script.rb</code> and see the file <code>/path/to/script.rb</code> in the
editor. Without it, <code>/usr/bin/ruby</code> would be opened instead.</p>
<p>Subclasses can override this method to extend or change its functionality. They
have two choices on how to do this. The simplest is useful if they want to alter
the string. In this case they can retrieve the text from the index, change it
then call <strong>super</strong> passing the modified string as argument. The other way is to
reimplement this method from scratch.</p>
<p>A subclass can also decide to completely disallow opening a file by activating the
corresponding item by overriding this method to always return <strong>nil</strong>.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Qt::ModelIndex</tt>, <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <span class='name'>idx</span>
      
      
      
        &mdash;
        <div class='inline'><p>the index or string to search a file name in.
The form which takes a string is usually used by subclasses which want to alter
the string without reimplementing all the functionality. Note that if <em>idx</em>
is a string, there&#8217;s no way to know whether it refers to the title or not, so
<span class='object_link'><a href="#skip_first_file_in_title-instance_method" title="Ruber::OutputWidget#skip_first_file_in_title (method)">#skip_first_file_in_title</a></span> is ignored</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>(<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>,Integer)</tt>, <tt>nil</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>if a file name is found (and the corresponding
file exists) an array containing the filename and the line number (or 0 if no
line number was found). If no suitable file is found, <strong>nil</strong> is returned</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 819</span>

<span class='kw'>def</span> <span class='id find_filename_in_index'>find_filename_in_index</span> <span class='id idx'>idx</span>
  <span class='id str'>str</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id idx'>idx</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='kw'>then</span> <span class='id idx'>idx</span>
  <span class='kw'>elsif</span> <span class='ivar'>@skip_first_file_in_title</span> <span class='kw'>and</span> <span class='id idx'>idx</span><span class='period'>.</span><span class='id data'>data</span><span class='lparen'>(</span><span class='const'>IsTitleRole</span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_bool'>to_bool</span>
      <span class='id idx'>idx</span><span class='period'>.</span><span class='id data'>data</span><span class='period'>.</span><span class='id to_string'>to_string</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[^\s:]+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span> <span class='id idx'>idx</span><span class='period'>.</span><span class='id data'>data</span><span class='period'>.</span><span class='id to_string'>to_string</span>
  <span class='kw'>end</span>
  <span class='id res'>res</span> <span class='op'>=</span> <span class='id find_filename_in_string'>find_filename_in_string</span> <span class='id str'>str</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id res'>res</span>
  <span class='id res'>res</span> <span class='op'>=</span> <span class='const'>Array</span> <span class='id res'>res</span>
  <span class='id res'>res</span> <span class='op'>&lt;&lt;</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='id res'>res</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
  <span class='comment'>#if res[0] is an url with scheme file:, transform it into a regular file
</span>  <span class='comment'>#name by removing the scheme and the two following slash
</span>  <span class='id res'>res</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id sub!'>sub!</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^file://</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
  <span class='kw'>if</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Url</span><span class='period'>.</span><span class='id file_url?'>file_url?</span><span class='lparen'>(</span><span class='id res'>res</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>then</span> <span class='id res'>res</span>
  <span class='kw'>else</span>
    <span class='id res'>res</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span> <span class='lparen'>(</span><span class='ivar'>@working_dir</span> <span class='op'>||</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id pwd'>pwd</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id res'>res</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='const'>Pathname</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id res'>res</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id absolute?'>absolute?</span>
    <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id exist?'>exist?</span><span class='lparen'>(</span><span class='id res'>res</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>and</span> <span class='op'>!</span><span class='const'>File</span><span class='period'>.</span><span class='id directory?'>directory?</span><span class='lparen'>(</span><span class='id res'>res</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id res'>res</span>
    <span class='kw'>else</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="find_filename_in_string-instance_method">
  
    - (<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>(<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>,Integer)</tt>, ...) <strong>find_filename_in_string</strong>(str)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Searches the given string for the first occurrence of a file name</p>
<p>The file name can optionally be followed by a colon and a line number.</p>
<p>What is a file name and what isn&#8217;t is a bit arbitrary. Here&#8217;s what this method
recognizes as a filename:</p>
<ul>
	<li>an absolute path not containing spaces and colons starting with &#8216;/&#8217;</li>
	<li>an absolute path not containing spaces and colons starting with &#8216;~&#8217; or &#8216;~user&#8217;
  (they&#8217;re expanded using <code>File.expand_path</code>)</li>
	<li>a relative path starting with <code>./</code> or <code>../</code> (either followed by a slash or not)</li>
	<li>a relative path of the form <code>.filename</code> or <code>.dirname/dir/file</code></li>
	<li>absolute URLs with an authority component</li>
	<li>any string not containing spaces or colons followed by a colon and a line number
  (in this case, the line number is required)</li>
</ul>
<p>File names enclosed in quotes or parentheses are recognized.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>(<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>,Integer)</tt>, <tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>(<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>)</tt>, <tt>nil</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>an array whose first element
is the file name and whose second element is the line number (if found) or
<strong>nil</strong> if no file name was found. Note that the file name can be relative</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888
889
890
891
892
893
894</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 863</span>

<span class='kw'>def</span> <span class='id find_filename_in_string'>find_filename_in_string</span> <span class='id str'>str</span>
  <span class='comment'>#This ensures that file names inside quotes or brackets are found. It's
</span>  <span class='comment'>#easier replacing quotes and brackets with spaces than to modify the main
</span>  <span class='comment'>#regexp to take them into account
</span>  <span class='id str'>str</span> <span class='op'>=</span> <span class='id str'>str</span><span class='period'>.</span><span class='id gsub'>gsub</span> <span class='tstring'><span class='regexp_beg'>%r|</span><span class='tstring_content'>['&quot;`&lt;&gt;\(\)\[\]\{\}]</span><span class='regexp_end'>|</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> </span><span class='tstring_end'>'</span></span>
  <span class='id matches'>matches</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id attempts'>attempts</span> <span class='op'>=</span> <span class='lbracket'>[</span>
    <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(?:^|\s)([\w+.-]+:/{1,2}(?:/[^/:\s]+)+)(?::(\d+))?(?:$|[,.;:\s])</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='comment'>#URLS
</span>    <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(?:^|\s)((?:/[^/\s:]+)+)(?::(\d+))?(?:$|[,.;:\s])</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='comment'>#absolute files
</span>    <span class='comment'>#absolute files referring to user home directory: ~/xyz or ~user/xyz
</span>    <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(?:^|\s)(~[\w_-]*(?:/[^/\s:]+)+)(?::(\d+))?(?:$|[,.;:\s])</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
    <span class='comment'>#relative files starting with ./ and ../
</span>    <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(?:^|\s)(\.{1,2}(?:/[^/\s:]+)+)(?::(\d+))?(?:$|[,.;:\s])</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
    <span class='comment'>#hidden files or directories (.filename or .dir/filename)
</span>    <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(?:^|\s)(\.[^/\s:]+(?:/[^/\s:]+)*)(?::(\d+))?(?:$|[,.;:\s])</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
    <span class='comment'>#relative files containing, but not ending with a slash
</span>    <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(?:^|\s)([^/\s:]+/[^\s:]*[^\s/:])(?::(\d+))?(?:$|[,.;:\s])</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
    <span class='comment'>#relative files not containing slashes but ending with the line number
</span>    <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(?:^|\s)([^/\s:]+):(\d+)(?:$|[,.;:\s])</span><span class='regexp_end'>}</span></span>
  <span class='rbracket'>]</span>
  <span class='id attempts'>attempts</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id a'>a</span><span class='op'>|</span>
    <span class='id m'>m</span> <span class='op'>=</span> <span class='id str'>str</span><span class='period'>.</span><span class='id match'>match</span> <span class='id a'>a</span>
    <span class='id matches'>matches</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id m'>m</span><span class='period'>.</span><span class='id begin'>begin</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span><span class='comma'>,</span><span class='lbracket'>[</span><span class='backref'>$1</span><span class='comma'>,</span><span class='backref'>$2</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id m'>m</span>
  <span class='kw'>end</span>
  <span class='id match'>match</span> <span class='op'>=</span> <span class='id matches'>matches</span><span class='period'>.</span><span class='id sort_by'>sort_by</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id i'>i</span><span class='op'>|</span> <span class='id i'>i</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id match'>match</span>
  <span class='id file'>file</span><span class='comma'>,</span> <span class='id line'>line</span> <span class='op'>=</span> <span class='op'>*</span><span class='id match'>match</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='id file'>file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id file'>file</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id file'>file</span><span class='period'>.</span><span class='id start_with?'>start_with?</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>~</span><span class='tstring_end'>'</span></span>
  <span class='id res'>res</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id file'>file</span><span class='rbracket'>]</span>
  <span class='id res'>res</span> <span class='op'>&lt;&lt;</span> <span class='id line'>line</span><span class='period'>.</span><span class='id to_i'>to_i</span> <span class='kw'>if</span> <span class='id line'>line</span>
  <span class='id res'>res</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="has_title?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>has_title?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Whether or not the output widget has a title</p>
<p>See <span class='object_link'><a href="#title%3D-instance_method" title="Ruber::OutputWidget#title= (method)">#title=</a></span> for what is meant here by title</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>whether or not the output widget has a title</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


426
427
428</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 426</span>

<span class='kw'>def</span> <span class='id has_title?'>has_title?</span>
  <span class='ivar'>@model</span><span class='period'>.</span><span class='id index'>index</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id data'>data</span><span class='lparen'>(</span><span class='const'>IsTitleRole</span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_bool'>to_bool</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="hints-instance_method">
  
    - (<tt>Hash</tt>) <strong>hints</strong>  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The hints to pass to <span class='object_link'><a href="MainWindow.html#display_document-instance_method" title="Ruber::MainWindow#display_document (method)">MainWindow#display_document</a></span></p>
<p>This method determines the hints to use according to the <code>general/tool_open_files</code>
option. Derived classes may override this method to provide different hints. The
values which can be used are the ones described for <span class='object_link'><a href="MainWindow.html#editor_for%21-instance_method" title="Ruber::MainWindow#editor_for! (method)">MainWindow#editor_for!</a></span>. Note,
however, that the <code>:existing</code> entry won&#8217;t be used.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>see the description for the <em>hints</em> argument of <span class='object_link'><a href="MainWindow.html#editor_for%21-instance_method" title="Ruber::MainWindow#editor_for! (method)">MainWindow#editor_for!</a></span></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


773
774
775
776
777
778
779</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 773</span>

<span class='kw'>def</span> <span class='id hints'>hints</span>
  <span class='kw'>case</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:config</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:general</span><span class='comma'>,</span> <span class='symbol'>:tool_open_files</span><span class='rbracket'>]</span>
  <span class='kw'>when</span> <span class='symbol'>:split_horizontally</span> <span class='kw'>then</span> <span class='lbrace'>{</span><span class='symbol'>:new</span> <span class='op'>=&gt;</span> <span class='symbol'>:current_tab</span><span class='comma'>,</span> <span class='symbol'>:split</span> <span class='op'>=&gt;</span> <span class='symbol'>:horizontal</span><span class='rbrace'>}</span>
  <span class='kw'>when</span> <span class='symbol'>:split_vertically</span> <span class='kw'>then</span> <span class='lbrace'>{</span><span class='symbol'>:new</span> <span class='op'>=&gt;</span> <span class='symbol'>:current_tab</span><span class='comma'>,</span> <span class='symbol'>:split</span> <span class='op'>=&gt;</span> <span class='symbol'>:vertical</span><span class='rbrace'>}</span>
  <span class='kw'>else</span> <span class='lbrace'>{</span><span class='symbol'>:new</span> <span class='op'>=&gt;</span> <span class='symbol'>:new_tab</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load_settings-instance_method">
  
    - (<tt>nil</tt>) <strong>load_settings</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Loads the settings from the configuration file.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 435</span>

<span class='kw'>def</span> <span class='id load_settings'>load_settings</span>
  <span class='id cfg'>cfg</span> <span class='op'>=</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:config</span><span class='rbracket'>]</span>
  <span class='id colors'>colors</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='symbol'>:message</span><span class='comma'>,</span> <span class='symbol'>:message_good</span><span class='comma'>,</span> <span class='symbol'>:message_bad</span><span class='comma'>,</span> <span class='symbol'>:output</span><span class='comma'>,</span> <span class='symbol'>:output1</span><span class='comma'>,</span> <span class='symbol'>:output2</span><span class='comma'>,</span> <span class='symbol'>:error</span><span class='comma'>,</span> <span class='symbol'>:error1</span><span class='comma'>,</span> <span class='symbol'>:error2</span><span class='comma'>,</span> <span class='symbol'>:warning</span><span class='comma'>,</span> <span class='symbol'>:warning1</span><span class='comma'>,</span> <span class='symbol'>:warning2</span><span class='rbracket'>]</span>
  <span class='id colors'>colors</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span> <span class='id set_color_for'>set_color_for</span> <span class='id c'>c</span><span class='comma'>,</span> <span class='id cfg'>cfg</span><span class='lbracket'>[</span><span class='symbol'>:output_colors</span><span class='comma'>,</span> <span class='id c'>c</span><span class='rbracket'>]</span><span class='rbrace'>}</span>
  <span class='ivar'>@model</span><span class='period'>.</span><span class='id row_count'>row_count</span><span class='period'>.</span><span class='id times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id r'>r</span><span class='op'>|</span>
    <span class='ivar'>@model</span><span class='period'>.</span><span class='id column_count'>column_count</span><span class='period'>.</span><span class='id times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span>
      <span class='id update_index_color'>update_index_color</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id index'>index</span><span class='lparen'>(</span><span class='id r'>r</span><span class='comma'>,</span> <span class='id c'>c</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@view</span><span class='period'>.</span><span class='id font'>font</span> <span class='op'>=</span> <span class='id cfg'>cfg</span><span class='lbracket'>[</span><span class='symbol'>:general</span><span class='comma'>,</span> <span class='symbol'>:output_font</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='ivar'>@use_default_font</span>
  <span class='kw'>unless</span> <span class='ivar'>@ignore_word_wrap_option</span>
    <span class='comment'># Not all the views support word wrapping
</span>    <span class='kw'>begin</span> <span class='ivar'>@view</span><span class='period'>.</span><span class='id word_wrap'>word_wrap</span> <span class='op'>=</span> <span class='id cfg'>cfg</span><span class='lbracket'>[</span><span class='symbol'>:general</span><span class='comma'>,</span> <span class='symbol'>:wrap_output</span><span class='rbracket'>]</span> 
    <span class='kw'>rescue</span> <span class='const'>NoMethodError</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>load_settings()</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="maybe_open_file-instance_method">
  
    - (<tt><span class='object_link'><a href="EditorView.html" title="Ruber::EditorView (class)">EditorView</a></span></tt><sup>?</sup>) <strong>maybe_open_file</strong>(idx)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Attempts to display the file whose name is contained in the given index</p>
<p>Searches for a filename in the DisplayRole of the index using the <span class='object_link'><a href="#find_filename_in_index-instance_method" title="Ruber::OutputWidget#find_filename_in_index (method)">#find_filename_in_index</a></span>
method. If a filename is found, an editor for it is displayed.</p>
<p>The behaviour of this method (which usually is only called via a signal-slot connection
to the views&#8217; <code>activated(QModelindex)</code> signal) changes according to the active 
keyboard modifiers and to whether the Pinned tool button is on or off:</p>
<ul>
	<li>if Ctrl or Shift are pressed and the view allows selection (that is, its selection
mode is not <ins>NoSelection</ins>), then this method does nothing. The reason for this
behaviour is that Ctrl and Shift are used to select items, so the user is most
likely doing that, not requesting to open a file</li>
	<li>if the Pinned button is pressed, then the tool widget won&#8217;t be closed (but the
  focus will be moved to the editor)</li>
	<li>if Meta is pressed, then the file will be opened in a new editor, regardless
  of whether an editor for that file already exists</li>
</ul>
<p>If a new editor should be created (either because the Meta key is pressed or because
no editor exists for the given file), the hints returned by <span class='object_link'><a href="#hints-instance_method" title="Ruber::OutputWidget#hints (method)">#hints</a></span> are used.
Unless the <span class='object_link'><a href="#hints-instance_method" title="Ruber::OutputWidget#hints (method)">#hints</a></span> method has been overloaded, this means that the <code>general/tool_open_files</code>
option is used.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Qt::ModelIndex</tt>)</span>
      
      
        <span class='name'>idx</span>
      
      
      
        &mdash;
        <div class='inline'><p>the index which could contain the file name</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="EditorView.html" title="Ruber::EditorView (class)">EditorView</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the editor for the filename contained in the index or
<strong>nil</strong> if no file name was found or if either the Shift or Control modifiers were
active</p></div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#find_filename_in_index-instance_method" title="Ruber::OutputWidget#find_filename_in_index (method)">#find_filename_in_index</a></span></li>
    
      <li><span class='object_link'><a href="#hints-instance_method" title="Ruber::OutputWidget#hints (method)">#hints</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


749
750
751
752
753
754
755
756
757
758
759
760
761
762</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 749</span>

<span class='kw'>def</span> <span class='id maybe_open_file'>maybe_open_file</span> <span class='id idx'>idx</span>
  <span class='id modifiers'>modifiers</span> <span class='op'>=</span> <span class='const'>Application</span><span class='period'>.</span><span class='id keyboard_modifiers'>keyboard_modifiers</span>
  <span class='kw'>if</span> <span class='ivar'>@view</span><span class='period'>.</span><span class='id selection_mode'>selection_mode</span> <span class='op'>!=</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>AbstractItemView</span><span class='op'>::</span><span class='const'>NoSelection</span>
    <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>ControlModifier</span> <span class='op'>&amp;</span> <span class='id modifiers'>modifiers</span> <span class='op'>!=</span> <span class='int'>0</span> <span class='kw'>or</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>ShiftModifier</span> <span class='op'>&amp;</span> <span class='id modifiers'>modifiers</span> <span class='op'>!=</span> <span class='int'>0</span>
  <span class='kw'>end</span>
  <span class='id file'>file</span><span class='comma'>,</span> <span class='id line'>line</span> <span class='op'>=</span> <span class='id find_filename_in_index'>find_filename_in_index</span> <span class='id idx'>idx</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id file'>file</span>
  <span class='id line'>line</span> <span class='op'>-=</span> <span class='int'>1</span> <span class='kw'>unless</span> <span class='id line'>line</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='id existing'>existing</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'>Qt</span><span class='op'>::</span><span class='const'>MetaModifier</span> <span class='op'>&amp;</span> <span class='id modifiers'>modifiers</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>?</span> <span class='symbol'>:always</span> <span class='op'>:</span> <span class='symbol'>:never</span>
  <span class='id display_hints'>display_hints</span> <span class='op'>=</span> <span class='id hints'>hints</span><span class='period'>.</span><span class='id merge'>merge</span><span class='lparen'>(</span><span class='symbol'>:line</span> <span class='op'>=&gt;</span>  <span class='id line'>line</span><span class='comma'>,</span> <span class='symbol'>:existing</span> <span class='op'>=&gt;</span> <span class='id existing'>existing</span><span class='rparen'>)</span>
  <span class='id ed'>ed</span> <span class='op'>=</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id display_document'>display_document</span> <span class='id file'>file</span><span class='comma'>,</span> <span class='id display_hints'>display_hints</span>
  <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id hide_tool'>hide_tool</span> <span class='kw'>self</span> <span class='kw'>unless</span> <span class='id pinned_down?'>pinned_down?</span>
  <span class='id ed'>ed</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>maybe_open_file(QModelIndex)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="pinned_down?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>pinned_down?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


464
465
466</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 464</span>

<span class='kw'>def</span> <span class='id pinned_down?'>pinned_down?</span>
  <span class='ivar'>@pin_button</span><span class='period'>.</span><span class='id checked?'>checked?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rows_changed-instance_method">
  
    - (<tt>nil</tt>) <strong>rows_changed</strong>  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Slot called whenever rows are added to or removed from the model</p>
<p>Turns the <code>no_text</code> gui state on or off depending on whether the model
is empty or not</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


715
716
717
718</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 715</span>

<span class='kw'>def</span> <span class='id rows_changed'>rows_changed</span>
  <span class='id change_state'>change_state</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>no_text</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id row_count'>row_count</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>rows_changed()</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="scroll_to-instance_method">
  
    - (<tt>nil</tt>) <strong>scroll_to</strong>(idx) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Scrolls the view so that the item corresponding the given index is visible</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Qt::ModelIndex</tt>, <tt>Integer</tt>, <tt>nil</tt>)</span>
      
      
        <span class='name'>idx</span>
      
      
      
        &mdash;
        <div class='inline'><p>the item to make visible. If it&#8217;s a
<code>Qt::ModelIndex</code>, it&#8217;s the index to make visible. If it is a positive integer.
the view will be scrolled so that the first toplevel item in the row <em>idx</em> is
visible; if it&#8217;s a negative integer, the rows are counted from the end. If <strong>nil</strong>
the first toplevel item of the last row will become visible</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 329</span>

<span class='kw'>def</span> <span class='id scroll_to'>scroll_to</span> <span class='id idx'>idx</span>
  <span class='kw'>case</span> <span class='id idx'>idx</span>
  <span class='kw'>when</span> <span class='const'>Numeric</span>
    <span class='id rc'>rc</span> <span class='op'>=</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id row_count'>row_count</span>
    <span class='kw'>if</span> <span class='id idx'>idx</span> <span class='op'>&gt;=</span> <span class='id rc'>rc</span> <span class='kw'>then</span> <span class='id idx'>idx</span> <span class='op'>=</span> <span class='id rc'>rc</span> <span class='op'>-</span><span class='int'>1</span>
    <span class='kw'>elsif</span> <span class='id idx'>idx</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id idx'>idx</span><span class='period'>.</span><span class='id abs'>abs</span> <span class='op'>&lt;</span> <span class='id rc'>rc</span> <span class='kw'>then</span> <span class='id idx'>idx</span> <span class='op'>=</span> <span class='id rc'>rc</span> <span class='op'>+</span> <span class='id idx'>idx</span>
    <span class='kw'>elsif</span> <span class='id idx'>idx</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='kw'>then</span> <span class='id idx'>idx</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>end</span>
    <span class='id mod_idx'>mod_idx</span> <span class='op'>=</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id index'>index</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='int'>0</span>
    <span class='ivar'>@view</span><span class='period'>.</span><span class='id scroll_to'>scroll_to</span> <span class='id mod_idx'>mod_idx</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>AbstractItemView</span><span class='op'>::</span><span class='const'>PositionAtBottom</span>
  <span class='kw'>when</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>ModelIndex</span>
    <span class='id idx'>idx</span> <span class='op'>=</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id index'>index</span><span class='lparen'>(</span><span class='ivar'>@model</span><span class='period'>.</span><span class='id row_count'>row_count</span> <span class='op'>-</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id idx'>idx</span><span class='period'>.</span><span class='id valid?'>valid?</span>
    <span class='ivar'>@view</span><span class='period'>.</span><span class='id scroll_to'>scroll_to</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>AbstractItemView</span><span class='op'>::</span><span class='const'>PositionAtBottom</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='ivar'>@view</span><span class='period'>.</span><span class='id scroll_to'>scroll_to</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id index'>index</span><span class='lparen'>(</span><span class='ivar'>@model</span><span class='period'>.</span><span class='id row_count'>row_count</span> <span class='op'>-</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span><span class='comma'>,</span> 
        <span class='const'>Qt</span><span class='op'>::</span><span class='const'>AbstractItemView</span><span class='op'>::</span><span class='const'>PositionAtBottom</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="selection_changed-instance_method">
  
    - (<tt>nil</tt>) <strong>selection_changed</strong>(sel, desel)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Slot connected to the view&#8217;s selection model&#8217;s <code>selectionChanged</code> signal</p>
<p>Turns the <code>no_selection</code> gui state on or off according to whether the selection
is empty or not.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


703
704
705
706</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 703</span>

<span class='kw'>def</span> <span class='id selection_changed'>selection_changed</span> <span class='id sel'>sel</span><span class='comma'>,</span> <span class='id desel'>desel</span>
  <span class='id change_state'>change_state</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>no_selection</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='op'>!</span><span class='ivar'>@view</span><span class='period'>.</span><span class='id selection_model'>selection_model</span><span class='period'>.</span><span class='id has_selection'>has_selection</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>selection_changed(QItemSelection, QItemSelection)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="set_color_for-instance_method">
  
    - (<tt>nil</tt>) <strong>set_color_for</strong>(name, color) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Associates a color with an output type</p>
<p>If a color had already been associated with the given output type, it&#8217;ll be overwritten.</p>
<p>This method is useful to define new output types.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
        <span class='name'>name</span>
      
      
      
        &mdash;
        <div class='inline'><p>the name of the output type</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Qt/Color.html" title="Qt::Color (class)">Qt::Color</a></span></tt>)</span>
      
      
        <span class='name'>color</span>
      
      
      
        &mdash;
        <div class='inline'><p>the color to associate with the given output type</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 314</span>

<span class='kw'>def</span> <span class='id set_color_for'>set_color_for</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id color'>color</span>
  <span class='ivar'>@colors</span><span class='lbracket'>[</span><span class='id name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id color'>color</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="set_output_type-instance_method">
  
    - (<tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt><sup>?</sup>) <strong>set_output_type</strong>(idx, type) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Changes the output type of a given index</p>
<p>If a color has been associated with that output type, the foreground role and the
output type role of that index are updated accordingly.</p>
<p>If no color has been associated with the output type, nothing is done</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Qt::ModelIndex</tt>)</span>
      
      
        <span class='name'>idx</span>
      
      
      
        &mdash;
        <div class='inline'><p>the index to set the output type for</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
        <span class='name'>type</span>
      
      
      
        &mdash;
        <div class='inline'><p>the new output type to associate with the index</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p><em>type</em> if a color was associated with it and <strong>nil</strong> otherwise</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


360
361
362
363
364
365
366
367</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 360</span>

<span class='kw'>def</span> <span class='id set_output_type'>set_output_type</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='id type'>type</span>
  <span class='id color'>color</span> <span class='op'>=</span> <span class='ivar'>@colors</span><span class='lbracket'>[</span><span class='id type'>type</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id color'>color</span>
    <span class='ivar'>@model</span><span class='period'>.</span><span class='id set_data'>set_data</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>Variant</span><span class='period'>.</span><span class='id from_value'>from_value</span><span class='lparen'>(</span><span class='id color'>color</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>ForegroundRole</span>
    <span class='ivar'>@model</span><span class='period'>.</span><span class='id set_data'>set_data</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>Variant</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id type'>type</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>OutputTypeRole</span>
    <span class='id type'>type</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="setup_model-instance_method">
  
    - (<tt>nil</tt>) <strong>setup_model</strong>(mod)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Prepares the model to use</p>
<p>After a call to this method, the model will become a child of the <span class='object_link'><a href="" title="Ruber::OutputWidget (class)">Ruber::OutputWidget</a></span></p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Qt::AbstractItemModel</tt>, <tt>nil</tt>)</span>
      
      
        <span class='name'>mod</span>
      
      
      
        &mdash;
        <div class='inline'><p>the model to use. If <strong>nil</strong>, a new instance
of <span class='object_link'><a href="OutputWidget/Model.html" title="Ruber::OutputWidget::Model (class)">Model</a></span> will be used</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


501
502
503
504
505
506
507
508
509
510</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 501</span>

<span class='kw'>def</span> <span class='id setup_model'>setup_model</span> <span class='id mod'>mod</span>
  <span class='ivar'>@model</span> <span class='op'>=</span> <span class='id mod'>mod</span> <span class='op'>||</span> <span class='const'>Model</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='ivar'>@model</span><span class='period'>.</span><span class='id insert_column'>insert_column</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id column_count'>column_count</span> <span class='op'>&lt;</span> <span class='int'>1</span>
  <span class='ivar'>@model</span><span class='period'>.</span><span class='id parent'>parent</span> <span class='op'>=</span> <span class='ivar'>@view</span>
  <span class='ivar'>@view</span><span class='period'>.</span><span class='id model'>model</span> <span class='op'>=</span> <span class='ivar'>@model</span>
  <span class='id connect'>connect</span> <span class='ivar'>@model</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rowsInserted(QModelIndex, int, int)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='symbol'>:rows_changed</span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='ivar'>@model</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rowsRemoved(QModelIndex, int, int)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='symbol'>:rows_changed</span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='ivar'>@model</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rowsInserted(QModelIndex, int, int)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>do_auto_scroll(QModelIndex, int, int)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="show_menu-instance_method">
  
    - (<tt>ni;</tt>) <strong>show_menu</strong>(pt)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Shows the menu</p>
<p>If the menu hasn&#8217;t as yet been created, it creates it.</p>
<p>The menu is shown asynchronously. This means that this method doesn&#8217;t wait for
the user to choose an action but returns immediately.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Qt/Point.html" title="Qt::Point (class)">Qt::Point</a></span></tt>)</span>
      
      
        <span class='name'>the</span>
      
      
      
        &mdash;
        <div class='inline'><p>point where the menu should be shown</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>ni;</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


572
573
574
575
576</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 572</span>

<span class='kw'>def</span> <span class='id show_menu'>show_menu</span> <span class='id pt'>pt</span>
  <span class='id fill_menu'>fill_menu</span> <span class='kw'>if</span> <span class='ivar'>@menu</span><span class='period'>.</span><span class='id empty?'>empty?</span>
  <span class='ivar'>@menu</span><span class='period'>.</span><span class='id popup'>popup</span> <span class='id pt'>pt</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>show_menu(QPoint)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="text_for_clipboard-instance_method">
  
    - (<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>) <strong>text_for_clipboard</strong>(indexes)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Retrieves the text to copy to the clipboard from the given indexes</p>
<p>The string is created by joining the text of toplevel items on the same row and
different columns using tabs as separators. Different rows are separated with
newlines. Child items are ignored.</p>
<p>Derived class can override this method (and, if they plan to put child items in
the view, they&#8217;re advised to do so).</p>
<p>The reason the default behaviour ignores child items is that their meaning (and
therefore the way their contents should be inserted into the string) depends
very much on the specific content, so there&#8217;s no way to have a sensible default
behaviour.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;Qt::ModelIndex&gt;</tt>)</span>
      
      
        <span class='name'>indexes</span>
      
      
      
        &mdash;
        <div class='inline'><p>the indexes to use to create the text</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the text which should be put in the clipboard</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


679
680
681
682
683
684
685
686
687
688
689
690
691
692
693</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 679</span>

<span class='kw'>def</span> <span class='id text_for_clipboard'>text_for_clipboard</span> <span class='id indexes'>indexes</span>
  <span class='id indexes'>indexes</span> <span class='op'>=</span> <span class='id indexes'>indexes</span><span class='period'>.</span><span class='id select'>select</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id i'>i</span><span class='op'>|</span> <span class='op'>!</span><span class='id i'>i</span><span class='period'>.</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id valid?'>valid?</span><span class='rbrace'>}</span>
  <span class='id rows'>rows</span> <span class='op'>=</span> <span class='id indexes'>indexes</span><span class='period'>.</span><span class='id group_by'>group_by</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id idx'>idx</span><span class='op'>|</span> <span class='id idx'>idx</span><span class='period'>.</span><span class='id row'>row</span><span class='rbrace'>}</span>
  <span class='id rows'>rows</span> <span class='op'>=</span> <span class='id rows'>rows</span><span class='period'>.</span><span class='id sort'>sort</span>
  <span class='id text'>text</span> <span class='op'>=</span> <span class='id rows'>rows</span><span class='period'>.</span><span class='id inject'>inject</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id res'>res</span><span class='comma'>,</span> <span class='id r'>r</span><span class='op'>|</span>
    <span class='id idxs'>idxs</span> <span class='op'>=</span> <span class='id r'>r</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id sort_by'>sort_by</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id i'>i</span><span class='op'>|</span> <span class='id i'>i</span><span class='period'>.</span><span class='id column'>column</span><span class='rbrace'>}</span>
    <span class='id idxs'>idxs</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id i'>i</span><span class='op'>|</span> <span class='id res'>res</span> <span class='op'>&lt;&lt;</span> <span class='id i'>i</span><span class='period'>.</span><span class='id data'>data</span><span class='period'>.</span><span class='id to_string'>to_string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
    <span class='comment'># The above line gives \t as last character, while a \n is needed
</span>    <span class='id res'>res</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='id res'>res</span>
  <span class='kw'>end</span>
  <span class='comment'># The above block leaves a \n at the end of the string which shouldn't be
</span>  <span class='comment'># there
</span>  <span class='id text'>text</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="title=-instance_method">
  
    - (<tt>nil</tt>) <strong>title=</strong>(text) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Gives a title to the widget.</p>
<p>A title is a toplevel entry at position 0, 0 with output type <code>:message</code> and has 
the <code>IsTitleRole</code> set to <strong>true</strong>. Of course, there can be only one item which is
a title.</p>
<p>If the item in position 0, 0 is not a title, a new row with title role and the
given text is inserted.</p>
<p>If the item in position 0,0 is a title, then its display role is replaced with 
the given text.</p>
<p>Usually, the title is created when the external program is started and changed
later if needed.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <span class='name'>text</span>
      
      
      
        &mdash;
        <div class='inline'><p>the text of title</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


405
406
407
408
409
410
411
412
413
414
415
416
417
418</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 405</span>

<span class='kw'>def</span> <span class='id title='>title=</span> <span class='id text'>text</span>
  <span class='id idx'>idx</span> <span class='op'>=</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id index'>index</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span>
  <span class='kw'>if</span> <span class='id idx'>idx</span><span class='period'>.</span><span class='id data'>data</span><span class='lparen'>(</span><span class='const'>IsTitleRole</span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_bool'>to_bool</span>
    <span class='ivar'>@model</span><span class='period'>.</span><span class='id set_data'>set_data</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>Variant</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id text'>text</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@model</span><span class='period'>.</span><span class='id insert_column'>insert_column</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id column_count'>column_count</span> <span class='op'>==</span> <span class='int'>0</span>
    <span class='ivar'>@model</span><span class='period'>.</span><span class='id insert_row'>insert_row</span> <span class='int'>0</span>
    <span class='id idx'>idx</span> <span class='op'>=</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id index'>index</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span>
    <span class='ivar'>@model</span><span class='period'>.</span><span class='id set_data'>set_data</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>Variant</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id text'>text</span><span class='rparen'>)</span>
    <span class='ivar'>@model</span><span class='period'>.</span><span class='id set_data'>set_data</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>Variant</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>IsTitleRole</span>
  <span class='kw'>end</span>
  <span class='id set_output_type'>set_output_type</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='symbol'>:message</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="update_index_color-instance_method">
  
    - (<tt>nil</tt>) <strong>update_index_color</strong>(idx)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Updates the color of an index and its children so that it matches their output types</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Qt::ModelIndex</tt>)</span>
      
      
        <span class='name'>idx</span>
      
      
      
        &mdash;
        <div class='inline'><p>the index whose foreground color should be updated.
Its children will also be updated</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


476
477
478
479
480
481
482
483
484
485
486
487
488
489
490</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 476</span>

<span class='kw'>def</span> <span class='id update_index_color'>update_index_color</span> <span class='id idx'>idx</span>
  <span class='id type'>type</span> <span class='op'>=</span> <span class='id idx'>idx</span><span class='period'>.</span><span class='id data'>data</span><span class='lparen'>(</span><span class='const'>OutputTypeRole</span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_string'>to_string</span><span class='period'>.</span><span class='id to_sym'>to_sym</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>
  <span class='id color'>color</span> <span class='op'>=</span> <span class='ivar'>@colors</span><span class='lbracket'>[</span><span class='id type'>type</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id color'>color</span>
    <span class='ivar'>@model</span><span class='period'>.</span><span class='id set_data'>set_data</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>Variant</span><span class='period'>.</span><span class='id from_value'>from_value</span><span class='lparen'>(</span><span class='id color'>color</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>ForegroundRole</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='ivar'>@model</span><span class='period'>.</span><span class='id has_children'>has_children</span> <span class='id idx'>idx</span>
    <span class='ivar'>@model</span><span class='period'>.</span><span class='id row_count'>row_count</span><span class='lparen'>(</span><span class='id idx'>idx</span><span class='rparen'>)</span><span class='period'>.</span><span class='id times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id r'>r</span><span class='op'>|</span>
      <span class='ivar'>@model</span><span class='period'>.</span><span class='id column_count'>column_count</span><span class='lparen'>(</span><span class='id idx'>idx</span><span class='rparen'>)</span><span class='period'>.</span><span class='id times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span>
        <span class='id update_index_color'>update_index_color</span> <span class='id idx'>idx</span><span class='period'>.</span><span class='id child'>child</span><span class='lparen'>(</span><span class='id r'>r</span><span class='comma'>,</span> <span class='id c'>c</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="with_auto_scrolling-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>with_auto_scrolling</strong>(val) { ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Executes a block while temporarily turning autoscrolling on or off</p>
<p>After the block has been executed, autoscrolling returns to the original state.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <span class='name'>val</span>
      
      
      
        &mdash;
        <div class='inline'><p>whether to turn autoscrolling on or off</p></div>
      
    </li>
  
</ul>
<h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>the block to execute with autoscroll turned on or off</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the value returned by the block</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


378
379
380
381
382
383
384</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/output_widget.rb', line 378</span>

<span class='kw'>def</span> <span class='id with_auto_scrolling'>with_auto_scrolling</span> <span class='id val'>val</span>
  <span class='id old'>old</span> <span class='op'>=</span> <span class='ivar'>@auto_scroll</span>
  <span class='ivar'>@auto_scroll</span> <span class='op'>=</span> <span class='id val'>val</span>
  <span class='kw'>begin</span> <span class='kw'>yield</span>
  <span class='kw'>ensure</span> <span class='ivar'>@auto_scroll</span> <span class='op'>=</span> <span class='id old'>old</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>



  <div id="instance_method_details" class="method_details_list">
    <h2>Signal Details</h2>
    
      <div class="method_details first">
  <p class="signature first" id="about_to_fill_menu-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>about_to_fill_menu</strong> 
</p><div class="docstring">
  <div class="discussion">
    <p>Signal emitted immediately before the menu is created</p>
<p>You should connect to this
signal if you want to add actions to the menu at the last possible time. Usually,
however, you don&#8217;t need it, as actions are usually created in the constructor.</p>

  </div>
</div>
<div class="tags">
  
</div>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Fri Apr 29 10:51:11 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.8 (ruby-1.9.2).
</div>

  </body>
</html>