<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Ruber::DocumentList</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (D)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Ruber.html" title="Ruber (module)">Ruber</a></span></span>
     &raquo; 
    <span class="title">DocumentList</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Ruber::DocumentList
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Qt::Object</span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Qt::Object</li>
          
            <li class="next">Ruber::DocumentList</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="../Enumerable.html" title="Enumerable (module)">Enumerable</a></span>, <span class='object_link'><a href="PluginLike.html" title="Ruber::PluginLike (module)">PluginLike</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/ruber/documents/document_list.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>List of all open documents</p>
<p>It contains convenience methods to iterate on the open documents and to create
them. Whenever possible, you should use them. In particular, when you need a document
associated with a given file or <span class="caps">URL</span>, you should always use <span class='object_link'><a href="#document-instance_method" title="Ruber::DocumentList#document (method)">#document</a></span>, so that
if a document for that file is already installed, no new document will be created.</p>
<p>If, for any reason, you need to create a document using Document.new, please
don&#8217;t forget to add the document to the list using <span class='object_link'><a href="#add_document-instance_method" title="Ruber::DocumentList#add_document (method)">#add_document</a></span>.</p>

  </div>
</div>
<div class="tags">
  
</div>

  
  
  
  
  
  
  
  
  

  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-instance_method" title="#[] (instance method)">- (Document<sup>?</sup>) <strong>[]</strong>(key) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The document corresponding to the given key.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#add_document-instance_method" title="#add_document (instance method)">- (Document<sup>?</sup>) <strong>add_document</strong>(doc) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Adds a new document to the list.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#close_all-instance_method" title="#close_all (instance method)">- (Boolean) <strong>close_all</strong>(ask = true) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Closes all the documents.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#close_document-instance_method" title="#close_document (instance method)">- (nil) <strong>close_document</strong>(doc) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Removes a document from the list.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#document-instance_method" title="#document (instance method)">- (Document<sup>?</sup>) <strong>document</strong>(file, create_if_needed = true) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The document for a given file or url.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#document_for_file-instance_method" title="#document_for_file (instance method)">- (Document<sup>?</sup>) <strong>document_for_file</strong>(file) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The document associated with a given file.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#document_for_file%3F-instance_method" title="#document_for_file? (instance method)">- (Boolean) <strong>document_for_file?</strong>(file) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether there&#8217;s a document associated with a given file.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#document_for_url-instance_method" title="#document_for_url (instance method)">- (Document<sup>?</sup>) <strong>document_for_url</strong>(url) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The document associated with a given <span class="caps">URL</span>.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#document_for_url%3F-instance_method" title="#document_for_url? (instance method)">- (Boolean) <strong>document_for_url?</strong>(url) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether there&#8217;s a document associated with a given <span class="caps">URL</span>.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#document_with_name-instance_method" title="#document_with_name (instance method)">- (Document<sup>?</sup>) <strong>document_with_name</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The document with a given name.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#document_with_name%3F-instance_method" title="#document_with_name? (instance method)">- (Boolean) <strong>document_with_name?</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether there&#8217;s a document with a given name.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#documents-instance_method" title="#documents (instance method)">- (Array&lt;Document&gt;) <strong>documents</strong> </a>
    

    
      (also: #to_a)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A list of open documents.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#documents_with_file-instance_method" title="#documents_with_file (instance method)">- (Array&lt;Document&gt;) <strong>documents_with_file</strong>(which = :any) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The documents which are associated with a file.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#each_document-instance_method" title="#each_document (instance method)">- (DocumentList, Enumerator) <strong>each_document</strong> {|Document| ... }</a>
    

    
      (also: #each)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Calls the block for each document
otherwise.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">- (Boolean) <strong>empty?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether the document list is empty or not.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (DocumentList) <strong>initialize</strong>(_manager, psf) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of DocumentList.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#new_document-instance_method" title="#new_document (instance method)">- (Ruber::Document) <strong>new_document</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a new empty document.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#query_close-instance_method" title="#query_close (instance method)">- (Boolean) <strong>query_close</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Override of <span class='object_link'><a href="PluginLike.html#query_close-instance_method" title="Ruber::PluginLike#query_close (method)">PluginLike#query_close</a></span>.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#save_documents-instance_method" title="#save_documents (instance method)">- (Array&lt;Document&gt;) <strong>save_documents</strong>(docs, stop_on_failure = false) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Attempts to save the given documents.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#save_settings-instance_method" title="#save_settings (instance method)">- (nil) <strong>save_settings</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Saves the settings for all open documents.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#size-instance_method" title="#size (instance method)">- (Integer) <strong>size</strong> </a>
    

    
      (also: #length)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The number of documents in the list.</p></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Enumerable.html#find%21-instance_method" title="Enumerable#find! (method)">#find!</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="PluginLike.html" title="Ruber::PluginLike (module)">PluginLike</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="PluginLike.html#add_extensions_to_project-instance_method" title="Ruber::PluginLike#add_extensions_to_project (method)">#add_extensions_to_project</a></span>, <span class='object_link'><a href="PluginLike.html#add_options_to_project-instance_method" title="Ruber::PluginLike#add_options_to_project (method)">#add_options_to_project</a></span>, <span class='object_link'><a href="PluginLike.html#add_widgets_to_project-instance_method" title="Ruber::PluginLike#add_widgets_to_project (method)">#add_widgets_to_project</a></span>, <span class='object_link'><a href="PluginLike.html#create_tool_widget-instance_method" title="Ruber::PluginLike#create_tool_widget (method)">#create_tool_widget</a></span>, <span class='object_link'><a href="PluginLike.html#delayed_initialize-instance_method" title="Ruber::PluginLike#delayed_initialize (method)">#delayed_initialize</a></span>, <span class='object_link'><a href="PluginLike.html#initialize_plugin-instance_method" title="Ruber::PluginLike#initialize_plugin (method)">#initialize_plugin</a></span>, <span class='object_link'><a href="PluginLike.html#load_settings-instance_method" title="Ruber::PluginLike#load_settings (method)">#load_settings</a></span>, <span class='object_link'><a href="PluginLike.html#plugin_name-instance_method" title="Ruber::PluginLike#plugin_name (method)">#plugin_name</a></span>, <span class='object_link'><a href="PluginLike.html#register_options-instance_method" title="Ruber::PluginLike#register_options (method)">#register_options</a></span>, <span class='object_link'><a href="PluginLike.html#register_with_project-instance_method" title="Ruber::PluginLike#register_with_project (method)">#register_with_project</a></span>, <span class='object_link'><a href="PluginLike.html#remove_extensions_from_project-instance_method" title="Ruber::PluginLike#remove_extensions_from_project (method)">#remove_extensions_from_project</a></span>, <span class='object_link'><a href="PluginLike.html#remove_from_project-instance_method" title="Ruber::PluginLike#remove_from_project (method)">#remove_from_project</a></span>, <span class='object_link'><a href="PluginLike.html#remove_options_from_project-instance_method" title="Ruber::PluginLike#remove_options_from_project (method)">#remove_options_from_project</a></span>, <span class='object_link'><a href="PluginLike.html#remove_widgets_from_project-instance_method" title="Ruber::PluginLike#remove_widgets_from_project (method)">#remove_widgets_from_project</a></span>, <span class='object_link'><a href="PluginLike.html#restore_session-instance_method" title="Ruber::PluginLike#restore_session (method)">#restore_session</a></span>, <span class='object_link'><a href="PluginLike.html#session_data-instance_method" title="Ruber::PluginLike#session_data (method)">#session_data</a></span>, <span class='object_link'><a href="PluginLike.html#setup_action-instance_method" title="Ruber::PluginLike#setup_action (method)">#setup_action</a></span>, <span class='object_link'><a href="PluginLike.html#setup_actions-instance_method" title="Ruber::PluginLike#setup_actions (method)">#setup_actions</a></span>, <span class='object_link'><a href="PluginLike.html#shutdown-instance_method" title="Ruber::PluginLike#shutdown (method)">#shutdown</a></span>, <span class='object_link'><a href="PluginLike.html#unload-instance_method" title="Ruber::PluginLike#unload (method)">#unload</a></span>, <span class='object_link'><a href="PluginLike.html#update_project-instance_method" title="Ruber::PluginLike#update_project (method)">#update_project</a></span></p>

  

  <h2>Signal Summary</h2>
  <ul class="summary" >
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#document_created-signalcode" title="document_created (signalcode)">- <strong>document_created</strong>(QObject* doc) </a>
      </span>
      <span class="summary_desc"><div class='inline'><p>Signal emitted when a new document is created.</p></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#closing_document-signalcode" title="closing_document (signalcode)">- <strong>closing_document</strong>(QObject* doc) </a>
      </span>
      <span class="summary_desc"><div class='inline'><p>Signal emitted before a document is closed.</p></div></span>
    </li>
  
  </ul>





<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Ruber::DocumentList (class)">DocumentList</a></span></tt>) <strong>initialize</strong>(_manager, psf) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>A new instance of DocumentList</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="ComponentManager.html" title="Ruber::ComponentManager (class)">ComponentManager</a></span></tt>)</span>
      
      
        <span class='name'>_manager</span>
      
      
      
        &mdash;
        <div class='inline'><p>the component manager (unused)</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="PluginSpecification.html" title="Ruber::PluginSpecification (class)">PluginSpecification</a></span></tt>)</span>
      
      
        <span class='name'>psf</span>
      
      
      
        &mdash;
        <div class='inline'><p>the plugin specification object</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 67</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span> <span class='id _manager'>_manager</span><span class='comma'>,</span> <span class='id psf'>psf</span>
  <span class='kw'>super</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:app</span><span class='rbracket'>]</span>
  <span class='id initialize_plugin'>initialize_plugin</span> <span class='id psf'>psf</span>
  <span class='ivar'>@docs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="[]-instance_method">
  
    - (<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt><sup>?</sup>) <strong>[]</strong>(key) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The document corresponding to the given key</p>
<p>How <em>key</em> is interpreted depends on its class:</p>
<ul>
	<li>if it&#8217;s an <code>Integer</code>, the document in the corresponding position in the list will
  be returned</li>
	<li>if it&#8217;s a <code>KDE::Url</code>, then the document associated with that url will be returned</li>
	<li>if it&#8217;s a <code>String</code> starting with a <code>/</code> (that is, an absolute path) then the
  document associated with that file will be returned</li>
	<li>if it&#8217;s a string not startng with a <code>/</code>, then the document with that
  <code>document_name</code> will be returned</li>
</ul>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>, <tt><span class='object_link'><a href="../KDE/Url.html" title="KDE::Url (class)">KDE::Url</a></span></tt>)</span>
      
      
        <span class='name'>key</span>
      
      
      
        &mdash;
        <div class='inline'><p>the key for the document</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the document corresponding to <em>key</em> or <strong>nil</strong> if no document
corresponds to it</p></div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt>TypeError</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>if <em>key</em> is not a <code>String</code>, <code>Integer</code> or <code>KDE::Url</code></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


270
271
272
273
274
275
276
277
278
279
280
281</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 270</span>

<span class='kw'>def</span> <span class='op'>[]</span> <span class='id key'>key</span>
  <span class='kw'>case</span> <span class='id key'>key</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='kw'>if</span> <span class='const'>Pathname</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id key'>key</span><span class='rparen'>)</span><span class='period'>.</span><span class='id absolute?'>absolute?</span> <span class='kw'>then</span> <span class='ivar'>@docs</span><span class='period'>.</span><span class='id find'>find</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id path'>path</span> <span class='op'>==</span> <span class='id key'>key</span><span class='rbrace'>}</span>
    <span class='kw'>else</span> <span class='ivar'>@docs</span><span class='period'>.</span><span class='id find'>find</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id document_name'>document_name</span> <span class='op'>==</span> <span class='id key'>key</span><span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Url</span>
    <span class='ivar'>@docs</span><span class='period'>.</span><span class='id find'>find</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id url'>url</span> <span class='op'>==</span> <span class='id key'>key</span><span class='rbrace'>}</span>
  <span class='kw'>when</span> <span class='const'>Integer</span> <span class='kw'>then</span> <span class='ivar'>@docs</span><span class='lbracket'>[</span><span class='id key'>key</span><span class='rbracket'>]</span>
  <span class='kw'>else</span> <span class='id raise'>raise</span> <span class='const'>TypeError</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_document-instance_method">
  
    - (<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt><sup>?</sup>) <strong>add_document</strong>(doc) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Adds a new document to the list</p>
<p>If you use <span class='object_link'><a href="#new_document-instance_method" title="Ruber::DocumentList#new_document (method)">#new_document</a></span> and <span class='object_link'><a href="#document-instance_method" title="Ruber::DocumentList#document (method)">#document</a></span> to create documents, you don&#8217;t need to
call this method.</p>
<p><strong>Note:</strong> this method doesn&#8217;t check whether the document has already been added to
the list. If so, the results may cause errors. Please, always make sure the document
isn&#8217;t already in the list before calling this.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <span class='name'>doc</span>
      
      
      
        &mdash;
        <div class='inline'><p>the document to add. If <strong>nil</strong>, nothing is done</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p><em>doc</em></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


164
165
166
167
168
169</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 164</span>

<span class='kw'>def</span> <span class='id add_document'>add_document</span> <span class='id doc'>doc</span>
  <span class='kw'>if</span> <span class='id doc'>doc</span>
    <span class='id connect'>connect</span> <span class='id doc'>doc</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>closing(QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>close_document(QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='ivar'>@docs</span> <span class='op'>&lt;&lt;</span> <span class='id doc'>doc</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="close_all-instance_method">
  
    - (<tt>Boolean</tt>) <strong>close_all</strong>(ask = true) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Closes all the documents</p>
<p>If there are modified files and <em>ask</em> is <strong>true</strong>, the user will be asked whether
he wants to save them (see <span class='object_link'><a href="MainWindow.html#save_documents-instance_method" title="Ruber::MainWindow#save_documents (method)">MainWindow#save_documents</a></span>). If he chooses to abort
closing, nothing will be done</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <span class='name'>ask</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>if <strong>true</strong>, in case some files are modified, the user will
be asked whether to save them. If <strong>false</strong>, no file will be saved</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p><strong>true</strong> if the documents were closed and <strong>false</strong> otherwise</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


243
244
245
246
247
248
249
250</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 243</span>

<span class='kw'>def</span> <span class='id close_all'>close_all</span> <span class='id ask'>ask</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id docs'>docs</span> <span class='op'>=</span> <span class='ivar'>@docs</span><span class='period'>.</span><span class='id dup'>dup</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id ask'>ask</span> <span class='kw'>or</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id save_documents'>save_documents</span> <span class='id docs'>docs</span>
    <span class='id docs'>docs</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id close'>close</span> <span class='kw'>false</span><span class='rbrace'>}</span>
    <span class='kw'>true</span>
  <span class='kw'>else</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="close_document-instance_method">
  
    - (<tt>nil</tt>) <strong>close_document</strong>(doc)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Removes a document from the list</p>
<p>The <span class='object_link'><a href="#closing_document-signalcode" title="Ruber::DocumentList#closing_document (signalcode)">#closing_document</a></span> signal is emitted before removing the document.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt>)</span>
      
      
        <span class='name'>doc</span>
      
      
      
        &mdash;
        <div class='inline'><p>the document to remove. It must have been added to the list
using <span class='object_link'><a href="#add_document-instance_method" title="Ruber::DocumentList#add_document (method)">#add_document</a></span> (which is automatically called by <span class='object_link'><a href="#document-instance_method" title="Ruber::DocumentList#document (method)">#document</a></span> and <span class='object_link'><a href="#new_document-instance_method" title="Ruber::DocumentList#new_document (method)">#new_document</a></span>)</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


225
226
227
228
229</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 225</span>

<span class='kw'>def</span> <span class='id close_document'>close_document</span> <span class='id doc'>doc</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='id doc'>doc</span>
  <span class='id emit'>emit</span> <span class='id closing_document'>closing_document</span><span class='lparen'>(</span><span class='id doc'>doc</span><span class='rparen'>)</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>close_document(QObject*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="document-instance_method">
  
    - (<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt><sup>?</sup>) <strong>document</strong>(file, create_if_needed = true) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The document for a given file or url</p>
<p>If there&#8217;s no open document associated with the given file or url, depending on
the value of <em>create_if_needed</em> a new document associated with the file or url
will be created. In this case, the <span class='object_link'><a href="#document_created-signalcode" title="Ruber::DocumentList#document_created (signalcode)">#document_created</a></span> signal will be emitted.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../KDE/Url.html" title="KDE::Url (class)">KDE::Url</a></span></tt>)</span>
      
      
        <span class='name'>file</span>
      
      
      
        &mdash;
        <div class='inline'><p>the file name or <span class="caps">URL</span> associated with the document.
A relative file name will be expanded with respect to the current directory. A
string containing a url will be interpreted as an url, not as a filename. If you
need a document with a name which looks like an url, you can create an empty
<code>KDE::Url</code>, then using <code>path=</code> to set its path</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <span class='name'>create_if_needed</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>whether or not to create a document associated
with <em>file</em> if there isn&#8217;t one</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the document associated with <em>file</em>. If no such document
exists and <em>create_if_needed</em> is <strong>false</strong>, <strong>nil</strong> will be returned</p></div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>if <em>file</em> is a local file, there&#8217;s
no document for it, it doesn&#8217;t exist and <em>create_if_needed</em> is <strong>true</strong>. Note that
this won&#8217;t happen if <em>file</em> is a remote file, even if it doesn&#8217;t exist</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 109</span>

<span class='kw'>def</span> <span class='id document'>document</span> <span class='id file'>file</span><span class='comma'>,</span> <span class='id create_if_needed'>create_if_needed</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>if</span> <span class='id file'>file</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>String</span>
    <span class='id url'>url</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Url</span><span class='period'>.</span><span class='id new'>new</span> <span class='id file'>file</span>
    <span class='id url'>url</span><span class='period'>.</span><span class='id path'>path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id file'>file</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id url'>url</span><span class='period'>.</span><span class='id relative?'>relative?</span>
  <span class='kw'>else</span> <span class='id url'>url</span> <span class='op'>=</span> <span class='id file'>file</span>
  <span class='kw'>end</span>
  <span class='id doc'>doc</span> <span class='op'>=</span> <span class='id document_for_url'>document_for_url</span> <span class='id file'>file</span>
  <span class='kw'>return</span> <span class='id doc'>doc</span> <span class='kw'>if</span> <span class='id doc'>doc</span> <span class='kw'>or</span> <span class='op'>!</span><span class='id create_if_needed'>create_if_needed</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id doc'>doc</span> <span class='kw'>and</span> <span class='id create_if_needed'>create_if_needed</span>
    <span class='kw'>if</span> <span class='id url'>url</span><span class='period'>.</span><span class='id local_file?'>local_file?</span>
      <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>File </span><span class='embexpr_beg'>#{</span><span class='id url'>url</span><span class='period'>.</span><span class='id path'>path</span><span class='rbrace'>}</span><span class='tstring_content'> doesn't exist</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id exist?'>exist?</span><span class='lparen'>(</span><span class='id url'>url</span><span class='period'>.</span><span class='id path'>path</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id doc'>doc</span> <span class='op'>=</span> <span class='const'>Document</span><span class='period'>.</span><span class='id new'>new</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id url'>url</span>
    <span class='id add_document'>add_document</span> <span class='id doc'>doc</span>
    <span class='id emit'>emit</span> <span class='id document_created'>document_created</span><span class='lparen'>(</span><span class='id doc'>doc</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id doc'>doc</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_for_file-instance_method">
  
    - (<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt><sup>?</sup>) <strong>document_for_file</strong>(file) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The document associated with a given file</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <span class='name'>file</span>
      
      
      
        &mdash;
        <div class='inline'><p>the name of the file. If it&#8217;s relative, it will be considered
relative to the current directory</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the document associated with <em>file</em> or <strong>nil</strong> if no such
document exists</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


306
307
308
309</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 306</span>

<span class='kw'>def</span> <span class='id document_for_file'>document_for_file</span> <span class='id file'>file</span>
  <span class='id file'>file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span> <span class='id file'>file</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id find'>find</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id path'>path</span> <span class='op'>==</span> <span class='id file'>file</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_for_file?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>document_for_file?</strong>(file) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Whether there&#8217;s a document associated with a given file</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <span class='name'>file</span>
      
      
      
        &mdash;
        <div class='inline'><p>the name of the file (absolute or relative to the current
directory)</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p><strong>true</strong> if there&#8217;s a document associated with <em>file</em> and <strong>false</strong>
otherwise</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


368
369
370
371</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 368</span>

<span class='kw'>def</span> <span class='id document_for_file?'>document_for_file?</span> <span class='id file'>file</span>
  <span class='id file'>file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span> <span class='id file'>file</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id any?'>any?</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id path'>path</span> <span class='op'>==</span> <span class='id file'>file</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_for_url-instance_method">
  
    - (<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt><sup>?</sup>) <strong>document_for_url</strong>(url) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The document associated with a given <span class="caps">URL</span></p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../KDE/Url.html" title="KDE::Url (class)">KDE::Url</a></span></tt>)</span>
      
      
        <span class='name'>url</span>
      
      
      
        &mdash;
        <div class='inline'><p>the url</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the document associated with <em>url</em> or <strong>nil</strong> if no such
document exists</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


318
319
320</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 318</span>

<span class='kw'>def</span> <span class='id document_for_url'>document_for_url</span> <span class='id url'>url</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id find'>find</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id url'>url</span> <span class='op'>==</span> <span class='id url'>url</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_for_url?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>document_for_url?</strong>(url) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Whether there&#8217;s a document associated with a given <span class="caps">URL</span></p>
<p>otherwise</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>@<span class='object_link'><a href="../KDE/Url.html" title="KDE::Url (class)">KDE::Url</a></span>@</tt>)</span>
      
      
        <span class='name'>url</span>
      
      
      
        &mdash;
        <div class='inline'><p>the url</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p><strong>true</strong> if there&#8217;s a document associated with <em>url</em> and <strong>false</strong></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


380
381
382</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 380</span>

<span class='kw'>def</span> <span class='id document_for_url?'>document_for_url?</span> <span class='id url'>url</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id any?'>any?</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id url'>url</span> <span class='op'>==</span> <span class='id url'>url</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_with_name-instance_method">
  
    - (<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt><sup>?</sup>) <strong>document_with_name</strong>(name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The document with a given name</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <span class='name'>name</span>
      
      
      
        &mdash;
        <div class='inline'><p>the name of the document</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the document with <code>document_name</code> <em>name</em> or <strong>nil</strong> if no
document with that name exists</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


329
330
331</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 329</span>

<span class='kw'>def</span> <span class='id document_with_name'>document_with_name</span> <span class='id name'>name</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id find'>find</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id document_name'>document_name</span> <span class='op'>==</span> <span class='id name'>name</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_with_name?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>document_with_name?</strong>(name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Whether there&#8217;s a document with a given name</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <span class='name'>name</span>
      
      
      
        &mdash;
        <div class='inline'><p>of the document</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p><strong>true</strong> if there&#8217;s a document associated with <em>name</em> and <strong>false</strong>
otherwise</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


391
392
393</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 391</span>

<span class='kw'>def</span> <span class='id document_with_name?'>document_with_name?</span> <span class='id name'>name</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id any?'>any?</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id document_name'>document_name</span> <span class='op'>==</span> <span class='id name'>name</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="documents-instance_method">
  
    - (<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span>&gt;</tt>) <strong>documents</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='to_a-instance_method'>to_a</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>A list of open documents</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span>&gt;</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>a list of open documents</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 131</span>

<span class='kw'>def</span> <span class='id documents'>documents</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id dup'>dup</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="documents_with_file-instance_method">
  
    - (<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span>&gt;</tt>) <strong>documents_with_file</strong>(which = :any) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The documents which are associated with a file</p>
<p><em>which</em> can be used to restrict the list of documents to only those associated
with local or remote files:</p>
<ul>
	<li>if <em>which</em> is <code>:local</code> only documents associated with local files will be returned;</li>
	<li>if <em>which</em> is <code>:remote</code> only documents associated with remoted files will be returned;</li>
	<li>if <em>which</em> has any other value, both documents associated with local and with
  remote files will be returned</li>
</ul>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
        <span class='name'>which</span>
      
      
        <em class="default">(defaults to: <tt>:any</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>which kind of documents should be included in the list</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span>&gt;</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>a list of documents associated with files, and restricted
according to the value of <em>which</em></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


346
347
348
349
350
351
352
353
354
355
356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 346</span>

<span class='kw'>def</span> <span class='id documents_with_file'>documents_with_file</span> <span class='id which'>which</span> <span class='op'>=</span> <span class='symbol'>:any</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> 
    <span class='kw'>if</span> <span class='id d'>d</span><span class='period'>.</span><span class='id has_file?'>has_file?</span>
      <span class='kw'>case</span> <span class='id which'>which</span>
      <span class='kw'>when</span> <span class='symbol'>:local</span> <span class='kw'>then</span> <span class='id d'>d</span><span class='period'>.</span><span class='id url'>url</span><span class='period'>.</span><span class='id local_file?'>local_file?</span>
      <span class='kw'>when</span> <span class='symbol'>:remote</span> <span class='kw'>then</span> <span class='op'>!</span><span class='id d'>d</span><span class='period'>.</span><span class='id url'>url</span><span class='period'>.</span><span class='id local_file?'>local_file?</span>
      <span class='kw'>else</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="each_document-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Ruber::DocumentList (class)">DocumentList</a></span></tt>, <tt>Enumerator</tt>) <strong>each_document</strong> {|Document| ... }
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='each-instance_method'>each</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>Calls the block for each document
otherwise</p>

  </div>
</div>
<div class="tags">
  <h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>each document in turn</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Ruber::DocumentList (class)">DocumentList</a></span></tt>, <tt>Enumerator</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p><code>self</code> if called with a block; an <code>Enumerable</code></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


289
290
291
292
293
294
295</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 289</span>

<span class='kw'>def</span> <span class='id each_document'>each_document</span>
  <span class='kw'>if</span> <span class='id block_given?'>block_given?</span> 
    <span class='ivar'>@docs</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id d'>d</span><span class='rbrace'>}</span>
    <span class='kw'>self</span>
  <span class='kw'>else</span> <span class='kw'>self</span><span class='period'>.</span><span class='id to_enum'>to_enum</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="empty?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>empty?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Whether the document list is empty or not</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>whether the document list is empty or not</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 139</span>

<span class='kw'>def</span> <span class='id empty?'>empty?</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="new_document-instance_method">
  
    - (<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Ruber::Document</a></span></tt>) <strong>new_document</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Creates a new empty document</p>
<p>The document is automatically added to the list and the <span class='object_link'><a href="#document_created-signalcode" title="Ruber::DocumentList#document_created (signalcode)">#document_created</a></span> signal
is emitted</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Ruber::Document</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the created document</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84
85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 82</span>

<span class='kw'>def</span> <span class='id new_document'>new_document</span>
  <span class='id doc'>doc</span> <span class='op'>=</span> <span class='const'>Document</span><span class='period'>.</span><span class='id new'>new</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span>
  <span class='id add_document'>add_document</span> <span class='id doc'>doc</span>
  <span class='id emit'>emit</span> <span class='id document_created'>document_created</span><span class='lparen'>(</span><span class='id doc'>doc</span><span class='rparen'>)</span>
  <span class='id doc'>doc</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="query_close-instance_method">
  
    - (<tt>Boolean</tt>) <strong>query_close</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Override of <span class='object_link'><a href="PluginLike.html#query_close-instance_method" title="Ruber::PluginLike#query_close (method)">PluginLike#query_close</a></span></p>
<p>It first calls the query_close of each document&#8217;s
own project, returning <strong>false</strong> as soon as one of them returns <strong>false</strong>, then 
attempts to save each document</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p><strong>true</strong> if it is all right to go on closing Ruber and <strong>false</strong>
otherwise</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


405
406
407
408</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 405</span>

<span class='kw'>def</span> <span class='id query_close'>query_close</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id d'>d</span><span class='period'>.</span><span class='id own_project'>own_project</span><span class='period'>.</span><span class='id query_close'>query_close</span><span class='rbrace'>}</span>
  <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id save_documents'>save_documents</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save_documents-instance_method">
  
    - (<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span>&gt;</tt>) <strong>save_documents</strong>(docs, stop_on_failure = false) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Attempts to save the given documents</p>
<p>What happens if a document can&#8217;t be saved depends on the value of <em>stop_on_failure</em>:
if it&#8217;s <strong>false</strong>, documents which can&#8217;t be saved are skipped, while if it&#8217;s true,
this method will return as soon as one document fails to save.</p>
<p><strong>Note:</strong> by can&#8217;t be saved, we mean that the user chose to save a document but,
for any reason, it couldn&#8217;t be saved (for example this can happen if the user
doesn&#8217;t have write permission on the file, or if the disk is full). If the user
decides not to save the file, instead, it is considered a success.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span>&gt;</tt>)</span>
      
      
        <span class='name'>docs</span>
      
      
      
        &mdash;
        <div class='inline'><p>an array with the documents to save</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <span class='name'>stop_on_failure</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>what to do when a document fails to save. If <strong>true</strong>,
return immediately; if <strong>false</strong>, attempt to save the remaining documents</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span>&gt;</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>an array with the documents which couldn&#8217;t be saved. If
<em>stop_on_failure</em> is <strong>false</strong>, it contains only the documents for which saving failed;
if <em>stop_on_failure</em> is <strong>true</strong> it also contains the documents for which saving
wasn&#8217;t even attempted. If all documents were saved successfully, the array will
be empty</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


192
193
194
195
196
197
198
199
200
201
202
203</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 192</span>

<span class='kw'>def</span> <span class='id save_documents'>save_documents</span> <span class='id docs'>docs</span><span class='comma'>,</span> <span class='id stop_on_failure'>stop_on_failure</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id failed'>failed</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id docs'>docs</span><span class='period'>.</span><span class='id each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id d'>d</span><span class='comma'>,</span> <span class='id i'>i</span><span class='op'>|</span> 
    <span class='id success'>success</span> <span class='op'>=</span> <span class='id d'>d</span><span class='period'>.</span><span class='id save'>save</span>
    <span class='id failed'>failed</span> <span class='op'>&lt;&lt;</span> <span class='id d'>d</span> <span class='kw'>unless</span> <span class='id success'>success</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id success'>success</span> <span class='kw'>and</span> <span class='id stop_on_failure'>stop_on_failure</span>
      <span class='id failed'>failed</span> <span class='op'>+=</span> <span class='id docs'>docs</span><span class='lbracket'>[</span><span class='lparen'>(</span><span class='id i'>i</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id failed'>failed</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save_settings-instance_method">
  
    - (<tt>nil</tt>) <strong>save_settings</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Saves the settings for all open documents</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 210</span>

<span class='kw'>def</span> <span class='id save_settings'>save_settings</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id save_settings'>save_settings</span><span class='rbrace'>}</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="size-instance_method">
  
    - (<tt>Integer</tt>) <strong>size</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='length-instance_method'>length</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>The number of documents in the list</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>the number of documents in the list</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/documents/document_list.rb', line 146</span>

<span class='kw'>def</span> <span class='id size'>size</span>
  <span class='ivar'>@docs</span><span class='period'>.</span><span class='id size'>size</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>



  <div id="instance_method_details" class="method_details_list">
    <h2>Signal Details</h2>
    
      <div class="method_details first">
  <p class="signature first" id="document_created-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>document_created</strong>(QObject* doc) 
</p><div class="docstring">
  <div class="discussion">
    <p>Signal emitted when a new document is created</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt>)</span>
      
      
        <span class='name'>doc</span>
      
      
      
        &mdash;
        <div class='inline'><p>the new document</p></div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <p class="signature " id="closing_document-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>closing_document</strong>(QObject* doc) 
</p><div class="docstring">
  <div class="discussion">
    <p>Signal emitted before a document is closed</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Document.html" title="Ruber::Document (class)">Document</a></span></tt>)</span>
      
      
        <span class='name'>doc</span>
      
      
      
        &mdash;
        <div class='inline'><p>the document which is being closed</p></div>
      
    </li>
  
</ul>

</div>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue Jan 11 14:26:58 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.4 (ruby-1.9.2).
</div>

  </body>
</html>