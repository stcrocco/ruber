<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Ruber::Document</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (D)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Ruber.html" title="Ruber (module)">Ruber</a></span></span>
     &raquo; 
    <span class="title">Document</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Ruber::Document
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Ruber::Document</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
      <dt class="r2">Extended by:</dt>
      <dd class="r2">Forwardable</dd>
      
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><span class='object_link'><a href="Activable.html" title="Ruber::Activable (module)">Activable</a></span>, <span class='object_link'><a href="KTextEditorWrapper.html" title="Ruber::KTextEditorWrapper (module)">KTextEditorWrapper</a></span></dd>
      
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/ruber/editor/document.rb</dd>
  
</dl>
<div class="clear"></div>


  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="ICON_NAMES-constant" class="">ICON_NAMES =
          <div class="docstring">
  <div class="discussion">
    <p>A hash associating icon roles used by Document with icon names. It is used by
<ins><span class="caps">ICONS</span></ins></p>

  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span> 
<span class='symbol'>:modified</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>document-save</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
<span class='symbol'>:modified_on_disk</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>dialog-warning</span><span class='tstring_end'>'</span></span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="ICONS-constant" class="">ICONS =
          <div class="docstring">
  <div class="discussion">
    <p>Hash containing a list of predefined icons, each associated with a role (usually
a symbol describing the icon&#8217;s use).</p>
<p>At the beginning, this hash is empty. It is automatically filled by loading icons
according with the associations specified in <tt>ICON_NAMES</tt> as they&#8217;re requested.
This is necessary because the hash is created when this file is read, which may
happen before the application is created.</p>

  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='const'>Hash</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id h'>h</span><span class='comma'>,</span> <span class='id k'>k</span><span class='op'>|</span>
  <span class='id icon'>icon</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>IconLoader</span><span class='period'>.</span><span class='id load_icon'>load_icon</span> <span class='const'>ICON_NAMES</span><span class='lbracket'>[</span><span class='id k'>k</span><span class='rbracket'>]</span>
  <span class='id h'>h</span><span class='lbracket'>[</span><span class='id k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id icon'>icon</span>
<span class='kw'>end</span></pre></dd>
      
    </dl>
  


  
  
  
  
  
  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#view-instance_method" title="#view (instance method)">- (Object) <strong>view</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The view associated with the document.</p></div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#close-instance_method" title="#close (instance method)">- (Object) <strong>close</strong>(ask = true) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Closes the document.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#close_view-instance_method" title="#close_view (instance method)">- (Object) <strong>close_view</strong>(view, ask = true) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Closes the view <em>view</em> associated with the document.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#create_view-instance_method" title="#create_view (instance method)">- (Object) <strong>create_view</strong>(parent = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creats a view for the document.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#document_save_as-instance_method" title="#document_save_as (instance method)">- (Object) <strong>document_save_as</strong> </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Works like <tt>KTextEditor::Document#documentSave</tt> but sets the starting directory to
either the project directory, if there&#8217;s an active project, or to the default script
directory otherwise.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#editing-instance_method" title="#editing (instance method)">- (Object) <strong>editing</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Executes the given block inside a pair of <tt>start_editing</tt>/<tt>end_editing</tt>
calls.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#execute_action-instance_method" title="#execute_action (instance method)">- (Object) <strong>execute_action</strong>(name, arg = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Executes the action with name <em>name</em> contained in document&#8217;s view&#8217;s action
collection.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#extension-instance_method" title="#extension (instance method)">- (Object) <strong>extension</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the document extension with name <em>name</em> or <strong>nil</strong> if such an extension
doesn&#8217;t exist.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#file_type_match%3F-instance_method" title="#file_type_match? (instance method)">- (Boolean) <strong>file_type_match?</strong>(mimetypes = [], patterns = []) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Compares the mimetype and file name of the document with a list of mimetypes (
using <tt><span class="caps">KDE</span>::MimeType#=~</tt>) and/or patterns (using <tt>File.fnmatch</tt>),
returning <strong>true</strong> if any of the comparisons is successful and
<strong>false</strong> if all fails.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#has_file%3F-instance_method" title="#has_file? (instance method)">- (Boolean) <strong>has_file?</strong>(which = :any) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether the document is associated with a file.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#icon-instance_method" title="#icon (instance method)">- (Object) <strong>icon</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns an appropriate <tt>Qt::Icon</tt> for the document, depending on the mimetype and the 
status of the document.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Document) <strong>initialize</strong>(parent = nil, file = nil) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a new Ruber::Document.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#modified_on_disk%3F-instance_method" title="#modified_on_disk? (instance method)">- (Boolean) <strong>modified_on_disk?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Tells whether the document is modified on disk or not.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#own_project-instance_method" title="#own_project (instance method)">- (Object) <strong>own_project</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the DocumentProject associated with the document.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">- (Object) <strong>path</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the path of the document.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#pristine%3F-instance_method" title="#pristine? (instance method)">- (Boolean) <strong>pristine?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Tells whether the document is <em>pristine</em> or not.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#project-instance_method" title="#project (instance method)">- (Object) <strong>project</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Return the project with wider scope the document belongs to.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#save-instance_method" title="#save (instance method)">- (Object) <strong>save</strong> </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Saves the document.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#save_settings-instance_method" title="#save_settings (instance method)">- (Object) <strong>save_settings</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#text-instance_method" title="#text (instance method)">- (Object) <strong>text</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the text in the document
<del>-</del>
We can&#8217;t just delegate this method to the internal <tt>KTextEditor::Document</tt>
because its <ins>text</ins> method returns nil if there&#8217;s no text in the document, instead
of an empty string.</p></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="KTextEditorWrapper.html" title="Ruber::KTextEditorWrapper (module)">KTextEditorWrapper</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="KTextEditorWrapper.html#connect_wrapped_signals-instance_method" title="Ruber::KTextEditorWrapper#connect_wrapped_signals (method)">#connect_wrapped_signals</a></span>, <span class='object_link'><a href="KTextEditorWrapper.html#initialize_wrapper-instance_method" title="Ruber::KTextEditorWrapper#initialize_wrapper (method)">#initialize_wrapper</a></span>, <span class='object_link'><a href="KTextEditorWrapper.html#interface-instance_method" title="Ruber::KTextEditorWrapper#interface (method)">#interface</a></span>, <span class='object_link'><a href="KTextEditorWrapper.html#internal-instance_method" title="Ruber::KTextEditorWrapper#internal (method)">#internal</a></span>, <span class='object_link'><a href="KTextEditorWrapper.html#method_missing-instance_method" title="Ruber::KTextEditorWrapper#method_missing (method)">#method_missing</a></span>, <span class='object_link'><a href="KTextEditorWrapper.html#prepare_wrapper_connections-class_method" title="Ruber::KTextEditorWrapper.prepare_wrapper_connections (method)">prepare_wrapper_connections</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Activable.html" title="Ruber::Activable (module)">Activable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Activable.html#activate-instance_method" title="Ruber::Activable#activate (method)">#activate</a></span>, <span class='object_link'><a href="Activable.html#active%3D-instance_method" title="Ruber::Activable#active= (method)">#active=</a></span>, <span class='object_link'><a href="Activable.html#active%3F-instance_method" title="Ruber::Activable#active? (method)">#active?</a></span>, <span class='object_link'><a href="Activable.html#deactivate-instance_method" title="Ruber::Activable#deactivate (method)">#deactivate</a></span></p>


  <h2>Signal Summary</h2>
  <ul class="summary" >
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#modified_changed-signalcode" title="modified_changed (signalcode)">- <strong>modified_changed</strong>(bool arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#document_name_changed-signalcode" title="document_name_changed (signalcode)">- <strong>document_name_changed</strong>(QString arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_changed-signalcode" title="text_changed (signalcode)">- <strong>text_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#about_to_close-signalcode" title="about_to_close (signalcode)">- <strong>about_to_close</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#about_to_reload-signalcode" title="about_to_reload (signalcode)">- <strong>about_to_reload</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#document_url_changed-signalcode" title="document_url_changed (signalcode)">- <strong>document_url_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#highlighting_mode_changed-signalcode" title="highlighting_mode_changed (signalcode)">- <strong>highlighting_mode_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#mode_changed-signalcode" title="mode_changed (signalcode)">- <strong>mode_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_modified-signalcode" title="text_modified (signalcode)">- <strong>text_modified</strong>(KTextEditor::Range arg1, KTextEditor::Range arg2, QObject* arg3) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_inserted-signalcode" title="text_inserted (signalcode)">- <strong>text_inserted</strong>(KTextEditor::Range arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_removed-signalcode" title="text_removed (signalcode)">- <strong>text_removed</strong>(KTextEditor::Range arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#view_created-signalcode" title="view_created (signalcode)">- <strong>view_created</strong>(QObject* arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#closing-signalcode" title="closing (signalcode)">- <strong>closing</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#activated-signalcode" title="activated (signalcode)">- <strong>activated</strong> </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#deactivated-signalcode" title="deactivated (signalcode)">- <strong>deactivated</strong> </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#modified_on_disk-signalcode" title="modified_on_disk (signalcode)">- <strong>modified_on_disk</strong>(QObject* arg1, bool arg2, KTextEditor::ModificationInterface::ModifiedOnDiskReason arg3) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#modified_changed-signalcode" title="modified_changed (signalcode)">- <strong>modified_changed</strong>(bool arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#document_name_changed-signalcode" title="document_name_changed (signalcode)">- <strong>document_name_changed</strong>(QString arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_changed-signalcode" title="text_changed (signalcode)">- <strong>text_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#about_to_close-signalcode" title="about_to_close (signalcode)">- <strong>about_to_close</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#about_to_reload-signalcode" title="about_to_reload (signalcode)">- <strong>about_to_reload</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#document_url_changed-signalcode" title="document_url_changed (signalcode)">- <strong>document_url_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#highlighting_mode_changed-signalcode" title="highlighting_mode_changed (signalcode)">- <strong>highlighting_mode_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#mode_changed-signalcode" title="mode_changed (signalcode)">- <strong>mode_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_modified-signalcode" title="text_modified (signalcode)">- <strong>text_modified</strong>(KTextEditor::Range arg1, KTextEditor::Range arg2, QObject* arg3) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_inserted-signalcode" title="text_inserted (signalcode)">- <strong>text_inserted</strong>(KTextEditor::Range arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_removed-signalcode" title="text_removed (signalcode)">- <strong>text_removed</strong>(KTextEditor::Range arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#view_created-signalcode" title="view_created (signalcode)">- <strong>view_created</strong>(QObject* arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#closing-signalcode" title="closing (signalcode)">- <strong>closing</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#activated-signalcode" title="activated (signalcode)">- <strong>activated</strong> </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#deactivated-signalcode" title="deactivated (signalcode)">- <strong>deactivated</strong> </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#modified_on_disk-signalcode" title="modified_on_disk (signalcode)">- <strong>modified_on_disk</strong>(QObject* arg1, bool arg2, KTextEditor::ModificationInterface::ModifiedOnDiskReason arg3) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#sig_query_close-signalcode" title="sig_query_close (signalcode)">- <strong>sig_query_close</strong>(bool* arg1, bool* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#canceled-signalcode" title="canceled (signalcode)">- <strong>canceled</strong>(QString arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#completed-signalcode" title="completed (signalcode)">- <strong>completed</strong> </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#completed1-signalcode" title="completed1 (signalcode)">- <strong>completed1</strong>(bool arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#started-signalcode" title="started (signalcode)">- <strong>started</strong>(KIO::Job* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#set_status_bar_text-signalcode" title="set_status_bar_text (signalcode)">- <strong>set_status_bar_text</strong>(QString arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#setWindowCaption-signalcode" title="setWindowCaption (signalcode)">- <strong>setWindowCaption</strong>(QString arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#modified_changed-signalcode" title="modified_changed (signalcode)">- <strong>modified_changed</strong>(bool arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#document_name_changed-signalcode" title="document_name_changed (signalcode)">- <strong>document_name_changed</strong>(QString arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_changed-signalcode" title="text_changed (signalcode)">- <strong>text_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#about_to_close-signalcode" title="about_to_close (signalcode)">- <strong>about_to_close</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#about_to_reload-signalcode" title="about_to_reload (signalcode)">- <strong>about_to_reload</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#document_url_changed-signalcode" title="document_url_changed (signalcode)">- <strong>document_url_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#highlighting_mode_changed-signalcode" title="highlighting_mode_changed (signalcode)">- <strong>highlighting_mode_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#mode_changed-signalcode" title="mode_changed (signalcode)">- <strong>mode_changed</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_modified-signalcode" title="text_modified (signalcode)">- <strong>text_modified</strong>(KTextEditor::Range arg1, KTextEditor::Range arg2, QObject* arg3) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_inserted-signalcode" title="text_inserted (signalcode)">- <strong>text_inserted</strong>(KTextEditor::Range arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#text_removed-signalcode" title="text_removed (signalcode)">- <strong>text_removed</strong>(KTextEditor::Range arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#view_created-signalcode" title="view_created (signalcode)">- <strong>view_created</strong>(QObject* arg1, QObject* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#closing-signalcode" title="closing (signalcode)">- <strong>closing</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#activated-signalcode" title="activated (signalcode)">- <strong>activated</strong> </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#deactivated-signalcode" title="deactivated (signalcode)">- <strong>deactivated</strong> </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#modified_on_disk-signalcode" title="modified_on_disk (signalcode)">- <strong>modified_on_disk</strong>(QObject* arg1, bool arg2, KTextEditor::ModificationInterface::ModifiedOnDiskReason arg3) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#sig_query_close-signalcode" title="sig_query_close (signalcode)">- <strong>sig_query_close</strong>(bool* arg1, bool* arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#canceled-signalcode" title="canceled (signalcode)">- <strong>canceled</strong>(QString arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#completed-signalcode" title="completed (signalcode)">- <strong>completed</strong> </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#completed1-signalcode" title="completed1 (signalcode)">- <strong>completed1</strong>(bool arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#started-signalcode" title="started (signalcode)">- <strong>started</strong>(KIO::Job* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#set_status_bar_text-signalcode" title="set_status_bar_text (signalcode)">- <strong>set_status_bar_text</strong>(QString arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#setWindowCaption-signalcode" title="setWindowCaption (signalcode)">- <strong>setWindowCaption</strong>(QString arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
  </ul>





<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Ruber::Document (class)">Document</a></span></tt>) <strong>initialize</strong>(parent = nil, file = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Creates a new Ruber::Document.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 77</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span> <span class='id parent'>parent</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id file'>file</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>super</span> <span class='id parent'>parent</span>
  <span class='ivar'>@active</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@doc</span> <span class='op'>=</span> <span class='const'>KTextEditor</span><span class='op'>::</span><span class='const'>EditorChooser</span><span class='period'>.</span><span class='id editor'>editor</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>katepart</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id create_document'>create_document</span><span class='lparen'>(</span> <span class='kw'>self</span><span class='rparen'>)</span>
  <span class='id initialize_wrapper'>initialize_wrapper</span> <span class='ivar'>@doc</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id instance_variable_get'>instance_variable_get</span><span class='lparen'>(</span><span class='symbol'>:@signal_table</span><span class='rparen'>)</span>
  <span class='ivar'>@view</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id openUrl'>openUrl</span><span class='lparen'>(</span><span class='id file'>file</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Url</span><span class='period'>.</span><span class='id from_path'>from_path</span><span class='lparen'>(</span><span class='id file'>file</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id file'>file</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id file'>file</span>
  <span class='ivar'>@annotation_model</span> <span class='op'>=</span> <span class='const'>AnnotationModel</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>self</span>
  <span class='id interface'>interface</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>annotation_interface</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id annotation_model'>annotation_model</span> <span class='op'>=</span> <span class='ivar'>@annotation_model</span>
  <span class='id interface'>interface</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>modification_interface</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id modified_on_disk_warning'>modified_on_disk_warning</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@modified_on_disk</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@project</span> <span class='op'>=</span> <span class='const'>DocumentProject</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>self</span>
  
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id connect'>connect</span><span class='lparen'>(</span><span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>modifiedChanged(KTextEditor::Document*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id doc'>doc</span><span class='op'>|</span>
    <span class='id emit'>emit</span> <span class='id modified_changed'>modified_changed</span><span class='lparen'>(</span><span class='ivar'>@doc</span><span class='period'>.</span><span class='id modified?'>modified?</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id connect'>connect</span><span class='lparen'>(</span><span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>documentUrlChanged(KTextEditor::Document*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id doc'>doc</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id doc'>doc</span><span class='period'>.</span><span class='id url'>url</span><span class='period'>.</span><span class='id remote_file?'>remote_file?</span>
      <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:components</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id each_component'>each_component</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span> <span class='id c'>c</span><span class='period'>.</span><span class='id update_project'>update_project</span> <span class='ivar'>@project</span><span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='id emit'>emit</span> <span class='id document_url_changed'>document_url_changed</span> <span class='kw'>self</span>
  <span class='kw'>end</span>
  
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id connect'>connect</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='symbol'>:completed</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='ivar'>@doc</span><span class='period'>.</span><span class='id url'>url</span><span class='period'>.</span><span class='id remote_file?'>remote_file?</span>
      <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:components</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id each_component'>each_component</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span><span class='id c'>c</span><span class='period'>.</span><span class='id update_project'>update_project</span> <span class='ivar'>@project</span><span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='id emit'>emit</span> <span class='id completed'>completed</span>
  <span class='kw'>end</span>
  
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id connect'>connect</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>documentNameChanged(KTextEditor::Document*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id doc'>doc</span><span class='op'>|</span>
    <span class='id emit'>emit</span> <span class='id document_name_changed'>document_name_changed</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id document_name'>document_name</span><span class='comma'>,</span> <span class='kw'>self</span>
  <span class='kw'>end</span>
  
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id connect'>connect</span><span class='lparen'>(</span><span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>textChanged(KTextEditor::Document*, KTextEditor::Range, KTextEditor::Range)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id _'>_</span><span class='comma'>,</span> <span class='id o'>o</span><span class='comma'>,</span> <span class='id n'>n</span><span class='op'>|</span> <span class='id emit'>emit</span> <span class='id text_modified'>text_modified</span><span class='lparen'>(</span><span class='id o'>o</span><span class='comma'>,</span> <span class='id n'>n</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rparen'>)</span><span class='rbrace'>}</span>
  
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id connect'>connect</span><span class='lparen'>(</span><span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>textInserted(KTextEditor::Document*, KTextEditor::Range)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id _'>_</span><span class='comma'>,</span> <span class='id r'>r</span><span class='op'>|</span> 
    <span class='kw'>begin</span>
      <span class='id emit'>emit</span> <span class='id text_inserted'>text_inserted</span><span class='lparen'>(</span><span class='id r'>r</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'>ArgumentError</span> <span class='op'>=&gt;</span> <span class='id e'>e</span>
      <span class='const'>ExceptionDialog</span><span class='period'>.</span><span class='id new'>new</span> <span class='id e'>e</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>An exception was raised when writing text. See issue number 6 at http://github.com/stcrocco/ruber/issues</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id connect'>connect</span><span class='lparen'>(</span><span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>textRemoved(KTextEditor::Document*, KTextEditor::Range)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id _'>_</span><span class='comma'>,</span> <span class='id r'>r</span><span class='op'>|</span> <span class='id emit'>emit</span> <span class='id text_removed'>text_removed</span><span class='lparen'>(</span><span class='id r'>r</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rparen'>)</span><span class='rbrace'>}</span>
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id connect'>connect</span><span class='lparen'>(</span><span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>modifiedOnDisk(KTextEditor::Document*, bool, KTextEditor::ModificationInterface::ModifiedOnDiskReason)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id _'>_</span><span class='comma'>,</span> <span class='id mod'>mod</span><span class='comma'>,</span> <span class='id reason'>reason</span><span class='op'>|</span>
    <span class='ivar'>@modified_on_disk</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id reason'>reason</span> <span class='op'>!=</span> <span class='const'>KTextEditor</span><span class='op'>::</span><span class='const'>ModificationInterface</span><span class='op'>::</span><span class='const'>OnDiskUnmodified</span><span class='rparen'>)</span>
    <span class='id emit'>emit</span> <span class='id modified_on_disk'>modified_on_disk</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id mod'>mod</span><span class='comma'>,</span> <span class='id reason'>reason</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id connect'>connect</span> <span class='ivar'>@doc</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>completed(bool)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>completed1(bool)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>
<div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <span class='object_link'><a href="KTextEditorWrapper.html#method_missing-instance_method" title="Ruber::KTextEditorWrapper#method_missing (method)">Ruber::KTextEditorWrapper</a></span>
    
  </p>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="view-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="view-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>view</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The view associated with the document. If a view hasn&#8217;t been created, this is <strong>nil</strong></p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 66</span>

<span class='kw'>def</span> <span class='id view'>view</span>
  <span class='ivar'>@view</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="close-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>close</strong>(ask = true) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Closes the document. If <em>ask</em> is <strong>true</strong>, the <tt>query_close</tt> method is called,
asking the user what to do if the document is modified. If the user confirms
closing or if there&#8217;s no need of confirmation, the following happens:</p>
<ul>
	<li>the <tt>closing(QObject*)</tt> signal is emitted</li>
	<li>the view (if it exists) is closed</li>
	<li>the <tt>close_url</tt> method is called</li>
	<li>all the documnent extensions are removed</li>
	<li>al singnals are disconnected from the document</li>
	<li>the document is disposed of</li>
</ul>
<p>Returns <strong>true</strong> if the document was closed and <strong>false</strong> otherwise</p>
<p><span class="caps">TODO</span>: maybe remove the argument, since this method is not called anymore at</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


345
346
347
348
349
350
351
352
353
354
355
356
357</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 345</span>

<span class='kw'>def</span> <span class='id close'>close</span> <span class='id ask'>ask</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id ask'>ask</span> <span class='op'>||</span> <span class='id query_close'>query_close</span>
    <span class='id emit'>emit</span> <span class='id closing'>closing</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='ivar'>@project</span><span class='period'>.</span><span class='id save'>save</span> <span class='kw'>unless</span> <span class='id path'>path</span><span class='period'>.</span><span class='id empty?'>empty?</span>
    <span class='ivar'>@view</span><span class='period'>.</span><span class='id close'>close</span> <span class='kw'>if</span> <span class='ivar'>@doc</span><span class='period'>.</span><span class='id views'>views</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id close_url'>close_url</span> <span class='kw'>false</span>
    <span class='ivar'>@project</span><span class='period'>.</span><span class='id close'>close</span> <span class='kw'>false</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id disconnect'>disconnect</span>
    <span class='id dispose'>dispose</span>
    <span class='kw'>true</span>
  <span class='kw'>else</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="close_view-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>close_view</strong>(view, ask = true) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Closes the view <em>view</em> associated with the document.</p>
<p>Currently, the <em>view</em> parameter is unused, as a document can only have one view,
and all this method does is to call the <tt>close</tt> method with <em>ask</em> as argument.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


365
366
367</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 365</span>

<span class='kw'>def</span> <span class='id close_view'>close_view</span> <span class='id view'>view</span><span class='comma'>,</span> <span class='id ask'>ask</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id close'>close</span> <span class='id ask'>ask</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_view-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>create_view</strong>(parent = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Creats a view for the document. <em>parent</em> is the view&#8217;s parent widget. Raises
<ins>RuntimeError</ins> if the document already has a view.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 259</span>

<span class='kw'>def</span> <span class='id create_view'>create_view</span> <span class='id parent'>parent</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can't create a second view for this document</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@view</span>
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id create_view'>create_view</span> <span class='kw'>nil</span>
  <span class='ivar'>@view</span> <span class='op'>=</span> <span class='const'>EditorView</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='ivar'>@doc</span><span class='period'>.</span><span class='id views'>views</span><span class='period'>.</span><span class='id first'>first</span><span class='comma'>,</span> <span class='id parent'>parent</span>
  <span class='ivar'>@view</span><span class='period'>.</span><span class='id connect'>connect</span><span class='lparen'>(</span><span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>closing()</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='ivar'>@view</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rbrace'>}</span>
  <span class='ivar'>@view</span><span class='period'>.</span><span class='id connect'>connect</span><span class='lparen'>(</span><span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>destroyed(QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='ivar'>@view</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rbrace'>}</span>
  <span class='id gui'>gui</span> <span class='op'>=</span> <span class='ivar'>@view</span><span class='period'>.</span><span class='id send'>send</span><span class='lparen'>(</span><span class='symbol'>:internal</span><span class='rparen'>)</span>
  <span class='id action'>action</span> <span class='op'>=</span> <span class='id gui'>gui</span><span class='period'>.</span><span class='id action_collection'>action_collection</span><span class='period'>.</span><span class='id action'>action</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>file_save_as</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id disconnect'>disconnect</span> <span class='id action'>action</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='symbol'>:triggered</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='ivar'>@doc</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>documentSaveAs()</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='id action'>action</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='symbol'>:triggered</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='symbol'>:document_save_as</span><span class='rparen'>)</span>
  <span class='id action'>action</span> <span class='op'>=</span> <span class='id gui'>gui</span><span class='period'>.</span><span class='id action_collection'>action_collection</span><span class='period'>.</span><span class='id action'>action</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>file_save</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id disconnect'>disconnect</span> <span class='id action'>action</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='symbol'>:triggered</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='ivar'>@doc</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>documentSave()</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='id action'>action</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='symbol'>:triggered</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='symbol'>:save</span><span class='rparen'>)</span>
  <span class='id emit'>emit</span> <span class='id view_created'>view_created</span><span class='lparen'>(</span><span class='ivar'>@view</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rparen'>)</span>
  <span class='ivar'>@view</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_save_as-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>document_save_as</strong>  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Works like <tt>KTextEditor::Document#documentSave</tt> but sets the starting directory to
either the project directory, if there&#8217;s an active project, or to the default script
directory otherwise.</p>
<p><b>Note:</b> there&#8217;s a small difference with <tt>KTextEditor::Document#documentSave</tt>.
In that method, the encoding initially selected in the combo box is read from the
configuration. Since I couldn&#8217;t figure how to access that, instead, the default
encoding here is set to <span class="caps">UTF</span>-8 if using ruby 1.9 and to <span class="caps">ISO</span>-8859-1 if using ruby
1.8</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 387</span>

<span class='kw'>def</span> <span class='id document_save_as'>document_save_as</span>
  <span class='id enc'>enc</span> <span class='op'>=</span> <span class='const'>RUBY_VERSION</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>1\.9</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>'</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>ISO-8859-1</span><span class='tstring_end'>'</span></span>
  <span class='id prj'>prj</span> <span class='op'>=</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:projects</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id current'>current</span>
  <span class='id path'>path</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id path'>path</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='kw'>then</span> <span class='kw'>self</span><span class='period'>.</span><span class='id path'>path</span>
  <span class='kw'>elsif</span> <span class='id prj'>prj</span> <span class='kw'>then</span> <span class='id prj'>prj</span><span class='period'>.</span><span class='id project_directory'>project_directory</span>
  <span class='kw'>else</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
  <span class='kw'>end</span>
  
  <span class='id res'>res</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>EncodingFileDialog</span><span class='period'>.</span><span class='id get_save_file_name_and_encoding'>get_save_file_name_and_encoding</span> <span class='id enc'>enc</span><span class='comma'>,</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> 
      <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'>KDE</span><span class='period'>.</span><span class='id i18n'>i18n</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Save File</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id res'>res</span><span class='period'>.</span><span class='id file_names'>file_names</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='kw'>or</span> <span class='id res'>res</span><span class='period'>.</span><span class='id file_names'>file_names</span><span class='period'>.</span><span class='id first'>first</span><span class='period'>.</span><span class='id empty?'>empty?</span>
  <span class='id u'>u</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Url</span><span class='period'>.</span><span class='id new'>new</span> <span class='id res'>res</span><span class='period'>.</span><span class='id file_names'>file_names</span><span class='period'>.</span><span class='id first'>first</span>
  <span class='kw'>if</span> <span class='id u'>u</span><span class='period'>.</span><span class='id is_local_file'>is_local_file</span> <span class='kw'>and</span> <span class='const'>File</span><span class='period'>.</span><span class='id exist?'>exist?</span><span class='lparen'>(</span><span class='id u'>u</span><span class='period'>.</span><span class='id path'>path</span><span class='rparen'>)</span>
    <span class='id ans'>ans</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MessageBox</span><span class='period'>.</span><span class='id warning_continue_cancel'>warning_continue_cancel</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='const'>KDE</span><span class='period'>.</span><span class='id i18n'>i18n</span><span class='lparen'>(</span><span class='id format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A file named \&quot;%s\&quot; already exists. \nAre you sure you want to overwrite it?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id u'>u</span><span class='period'>.</span><span class='id path'>path</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='id i18n'>i18n</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Overwrite File?</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>StandardGuiItem</span><span class='period'>.</span><span class='id overwrite'>overwrite</span><span class='comma'>,</span>
        <span class='const'>KDE</span><span class='op'>::</span><span class='const'>StandardGuiItem</span><span class='period'>.</span><span class='id cancel'>cancel</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MessageBox</span><span class='op'>::</span><span class='const'>Notify</span> <span class='op'>|</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MessageBox</span><span class='op'>::</span><span class='const'>Dangerous</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id ans'>ans</span> <span class='op'>==</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MessageBox</span><span class='op'>::</span><span class='const'>Cancel</span>
  <span class='kw'>end</span>
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id encoding'>encoding</span> <span class='op'>=</span> <span class='id res'>res</span><span class='period'>.</span><span class='id encoding'>encoding</span>
  <span class='ivar'>@project</span><span class='period'>.</span><span class='id save'>save</span>
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id saveAs'>saveAs</span> <span class='id u'>u</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>document_save_as()</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="editing-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>editing</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Executes the given block inside a pair of <tt>start_editing</tt>/<tt>end_editing</tt>
calls.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


322
323
324
325
326
327
328</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 322</span>

<span class='kw'>def</span> <span class='id editing'>editing</span>
  <span class='kw'>begin</span>
    <span class='ivar'>@doc</span><span class='period'>.</span><span class='id start_editing'>start_editing</span>
    <span class='kw'>yield</span>
  <span class='kw'>ensure</span> <span class='ivar'>@doc</span><span class='period'>.</span><span class='id end_editing'>end_editing</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="execute_action-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>execute_action</strong>(name, arg = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Executes the action with name <em>name</em> contained in document&#8217;s view&#8217;s action
collection. This is made by having the action emit the <tt>triggered()</tt> or
<tt>toggled(bool)</tt> signal (depending on whether it&#8217;s a standard action or a
<tt><span class="caps">KDE</span>::ToggleAction</tt>). In the second case, <em>arg</em> is the argument passed to
the signal.</p>
<p>Returns <strong>true</strong> if <em>name</em> is the name of an action and <strong>false</strong> otherwise.</p>
<p><b>Note:</b> for this method to work, a view should have been created for the
document, otherwise this method will always return *false.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


128
129
130</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 128</span>

<span class='kw'>def</span> <span class='id execute_action'>execute_action</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id arg'>arg</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@view</span> <span class='op'>?</span> <span class='ivar'>@view</span><span class='period'>.</span><span class='id execute_action'>execute_action</span><span class='lparen'>(</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id arg'>arg</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extension-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>extension</strong>(name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns the document extension with name <em>name</em> or <strong>nil</strong> if such an extension
doesn&#8217;t exist</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 165</span>

<span class='kw'>def</span> <span class='id extension'>extension</span> <span class='id name'>name</span>
  <span class='ivar'>@project</span><span class='period'>.</span><span class='id extension'>extension</span> <span class='id name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="file_type_match?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>file_type_match?</strong>(mimetypes = [], patterns = []) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Compares the mimetype and file name of the document with a list of mimetypes (
using <tt><span class="caps">KDE</span>::MimeType#=~</tt>) and/or patterns (using <tt>File.fnmatch</tt>),
returning <strong>true</strong> if any of the comparisons is successful and
<strong>false</strong> if all fails. Both <em>mimetypes</em> and <em>patterns</em> can be either a string or
an array of strings (a single string will be treated as an array containing a
single string).</p>
<p>====Notes:</p>
<ul>
	<li>if both <em>mimetypes</em> and <em>patterns</em> are empty, the comparison always returns <strong>true</strong>.</li>
	<li>if the document is not associated with a file (that is, if <ins>path</ins> returns an
  empty string) it won&#8217;t match any pattern. It will match the <tt>text/plain</tt>
  mimetype, however.</li>
	<li>only the basename of the file will be taken into account for pattern matching.
  For example, the pattern <tt>abc/xyz.jkl</tt> will match the pattern <tt>xyz.jkl</tt>,
  which wouldn&#8217;t be the case if the whole filename was included.</li>
</ul>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


149
150
151
152
153
154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 149</span>

<span class='kw'>def</span> <span class='id file_type_match?'>file_type_match?</span> <span class='id mimetypes'>mimetypes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id patterns'>patterns</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id mime'>mime</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MimeType</span><span class='period'>.</span><span class='id mime_type'>mime_type</span> <span class='ivar'>@doc</span><span class='period'>.</span><span class='id mime_type'>mime_type</span>
  <span class='id mimetypes'>mimetypes</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id mimetypes'>mimetypes</span><span class='rparen'>)</span><span class='period'>.</span><span class='id reject'>reject</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id i'>i</span><span class='op'>|</span> <span class='id i'>i</span><span class='period'>.</span><span class='id empty?'>empty?</span><span class='rbrace'>}</span>
  <span class='id patterns'>patterns</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id patterns'>patterns</span><span class='rparen'>)</span><span class='period'>.</span><span class='id reject'>reject</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id i'>i</span><span class='op'>|</span> <span class='id i'>i</span><span class='period'>.</span><span class='id empty?'>empty?</span><span class='rbrace'>}</span>
  <span class='id base'>base</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id basename'>basename</span> <span class='id path'>path</span>
  <span class='kw'>if</span> <span class='id mimetypes'>mimetypes</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='kw'>and</span> <span class='id patterns'>patterns</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='kw'>then</span> <span class='kw'>true</span>
  <span class='kw'>elsif</span> <span class='id mimetypes'>mimetypes</span><span class='period'>.</span><span class='id any?'>any?</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id m'>m</span><span class='op'>|</span> <span class='id mime'>mime</span> <span class='op'>=~</span> <span class='id m'>m</span><span class='rbrace'>}</span> <span class='kw'>then</span> <span class='kw'>true</span>
  <span class='kw'>elsif</span> <span class='id patterns'>patterns</span><span class='period'>.</span><span class='id any?'>any?</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id pat'>pat</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id fnmatch?'>fnmatch?</span> <span class='id pat'>pat</span><span class='comma'>,</span> <span class='id base'>base</span><span class='comma'>,</span> <span class='const'>File</span><span class='op'>::</span><span class='const'>FNM_DOTMATCH</span><span class='rbrace'>}</span> <span class='kw'>then</span> <span class='kw'>true</span>
  <span class='kw'>else</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="has_file?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>has_file?</strong>(which = :any) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Whether the document is associated with a file</p>
<p>Depending on the value of <em>which</em> this method can also return <strong>true</strong> only if the
document is associated with a local file or with a remote file. In particular:</p>
<ul>
	<li>if it&#8217;s <code>:local</code> this method will return <strong>true</strong> only if the document is associated
  with a local file</li>
	<li>if it&#8217;s <code>:remote</code>, this method will return <strong>true</strong> only if the document is associated
  with a remote file</li>
	<li>with any other value, this method will return <strong>true</strong> if the document is associated
  with any file</li>
</ul>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
        <span class='name'>which</span>
      
      
        <em class="default">(defaults to: <tt>:any</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the kind of files which are acceptable</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p><strong>true</strong> if the document is associated with a file of the kind
matching <em>which</em> and <strong>false</strong> otherwise</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


202
203
204
205
206
207
208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 202</span>

<span class='kw'>def</span> <span class='id has_file?'>has_file?</span> <span class='id which'>which</span> <span class='op'>=</span> <span class='symbol'>:any</span>
  <span class='id u'>u</span> <span class='op'>=</span> <span class='id url'>url</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id u'>u</span><span class='period'>.</span><span class='id empty?'>empty?</span>
  <span class='kw'>case</span> <span class='id which'>which</span>
  <span class='kw'>when</span> <span class='symbol'>:local</span> <span class='kw'>then</span> <span class='id url'>url</span><span class='period'>.</span><span class='id local_file?'>local_file?</span>
  <span class='kw'>when</span> <span class='symbol'>:remote</span> <span class='kw'>then</span> <span class='op'>!</span><span class='id url'>url</span><span class='period'>.</span><span class='id local_file?'>local_file?</span>
  <span class='kw'>else</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="icon-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>icon</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns an appropriate <tt>Qt::Icon</tt> for the document, depending on the mimetype and the 
status of the document.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176
177
178
179
180
181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 173</span>

<span class='kw'>def</span> <span class='id icon'>icon</span>
  <span class='kw'>if</span> <span class='ivar'>@modified_on_disk</span> <span class='kw'>then</span> <span class='const'>ICONS</span><span class='lbracket'>[</span><span class='symbol'>:modified_on_disk</span><span class='rbracket'>]</span>
  <span class='kw'>elsif</span> <span class='ivar'>@doc</span><span class='period'>.</span><span class='id modified?'>modified?</span> <span class='kw'>then</span> <span class='const'>ICONS</span><span class='lbracket'>[</span><span class='symbol'>:modified</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id has_file?'>has_file?</span> <span class='symbol'>:remote</span>
      <span class='id mime'>mime</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MimeType</span><span class='period'>.</span><span class='id find_by_content'>find_by_content</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>ByteArray</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='ivar'>@doc</span><span class='period'>.</span><span class='id text'>text</span><span class='rparen'>)</span>
    <span class='kw'>else</span> <span class='id mime'>mime</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MimeType</span><span class='period'>.</span><span class='id mime_type'>mime_type</span><span class='lparen'>(</span><span class='ivar'>@doc</span><span class='period'>.</span><span class='id mime_type'>mime_type</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id icon_name'>icon_name</span> <span class='op'>=</span> <span class='id mime'>mime</span><span class='period'>.</span><span class='id icon_name'>icon_name</span>
    <span class='const'>Qt</span><span class='op'>::</span><span class='const'>Icon</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='const'>KDE</span><span class='op'>::</span><span class='const'>IconLoader</span><span class='period'>.</span><span class='id load_mime_type_pixmap'>load_mime_type_pixmap</span> <span class='id icon_name'>icon_name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>inspect</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70
71
72</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 68</span>

<span class='kw'>def</span> <span class='id inspect'>inspect</span>
  <span class='kw'>if</span> <span class='id disposed?'>disposed?</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt; </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='rbrace'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id object_id'>object_id</span><span class='rbrace'>}</span><span class='tstring_content'>DISPOSED &gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span> <span class='kw'>super</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="modified_on_disk?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>modified_on_disk?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Tells whether the document is modified on disk or not</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


226
227
228</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 226</span>

<span class='kw'>def</span> <span class='id modified_on_disk?'>modified_on_disk?</span>
  <span class='ivar'>@modified_on_disk</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="own_project-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>own_project</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns the DocumentProject associated with the document</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


292
293
294</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 292</span>

<span class='kw'>def</span> <span class='id own_project'>own_project</span>
  <span class='ivar'>@project</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="path-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>path</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns the path of the document</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


303
304
305</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 303</span>

<span class='kw'>def</span> <span class='id path'>path</span>
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id url'>url</span><span class='period'>.</span><span class='id path'>path</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="pristine?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>pristine?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Tells whether the document is <em>pristine</em> or not. A pristine document is an empty,
unmodified document which hasn&#8217;t a file associated with it. The document returned
by <tt>Document.new</tt> is pristine is the second argument is <strong>nil</strong>, but it&#8217;s 
not pristine if a non-<strong>nil</strong> second argument was given (because in  that case the 
document has a file associated with it).</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 219</span>

<span class='kw'>def</span> <span class='id pristine?'>pristine?</span>
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id url'>url</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='kw'>and</span> <span class='op'>!</span><span class='ivar'>@doc</span><span class='period'>.</span><span class='id modified?'>modified?</span> <span class='kw'>and</span> <span class='ivar'>@doc</span><span class='period'>.</span><span class='id text'>text</span><span class='period'>.</span><span class='id nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="project-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>project</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Return the project with wider scope the document belongs to. This is:</p>
<ul>
	<li>the current global project if it exists and the document is associated with a file
  belonging to it</li>
	<li>the document project if there&#8217;s no active global project or the document isn&#8217;t
  associated with a file or the file doesn&#8217;t belong the global project</li>
</ul>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


283
284
285
286
287</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 283</span>

<span class='kw'>def</span> <span class='id project'>project</span>
  <span class='id prj'>prj</span> <span class='op'>=</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:projects</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id current'>current</span>
  <span class='kw'>return</span> <span class='ivar'>@project</span> <span class='kw'>if</span> <span class='id path'>path</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='kw'>or</span> <span class='op'>!</span><span class='id prj'>prj</span>
  <span class='id prj'>prj</span><span class='period'>.</span><span class='id project_files'>project_files</span><span class='period'>.</span><span class='id file_in_project?'>file_in_project?</span><span class='lparen'>(</span><span class='id url'>url</span><span class='period'>.</span><span class='id to_encoded'>to_encoded</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id prj'>prj</span> <span class='op'>:</span> <span class='ivar'>@project</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>save</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Saves the document. If the document is already associated with a file, it&#8217;s saved
in that file; otherwise, a Save As dialog is displayed for the user to choose a
file name. Returns <strong>true</strong> if the document was saved and <strong>false</strong> if it wasn&#8217;t for
some reason (for example, if the user doesn&#8217;t have write perimission on the file
or if he pressed the Cancel button in the Save As dialog).</p>
<p>This method is associated with the Save menu entry</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


239
240
241
242
243
244
245
246
247
248
249
250
251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 239</span>

<span class='kw'>def</span> <span class='id save'>save</span>
  <span class='kw'>if</span> <span class='id path'>path</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='op'>||</span> <span class='op'>!</span><span class='id is_read_write'>is_read_write</span> <span class='kw'>then</span> <span class='id document_save_as'>document_save_as</span>
  <span class='kw'>else</span> 
    <span class='id res'>res</span> <span class='op'>=</span> <span class='ivar'>@doc</span><span class='period'>.</span><span class='id save'>save</span>
    <span class='ivar'>@project</span><span class='period'>.</span><span class='id save'>save</span>
    <span class='id res'>res</span>
  <span class='kw'>end</span>
<span class='comment'>#       unless url.empty? then save_document
</span><span class='comment'>#       else document_save_as
</span><span class='comment'>#         res = KDE::FileDialog.get_save_file_name KDE::Url.new, &quot;*.rb|Ruby files (*.rb)\n*|All files&quot;, nil,
</span><span class='comment'>#           KDE::i18n(&quot;Save \&quot;#{@doc.document_name}\&quot; as&quot;)
</span><span class='comment'>#         return false unless res
</span><span class='comment'>#         save_as KDE::Url.from_path(res)
</span><span class='comment'>#       end
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>save()</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="save_settings-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>save_settings</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


296
297
298</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 296</span>

<span class='kw'>def</span> <span class='id save_settings'>save_settings</span>
  <span class='ivar'>@project</span><span class='period'>.</span><span class='id save'>save</span> <span class='kw'>unless</span> <span class='id path'>path</span><span class='period'>.</span><span class='id empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>text</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns the text in the document
<del>-</del>
We can&#8217;t just delegate this method to the internal <tt>KTextEditor::Document</tt>
because its <ins>text</ins> method returns nil if there&#8217;s no text in the document, instead
of an empty string.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


314
315
316</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/editor/document.rb', line 314</span>

<span class='kw'>def</span> <span class='id text'>text</span>
  <span class='ivar'>@doc</span><span class='period'>.</span><span class='id text'>text</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>



  <div id="instance_method_details" class="method_details_list">
    <h2>Signal Details</h2>
    
      <div class="method_details first">
  <p class="signature first" id="modified_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>modified_changed</strong>(bool arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_name_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>document_name_changed</strong>(QString arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="about_to_close-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>about_to_close</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="about_to_reload-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>about_to_reload</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_url_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>document_url_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="highlighting_mode_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>highlighting_mode_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mode_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>mode_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_modified-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_modified</strong>(KTextEditor::Range arg1, KTextEditor::Range arg2, QObject* arg3) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_inserted-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_inserted</strong>(KTextEditor::Range arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_removed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_removed</strong>(KTextEditor::Range arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="view_created-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>view_created</strong>(QObject* arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="closing-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>closing</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="activated-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>activated</strong> 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deactivated-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>deactivated</strong> 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="modified_on_disk-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>modified_on_disk</strong>(QObject* arg1, bool arg2, KTextEditor::ModificationInterface::ModifiedOnDiskReason arg3) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="modified_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>modified_changed</strong>(bool arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_name_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>document_name_changed</strong>(QString arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="about_to_close-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>about_to_close</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="about_to_reload-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>about_to_reload</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_url_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>document_url_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="highlighting_mode_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>highlighting_mode_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mode_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>mode_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_modified-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_modified</strong>(KTextEditor::Range arg1, KTextEditor::Range arg2, QObject* arg3) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_inserted-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_inserted</strong>(KTextEditor::Range arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_removed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_removed</strong>(KTextEditor::Range arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="view_created-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>view_created</strong>(QObject* arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="closing-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>closing</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="activated-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>activated</strong> 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deactivated-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>deactivated</strong> 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="modified_on_disk-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>modified_on_disk</strong>(QObject* arg1, bool arg2, KTextEditor::ModificationInterface::ModifiedOnDiskReason arg3) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="sig_query_close-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>sig_query_close</strong>(bool* arg1, bool* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="canceled-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>canceled</strong>(QString arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>completed</strong> 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completed1-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>completed1</strong>(bool arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="started-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>started</strong>(KIO::Job* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="set_status_bar_text-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>set_status_bar_text</strong>(QString arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="setWindowCaption-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>setWindowCaption</strong>(QString arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="modified_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>modified_changed</strong>(bool arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_name_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>document_name_changed</strong>(QString arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="about_to_close-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>about_to_close</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="about_to_reload-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>about_to_reload</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_url_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>document_url_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="highlighting_mode_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>highlighting_mode_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mode_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>mode_changed</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_modified-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_modified</strong>(KTextEditor::Range arg1, KTextEditor::Range arg2, QObject* arg3) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_inserted-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_inserted</strong>(KTextEditor::Range arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text_removed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>text_removed</strong>(KTextEditor::Range arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="view_created-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>view_created</strong>(QObject* arg1, QObject* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="closing-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>closing</strong>(QObject* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="activated-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>activated</strong> 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deactivated-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>deactivated</strong> 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="modified_on_disk-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>modified_on_disk</strong>(QObject* arg1, bool arg2, KTextEditor::ModificationInterface::ModifiedOnDiskReason arg3) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="sig_query_close-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>sig_query_close</strong>(bool* arg1, bool* arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="canceled-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>canceled</strong>(QString arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>completed</strong> 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completed1-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>completed1</strong>(bool arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="started-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>started</strong>(KIO::Job* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="set_status_bar_text-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>set_status_bar_text</strong>(QString arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="setWindowCaption-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>setWindowCaption</strong>(QString arg1) 
</p>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Nov 13 18:00:50 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>