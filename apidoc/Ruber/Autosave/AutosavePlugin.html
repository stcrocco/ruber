<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Ruber::Autosave::AutosavePlugin</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (A)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../Ruber.html" title="Ruber (module)">Ruber</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Autosave.html" title="Ruber::Autosave (module)">Autosave</a></span></span>
     &raquo; 
    <span class="title">AutosavePlugin</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Ruber::Autosave::AutosavePlugin
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Plugin.html" title="Ruber::Plugin (class)">Plugin</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Qt::Object</li>
          
            <li class="next"><span class='object_link'><a href="../Plugin.html" title="Ruber::Plugin (class)">Plugin</a></span></li>
          
            <li class="next">Ruber::Autosave::AutosavePlugin</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">plugins/autosave/autosave.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Plugin class for the <code>autosave</code> plugin.</p>

  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  


  
  
  
  
  <h3 class="inherited">Constants inherited from <span class='object_link'><a href="../Plugin.html" title="Ruber::Plugin (class)">Plugin</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Plugin.html#LICENSES-constant" title="Ruber::Plugin::LICENSES (constant)">LICENSES</a></span></p>

  
  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#registered_plugins-instance_method" title="#registered_plugins (instance method)">- (Hash) <strong>registered_plugins</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>autosaving is enabled for them as keys.</p></div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#autosave-instance_method" title="#autosave (instance method)">- (Boolean) <strong>autosave</strong>(plug, what, opts = {}, &amp;blk) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Autosaves the given documents or files.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (AutosavePlugin) <strong>initialize</strong>(pdf) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a new instance.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#load_settings-instance_method" title="#load_settings (instance method)">- (void) <strong>load_settings</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Loads the settings.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#register_plugin-instance_method" title="#register_plugin (instance method)">- (Object) <strong>register_plugin</strong>(plug, default = true) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Makes another plugin known to <code>Autosave</code>.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_plugin-instance_method" title="#remove_plugin (instance method)">- (Object) <strong>remove_plugin</strong>(plug) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Removes a plugin from the list of registered plugins.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#save_doc-instance_method" title="#save_doc (instance method)">- (Boolean) <strong>save_doc</strong>(doc) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Attempts to save a document.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#save_documents_with_file-instance_method" title="#save_documents_with_file (instance method)">- (Boolean) <strong>save_documents_with_file</strong>(opts, blk) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Attempts to save all the open documents corresponding to a file.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#save_files-instance_method" title="#save_files (instance method)">- (Boolean) <strong>save_files</strong>(docs, opts, blk) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Attempts to save the documents contained in the array <em>docs</em>.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#save_open_documents-instance_method" title="#save_open_documents (instance method)">- (Boolean) <strong>save_open_documents</strong>(opts, blk) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Attempts to save all the open documents.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#save_project_files-instance_method" title="#save_project_files (instance method)">- (Boolean) <strong>save_project_files</strong>(opts, blk) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Attempts to save all the open documents corresponding to a file belonging to the current project.</p></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../Plugin.html" title="Ruber::Plugin (class)">Plugin</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Plugin.html#about_data-instance_method" title="Ruber::Plugin#about_data (method)">#about_data</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../PluginLike.html" title="Ruber::PluginLike (module)">PluginLike</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../PluginLike.html#add_extensions_to_project-instance_method" title="Ruber::PluginLike#add_extensions_to_project (method)">#add_extensions_to_project</a></span>, <span class='object_link'><a href="../PluginLike.html#add_options_to_project-instance_method" title="Ruber::PluginLike#add_options_to_project (method)">#add_options_to_project</a></span>, <span class='object_link'><a href="../PluginLike.html#add_widgets_to_project-instance_method" title="Ruber::PluginLike#add_widgets_to_project (method)">#add_widgets_to_project</a></span>, <span class='object_link'><a href="../PluginLike.html#create_tool_widget-instance_method" title="Ruber::PluginLike#create_tool_widget (method)">#create_tool_widget</a></span>, <span class='object_link'><a href="../PluginLike.html#delayed_initialize-instance_method" title="Ruber::PluginLike#delayed_initialize (method)">#delayed_initialize</a></span>, <span class='object_link'><a href="../PluginLike.html#initialize_plugin-instance_method" title="Ruber::PluginLike#initialize_plugin (method)">#initialize_plugin</a></span>, <span class='object_link'><a href="../PluginLike.html#plugin_name-instance_method" title="Ruber::PluginLike#plugin_name (method)">#plugin_name</a></span>, <span class='object_link'><a href="../PluginLike.html#query_close-instance_method" title="Ruber::PluginLike#query_close (method)">#query_close</a></span>, <span class='object_link'><a href="../PluginLike.html#register_options-instance_method" title="Ruber::PluginLike#register_options (method)">#register_options</a></span>, <span class='object_link'><a href="../PluginLike.html#register_with_project-instance_method" title="Ruber::PluginLike#register_with_project (method)">#register_with_project</a></span>, <span class='object_link'><a href="../PluginLike.html#remove_extensions_from_project-instance_method" title="Ruber::PluginLike#remove_extensions_from_project (method)">#remove_extensions_from_project</a></span>, <span class='object_link'><a href="../PluginLike.html#remove_from_project-instance_method" title="Ruber::PluginLike#remove_from_project (method)">#remove_from_project</a></span>, <span class='object_link'><a href="../PluginLike.html#remove_options_from_project-instance_method" title="Ruber::PluginLike#remove_options_from_project (method)">#remove_options_from_project</a></span>, <span class='object_link'><a href="../PluginLike.html#remove_widgets_from_project-instance_method" title="Ruber::PluginLike#remove_widgets_from_project (method)">#remove_widgets_from_project</a></span>, <span class='object_link'><a href="../PluginLike.html#restore_session-instance_method" title="Ruber::PluginLike#restore_session (method)">#restore_session</a></span>, <span class='object_link'><a href="../PluginLike.html#save_settings-instance_method" title="Ruber::PluginLike#save_settings (method)">#save_settings</a></span>, <span class='object_link'><a href="../PluginLike.html#session_data-instance_method" title="Ruber::PluginLike#session_data (method)">#session_data</a></span>, <span class='object_link'><a href="../PluginLike.html#setup_action-instance_method" title="Ruber::PluginLike#setup_action (method)">#setup_action</a></span>, <span class='object_link'><a href="../PluginLike.html#setup_actions-instance_method" title="Ruber::PluginLike#setup_actions (method)">#setup_actions</a></span>, <span class='object_link'><a href="../PluginLike.html#shutdown-instance_method" title="Ruber::PluginLike#shutdown (method)">#shutdown</a></span>, <span class='object_link'><a href="../PluginLike.html#unload-instance_method" title="Ruber::PluginLike#unload (method)">#unload</a></span>, <span class='object_link'><a href="../PluginLike.html#update_project-instance_method" title="Ruber::PluginLike#update_project (method)">#update_project</a></span></p>

  





<h4>Methods API</h4>
<ul>
<li><span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></li>
<li><span class='object_link'><a href="#register_plugin-instance_method" title="Ruber::Autosave::AutosavePlugin#register_plugin (method)">#register_plugin</a></span></li>
<li><span class='object_link'><a href="#remove_plugin-instance_method" title="Ruber::Autosave::AutosavePlugin#remove_plugin (method)">#remove_plugin</a></span></li>
<li><span class='object_link'><a href="#registered_plugins-instance_method" title="Ruber::Autosave::AutosavePlugin#registered_plugins (method)">#registered_plugins</a></span></li>
</ul>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Ruber::Autosave::AutosavePlugin (class)">AutosavePlugin</a></span></tt>) <strong>initialize</strong>(pdf) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Creates a new instance</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../PluginSpecification.html" title="Ruber::PluginSpecification (class)">PluginSpecification</a></span></tt>)</span>
      
      
        <span class='name'>the</span>
      
      
      
        &mdash;
        <div class='inline'><p>plugin specification associated with the plugin</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98
99
100
101
102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'plugins/autosave/autosave.rb', line 96</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span> <span class='id pdf'>pdf</span>
  <span class='ivar'>@registered_plugins</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@enabled</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@settings</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>super</span>
  <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:components</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id connect'>connect</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>unloading_component(QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span>
    <span class='ivar'>@registered_plugins</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='id c'>c</span><span class='period'>.</span><span class='id component_name'>component_name</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="registered_plugins-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="registered_plugins-instance_method">
  
    - (<tt>Hash</tt>) <strong>registered_plugins</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>autosaving is enabled for them as keys</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>a hash which has the names of registered plugins as keys and whether</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'plugins/autosave/autosave.rb', line 89</span>

<span class='kw'>def</span> <span class='id registered_plugins'>registered_plugins</span>
  <span class='ivar'>@registered_plugins</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="autosave-instance_method">
  
    - (<tt>Boolean</tt>) <strong>autosave</strong>(plug, what, opts = {}, &amp;blk) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Autosaves the given documents or files.</p>
<p>This is the main method of this class. Whenever a plugin wants some documents to be autosaved,
it calls this method passing itself as first argument and a list of the documents
to save (or one of the special symbols listed below) as second argument and, optionally
some options or a block.</p>
<p>If autosaving is enabled both globally and for the plugin, an attempt will
be made to save all the specified documents. If one or more documents can&#8217;t be saved, the
behaviour depends on the third and fourth argument. If autosaving is disabled,
either globally or for the given plugin, this method does nothing.</p>
<p>or its name
or one of the symbols listed below.</p>
<ul>
	<li><code>:open_documents</code>: autosave all the open documents (including those which aren&#8217;t
  associated with a file)</li>
</ul>
<ul>
	<li><code>:documents_with_file</code>: autosave all the open documents which are associated with
a file</li>
</ul>
<ul>
	<li><code>:project_files</code>: autosave all the open documents corresponding to a file belonging
to the current project. Note that using this value when there&#8217;s no active global
project leads to undefined behaviour.</li>
</ul>
<p>documents can&#8217;t be saved.</p>
<p>be saved. If given, it will be given an array containing the unsaved documents as
argument.</p>
<p>as soon as one fails to save. By default, this method attempts to save all given
documents, regardless of whether saving the other documents was successful or not.
(this option will be ignored if a block has been given).
It can have the following values:</p>
<ul>
	<li><code>:warn</code>: an information message box describing the error is displayed</li>
</ul>
<ul>
	<li><code>:ask</code>: a Yes/No message box describing he error is displayed. The return value
of the method depends on the choice made by the user</li>
</ul>
<p>the message box displayed if the <code>:on_failure</code> option is <code>:warn</code> or <code>:ask</code>. If the
message box is a Yes/No one, most likely you&#8217;ll need to specify this option to 
describe what will happen if the user chooses Yes and what happens if he chooses
No.</p>
<p>was disabled either globally or for the specific plugin. If some documents couldn&#8217;t
be saved, this method returns <strong>false</strong>, unless</p>
<ul>
	<li>a  block was given. In this case, the return value of the block is returned</li>
</ul>
<ul>
	<li>the <code>:on_failure</code> option is <code>:ask</code>. In this case, the returned value is <strong>true</strong>
if the user chose Yes in the message box and <strong>false</strong> otherwise.</li>
</ul>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../PluginLike.html" title="Ruber::PluginLike (module)">PluginLike</a></span></tt>, <tt><span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
        <span class='name'>plug</span>
      
      
      
        &mdash;
        <div class='inline'><p>the plugin requesting to autosave the documents</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>&lt;<span class='object_link'><a href="../Document.html" title="Ruber::Document (class)">Document</a></span>&gt;</tt>, <tt><span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
        <span class='name'>what</span>
      
      
      
        &mdash;
        <div class='inline'><p>either an array with the documents to autosave</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>opts</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>a hash which fine tunes the behaviour in case one of the specified</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <span class='name'>blk</span>
      
      
      
        &mdash;
        <div class='inline'><p>a block which will be called if some of the documents couldn&#8217;t</p></div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <h3>Options Hash (<tt>opts</tt>):</h3>
    <ul class="option">
      
        <li>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="name">:stop_on_failure</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          &mdash; <div class='inline'><p>whether to stop saving documents</p></div>
        </tr>
      
        <li>
          <span class="type">(<tt><span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
          <span class="name">:on_failure</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          &mdash; <div class='inline'><p>what to do if some documents can&#8217;t be saved</p></div>
        </tr>
      
        <li>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="name">message</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>nil custom text to add to the default message in</p></div>
        </tr>
      
    </ul>
  
    
    
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p><strong>true</strong> if all the documents were saved successfully or if autosaving</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


218
219
220
221
222
223
224</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'plugins/autosave/autosave.rb', line 218</span>

<span class='kw'>def</span> <span class='id autosave'>autosave</span> <span class='id plug'>plug</span><span class='comma'>,</span> <span class='id what'>what</span><span class='comma'>,</span> <span class='id opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id blk'>blk</span>
  <span class='id plug'>plug</span> <span class='op'>=</span> <span class='id plug'>plug</span><span class='period'>.</span><span class='id plugin_name'>plugin_name</span> <span class='kw'>if</span> <span class='id plug'>plug</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>PluginLike</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>unless</span> <span class='ivar'>@enabled</span> <span class='kw'>and</span> <span class='ivar'>@registered_plugins</span><span class='lbracket'>[</span><span class='id plug'>plug</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id what'>what</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>Array</span> <span class='kw'>then</span> <span class='id save_files'>save_files</span> <span class='id what'>what</span><span class='comma'>,</span> <span class='id opts'>opts</span><span class='comma'>,</span> <span class='id blk'>blk</span>
  <span class='kw'>else</span> <span class='id send'>send</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>save_</span><span class='embexpr_beg'>#{</span><span class='id what'>what</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id opts'>opts</span><span class='comma'>,</span> <span class='id blk'>blk</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load_settings-instance_method">
  
    - (<tt>void</tt>) <strong>load_settings</strong>  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Loads the settings</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'plugins/autosave/autosave.rb', line 150</span>

<span class='kw'>def</span> <span class='id load_settings'>load_settings</span>
  <span class='kw'>super</span>
  <span class='ivar'>@remote_files_policy</span> <span class='op'>=</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:config</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:autosave</span><span class='comma'>,</span> <span class='symbol'>:remote_files</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="register_plugin-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>register_plugin</strong>(plug, default = true) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Makes another plugin known to <code>Autosave</code>.</p>
<p>If the configuration file already has an entry for the plugin <em>plug</em> in the
<code>autosave/plugins</code> setting, autosaving
will be enabled or not basing on that value. If there&#8217;s not such an entry,
then autosaving will be enabled if <em>default</em> is <strong>true</strong> and disabled otherwise.</p>
<p><b>Note:</b> you have to register a plugin before calling the <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span> method
 for it.</p>
<p>if the configuration file doesn&#8217;t have an entry for it</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../PluginLike.html" title="Ruber::PluginLike (module)">PluginLike</a></span></tt>, <tt><span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
        <span class='name'>plug</span>
      
      
      
        &mdash;
        <div class='inline'><p>the plugin to register or its name</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <span class='name'>default</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>whether or not autosaving should be enabled for <em>plug</em></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'plugins/autosave/autosave.rb', line 121</span>

<span class='kw'>def</span> <span class='id register_plugin'>register_plugin</span> <span class='id plug'>plug</span><span class='comma'>,</span> <span class='id default'>default</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id plug'>plug</span> <span class='op'>=</span> <span class='id plug'>plug</span><span class='period'>.</span><span class='id plugin_name'>plugin_name</span> <span class='kw'>if</span> <span class='id plug'>plug</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>PluginLike</span>
  <span class='id val'>val</span> <span class='op'>=</span> <span class='ivar'>@settings</span><span class='period'>.</span><span class='id fetch'>fetch</span> <span class='id plug'>plug</span><span class='comma'>,</span> <span class='id default'>default</span>
  <span class='ivar'>@registered_plugins</span><span class='lbracket'>[</span><span class='id plug'>plug</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id val'>val</span>
  <span class='id val'>val</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_plugin-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>remove_plugin</strong>(plug) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Removes a plugin from the list of registered plugins.</p>
<p>Usually, there&#8217;s no need to use this method, as registered plugins are automatically
removed whenever they&#8217;re unloaded.</p>
<p><b>Note:</b> you can&#8217;t call the <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span> method for a plugin which has been
removed using this method.</p>
<p>list or its name</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../PluginLike.html" title="Ruber::PluginLike (module)">PluginLike</a></span></tt>, <tt><span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
        <span class='name'>plug</span>
      
      
      
        &mdash;
        <div class='inline'><p>the name of the plugin to remove from the autosave</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142
143</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'plugins/autosave/autosave.rb', line 140</span>

<span class='kw'>def</span> <span class='id remove_plugin'>remove_plugin</span> <span class='id plug'>plug</span>
  <span class='id plug'>plug</span> <span class='op'>=</span> <span class='id plug'>plug</span><span class='period'>.</span><span class='id plugin_name'>plugin_name</span> <span class='kw'>if</span> <span class='id plug'>plug</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>PluginLike</span>
  <span class='ivar'>@registered_plugins</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='id plug'>plug</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save_doc-instance_method">
  
    - (<tt>Boolean</tt>) <strong>save_doc</strong>(doc)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Attempts to save a document</p>
<p>If the document is associated with a remote file, the behaviour will change depending
on the value of the <code>autosave/remote_files</code> settings:</p>
<ul>
	<li>if it&#8217;s <code>:skip</code> then nothing will be done</li>
	<li>if it&#8217;s <code>:ignore</code> then an attempt to save the document will be done, but any failures
  will be ignored</li>
	<li>if it&#8217;s <code>:normal</code> then the behaviour will be the same as for a local file</li>
</ul>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Document.html" title="Ruber::Document (class)">Document</a></span></tt>)</span>
      
      
        <span class='name'>doc</span>
      
      
      
        &mdash;
        <div class='inline'><p>the document to save</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p><strong>true</strong> if the document was saved successfully and <strong>false</strong> otherwise.
in case of a remote document, it will always return <strong>true</strong> except when the
<code>autosave/remote_files</code> option is set to <code>:normal</code></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


339
340
341
342
343
344
345
346
347
348
349
350</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'plugins/autosave/autosave.rb', line 339</span>

<span class='kw'>def</span> <span class='id save_doc'>save_doc</span> <span class='id doc'>doc</span>
  <span class='kw'>if</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id url'>url</span><span class='period'>.</span><span class='id local_file?'>local_file?</span> <span class='kw'>or</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id url'>url</span><span class='period'>.</span><span class='id relative?'>relative?</span> <span class='kw'>then</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id save'>save</span>
  <span class='kw'>else</span>
    <span class='kw'>case</span> <span class='ivar'>@remote_files_policy</span>
    <span class='kw'>when</span> <span class='symbol'>:skip</span> <span class='kw'>then</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='symbol'>:ignore</span>
      <span class='id doc'>doc</span><span class='period'>.</span><span class='id save'>save</span>
      <span class='kw'>true</span>
    <span class='kw'>else</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id save'>save</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save_documents_with_file-instance_method">
  
    - (<tt>Boolean</tt>) <strong>save_documents_with_file</strong>(opts, blk)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Attempts to save all the open documents corresponding to a file.</p>
<p>This method should only be called if autosaving is enabled because it doesn&#8217;t take
into account the enabled option and always attempt to save the documents.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>opts</span>
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <span class='name'>blk</span>
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


269
270
271</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'plugins/autosave/autosave.rb', line 269</span>

<span class='kw'>def</span> <span class='id save_documents_with_file'>save_documents_with_file</span> <span class='id opts'>opts</span><span class='comma'>,</span> <span class='id blk'>blk</span>
  <span class='id save_files'>save_files</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:docs</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id documents_with_file'>documents_with_file</span><span class='comma'>,</span> <span class='id opts'>opts</span><span class='comma'>,</span> <span class='id blk'>blk</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save_files-instance_method">
  
    - (<tt>Boolean</tt>) <strong>save_files</strong>(docs, opts, blk)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Attempts to save the documents contained in the array <em>docs</em>.</p>
<p>This method should only be called if autosaving is enabled because it doesn&#8217;t take
into account the enabled option and always attempt to save the documents.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>&lt;<span class='object_link'><a href="../Document.html" title="Ruber::Document (class)">Document</a></span>&gt;</tt>)</span>
      
      
        <span class='name'>docs</span>
      
      
      
        &mdash;
        <div class='inline'><p>an array with the documents to save</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>opts</span>
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <span class='name'>blk</span>
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'plugins/autosave/autosave.rb', line 284</span>

<span class='kw'>def</span> <span class='id save_files'>save_files</span> <span class='id docs'>docs</span><span class='comma'>,</span> <span class='id opts'>opts</span><span class='comma'>,</span> <span class='id blk'>blk</span>
  <span class='id unsaved'>unsaved</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id docs'>docs</span><span class='period'>.</span><span class='id each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id d'>d</span><span class='comma'>,</span> <span class='id i'>i</span><span class='op'>|</span>
    <span class='kw'>unless</span> <span class='id save_doc'>save_doc</span> <span class='id d'>d</span>
      <span class='id unsaved'>unsaved</span> <span class='op'>&lt;&lt;</span> <span class='id d'>d</span>
      <span class='kw'>if</span> <span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:stop_on_failure</span><span class='rbracket'>]</span>
        <span class='id unsaved'>unsaved</span> <span class='op'>+=</span> <span class='id docs'>docs</span><span class='lbracket'>[</span><span class='lparen'>(</span><span class='id i'>i</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id msg'>msg</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>The following documents couldn't be saved:
</span><span class='embexpr_beg'>#{</span>
  <span class='id unsaved'>unsaved</span><span class='period'>.</span><span class='id map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id path'>path</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='op'>?</span> <span class='id d'>d</span><span class='period'>.</span><span class='id document_name'>document_name</span> <span class='op'>:</span> <span class='id d'>d</span><span class='period'>.</span><span class='id path'>path</span><span class='rbrace'>}</span>
<span class='rbrace'>}</span>
<span class='tstring_content'>
</span><span class='heredoc_end'>  EOS
</span>  <span class='kw'>if</span> <span class='id unsaved'>unsaved</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='kw'>then</span> <span class='kw'>return</span> <span class='kw'>true</span>
  <span class='kw'>elsif</span> <span class='id blk'>blk</span> <span class='kw'>then</span> <span class='kw'>return</span> <span class='id blk'>blk</span><span class='period'>.</span><span class='id call'>call</span> <span class='id unsaved'>unsaved</span>
  <span class='kw'>else</span>
    <span class='kw'>case</span> <span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:on_failure</span><span class='rbracket'>]</span>
    <span class='kw'>when</span> <span class='symbol'>:warn</span>
      <span class='id msg'>msg</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='embexpr_beg'>#{</span><span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:message</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:message</span><span class='rbracket'>]</span>
      <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MessageBox</span><span class='period'>.</span><span class='id sorry'>sorry</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id msg'>msg</span>
    <span class='kw'>when</span> <span class='symbol'>:ask</span>
      <span class='id msg'>msg</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='embexpr_beg'>#{</span><span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:message</span><span class='rbracket'>]</span><span class='op'>||</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Do you want to go on?</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id ans'>ans</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MessageBox</span><span class='period'>.</span><span class='id question_yes_no'>question_yes_no</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id msg'>msg</span>
      <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id ans'>ans</span> <span class='op'>==</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MessageBox</span><span class='op'>::</span><span class='const'>Yes</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save_open_documents-instance_method">
  
    - (<tt>Boolean</tt>) <strong>save_open_documents</strong>(opts, blk)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Attempts to save all the open documents.</p>
<p>This method should only be called if autosaving is enabled because it doesn&#8217;t take
into account the enabled option and always attempt to save the documents.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>opts</span>
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <span class='name'>blk</span>
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'plugins/autosave/autosave.rb', line 255</span>

<span class='kw'>def</span> <span class='id save_open_documents'>save_open_documents</span> <span class='id opts'>opts</span><span class='comma'>,</span> <span class='id blk'>blk</span>
  <span class='id save_files'>save_files</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:docs</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id documents'>documents</span><span class='comma'>,</span> <span class='id opts'>opts</span><span class='comma'>,</span> <span class='id blk'>blk</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save_project_files-instance_method">
  
    - (<tt>Boolean</tt>) <strong>save_project_files</strong>(opts, blk)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Attempts to save all the open documents corresponding to a file belonging to the current project.</p>
<p>This method should only be called if autosaving is enabled because it doesn&#8217;t take
into account the enabled option and always attempt to save the documents.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>opts</span>
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <span class='name'>blk</span>
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>see <span class='object_link'><a href="#autosave-instance_method" title="Ruber::Autosave::AutosavePlugin#autosave (method)">#autosave</a></span></p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240
241
242
243</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'plugins/autosave/autosave.rb', line 238</span>

<span class='kw'>def</span> <span class='id save_project_files'>save_project_files</span> <span class='id opts'>opts</span><span class='comma'>,</span> <span class='id blk'>blk</span>
  <span class='id docs'>docs</span> <span class='op'>=</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:docs</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id documents_with_file'>documents_with_file</span>
  <span class='id prj_files'>prj_files</span> <span class='op'>=</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:projects</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id current'>current</span><span class='period'>.</span><span class='id project_files'>project_files</span><span class='period'>.</span><span class='id abs'>abs</span>
  <span class='id docs'>docs</span> <span class='op'>=</span> <span class='id docs'>docs</span><span class='period'>.</span><span class='id select'>select</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id prj_files'>prj_files</span><span class='period'>.</span><span class='id include?'>include?</span> <span class='id d'>d</span><span class='period'>.</span><span class='id path'>path</span><span class='rbrace'>}</span>
  <span class='id save_files'>save_files</span> <span class='id docs'>docs</span><span class='comma'>,</span> <span class='id opts'>opts</span><span class='comma'>,</span> <span class='id blk'>blk</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>



</div>
    
    <div id="footer">
  Generated on Tue Jan 11 14:26:48 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.4 (ruby-1.9.2).
</div>

  </body>
</html>