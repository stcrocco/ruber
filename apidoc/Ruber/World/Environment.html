<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Ruber::World::Environment
  
    &mdash; Ruber API
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (E)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../Ruber.html" title="Ruber (module)">Ruber</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../World.html" title="Ruber::World (module)">World</a></span></span>
     &raquo; 
    <span class="title">Environment</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Ruber::World::Environment
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Qt::Object</span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Qt::Object</li>
          
            <li class="next">Ruber::World::Environment</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="../Activable.html" title="Ruber::Activable (module)">Activable</a></span>, <span class='object_link'><a href="../Extension.html" title="Ruber::Extension (module)">Extension</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/ruber/world/environment.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Environment/ViewList.html" title="Ruber::World::Environment::ViewList (class)">ViewList</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="DEFAULT_HINTS-constant" class="">DEFAULT_HINTS =
          <div class="docstring">
  <div class="discussion">
    <p>The default hints used by methods like #editor_for and <span class='object_link'><a href="#editor_for%21-instance_method" title="Ruber::World::Environment#editor_for! (method)">#editor_for!</a></span></p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='symbol'>:exisiting</span> <span class='op'>=&gt;</span> <span class='symbol'>:always</span><span class='comma'>,</span> 
  <span class='symbol'>:strategy</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:current</span><span class='comma'>,</span> <span class='symbol'>:current_tab</span><span class='comma'>,</span> <span class='symbol'>:first</span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='symbol'>:new</span> <span class='op'>=&gt;</span> <span class='symbol'>:new_tab</span><span class='comma'>,</span>
  <span class='symbol'>:split</span> <span class='op'>=&gt;</span> <span class='symbol'>:horizontal</span><span class='comma'>,</span>
  <span class='symbol'>:show</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span>
  <span class='symbol'>:create_if_needed</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
<span class='rbrace'>}</span><span class='period'>.</span><span class='id freeze'>freeze</span></pre></dd>
      
    </dl>
  


  
  
  
  
  
  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#active_editor-instance_method" title="#active_editor (instance method)">- (EditorView<sup>?</sup>) <strong>active_editor</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The active editor or <strong>nil</strong> if no active editor exists.</p></div></span>
  
</li>

    
      <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#project-instance_method" title="#project (instance method)">- (Project<sup>?</sup>) <strong>project</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The project associated with the environment or <strong>nil</strong> if the
environment is not associated with a project.</p></div></span>
  
</li>

    
      <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#tab_widget-instance_method" title="#tab_widget (instance method)">- (KDE::TabWidget) <strong>tab_widget</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The tab widget containing the views contained in the
environment.</p></div></span>
  
</li>

    
  </ul>



  
  
  
  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="../Extension.html" title="Ruber::Extension (module)">Extension</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Extension.html#plugin-instance_method" title="Ruber::Extension#plugin (method)">plugin</a></span></p>

  
  
  
  

  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#activate_editor-instance_method" title="#activate_editor (instance method)">- (Object) <strong>activate_editor</strong>(view) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#active_document-instance_method" title="#active_document (instance method)">- (Object) <strong>active_document</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#add_editor-instance_method" title="#add_editor (instance method)">- (Object) <strong>add_editor</strong>(editor, pane) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#close-instance_method" title="#close (instance method)">- (Object) <strong>close</strong>(mode = :save) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#close_editor-instance_method" title="#close_editor (instance method)">- (Object) <strong>close_editor</strong>(editor, ask = true) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#close_editors-instance_method" title="#close_editors (instance method)">- (Object) <strong>close_editors</strong>(editors, ask = true) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#close_tab-instance_method" title="#close_tab (instance method)">- (Object) <strong>close_tab</strong>(idx) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#create_tab-instance_method" title="#create_tab (instance method)">- (Object) <strong>create_tab</strong>(view) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#current_tab_changed-instance_method" title="#current_tab_changed (instance method)">- (Object) <strong>current_tab_changed</strong>(idx) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#deactivate_editor-instance_method" title="#deactivate_editor (instance method)">- (Object) <strong>deactivate_editor</strong>(view) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#display_document-instance_method" title="#display_document (instance method)">- (Object) <strong>display_document</strong>(doc, hints = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#do_activation-instance_method" title="#do_activation (instance method)">- (Object) <strong>do_activation</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#do_deactivation-instance_method" title="#do_deactivation (instance method)">- (Object) <strong>do_deactivation</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#document_modified_status_changed-instance_method" title="#document_modified_status_changed (instance method)">- (Object) <strong>document_modified_status_changed</strong>(mod, doc) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#document_url_changed-instance_method" title="#document_url_changed (instance method)">- (Object) <strong>document_url_changed</strong>(doc) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#documents-instance_method" title="#documents (instance method)">- (Object) <strong>documents</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#editor_for%21-instance_method" title="#editor_for! (instance method)">- (Object) <strong>editor_for!</strong>(doc, hints = DEFAULT_HINTS) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#editor_got_focus-instance_method" title="#editor_got_focus (instance method)">- (Object) <strong>editor_got_focus</strong>(editor) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#editor_lost_focus-instance_method" title="#editor_lost_focus (instance method)">- (Object) <strong>editor_lost_focus</strong>(editor) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#focus_on_editors%3F-instance_method" title="#focus_on_editors? (instance method)">- (Boolean) <strong>focus_on_editors?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Environment) <strong>initialize</strong>(prj, parent = nil) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of Environment.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#label_for_document-instance_method" title="#label_for_document (instance method)">- (Object) <strong>label_for_document</strong>(doc) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#maybe_close_default_document-instance_method" title="#maybe_close_default_document (instance method)">- (Object) <strong>maybe_close_default_document</strong>(doc) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#pane_split-instance_method" title="#pane_split (instance method)">- (Object) <strong>pane_split</strong>(pane, old, new) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#query_close-instance_method" title="#query_close (instance method)">- (Object) <strong>query_close</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#remove_editor-instance_method" title="#remove_editor (instance method)">- (Object) <strong>remove_editor</strong>(pane, editor) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_from_project-instance_method" title="#remove_from_project (instance method)">- (Object) <strong>remove_from_project</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#remove_tab-instance_method" title="#remove_tab (instance method)">- (Object) <strong>remove_tab</strong>(pane) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#replace_editor-instance_method" title="#replace_editor (instance method)">- (Object) <strong>replace_editor</strong>(old, new) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#tab-instance_method" title="#tab (instance method)">- (Object) <strong>tab</strong>(arg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#tabs-instance_method" title="#tabs (instance method)">- (Object) <strong>tabs</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#update_pane-instance_method" title="#update_pane (instance method)">- (Object) <strong>update_pane</strong>(pane) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#update_tabs_for_document-instance_method" title="#update_tabs_for_document (instance method)">- (Object) <strong>update_tabs_for_document</strong>(doc) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#view_replaced-instance_method" title="#view_replaced (instance method)">- (Object) <strong>view_replaced</strong>(pane, old, new) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#views-instance_method" title="#views (instance method)">- (Object) <strong>views</strong>(doc = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Extension.html" title="Ruber::Extension (module)">Extension</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Extension.html#save_settings-instance_method" title="Ruber::Extension#save_settings (method)">#save_settings</a></span>, <span class='object_link'><a href="../Extension.html#shutdown-instance_method" title="Ruber::Extension#shutdown (method)">#shutdown</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Activable.html" title="Ruber::Activable (module)">Activable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Activable.html#activate-instance_method" title="Ruber::Activable#activate (method)">#activate</a></span>, <span class='object_link'><a href="../Activable.html#active%3D-instance_method" title="Ruber::Activable#active= (method)">#active=</a></span>, <span class='object_link'><a href="../Activable.html#active%3F-instance_method" title="Ruber::Activable#active? (method)">#active?</a></span>, <span class='object_link'><a href="../Activable.html#deactivate-instance_method" title="Ruber::Activable#deactivate (method)">#deactivate</a></span></p>

  

  <h2>Signal Summary</h2>
  <ul class="summary" >
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#active_editor_changed-signalcode" title="active_editor_changed (signalcode)">- <strong>active_editor_changed</strong>(QWidget* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#deactivated-signalcode" title="deactivated (signalcode)">- <strong>deactivated</strong> </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#activated-signalcode" title="activated (signalcode)">- <strong>activated</strong> </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#closing-signalcode" title="closing (signalcode)">- <strong>closing</strong>(QObject* arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
  </ul>





<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Ruber::World::Environment (class)">Environment</a></span></tt>) <strong>initialize</strong>(prj, parent = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>A new instance of Environment</p>

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 109</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span> <span class='id prj'>prj</span><span class='comma'>,</span> <span class='id parent'>parent</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>super</span> <span class='id parent'>parent</span>
  <span class='ivar'>@project</span> <span class='op'>=</span> <span class='id prj'>prj</span>
  <span class='ivar'>@tab_widget</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>TabWidget</span><span class='period'>.</span><span class='id new'>new</span><span class='lbrace'>{</span><span class='kw'>self</span><span class='period'>.</span><span class='id document_mode'>document_mode</span> <span class='op'>=</span> <span class='kw'>true</span><span class='rbrace'>}</span>
  <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id tabs_closable'>tabs_closable</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:config</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:workspace</span><span class='comma'>,</span> <span class='symbol'>:close_buttons</span><span class='rbracket'>]</span>
  <span class='id connect'>connect</span> <span class='ivar'>@tab_widget</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>currentChanged(int)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>current_tab_changed(int)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='ivar'>@tab_widget</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>tabCloseRequested(int)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>close_tab(int)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='ivar'>@views</span> <span class='op'>=</span> <span class='const'>ViewList</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='ivar'>@hint_solver</span> <span class='op'>=</span> <span class='const'>HintSolver</span><span class='period'>.</span><span class='id new'>new</span> <span class='ivar'>@tab_widget</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_activation'>by_activation</span>
  <span class='ivar'>@documents</span> <span class='op'>=</span> <span class='const'>MutableDocumentList</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='ivar'>@active_editor</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@active</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@focus_on_editors</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>unless</span> <span class='id prj'>prj</span>
    <span class='ivar'>@default_document</span> <span class='op'>=</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:world</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id new_document'>new_document</span>
    <span class='ivar'>@default_document</span><span class='period'>.</span><span class='id object_name'>object_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>default_document</span><span class='tstring_end'>'</span></span>
    <span class='ivar'>@default_document</span><span class='period'>.</span><span class='id connect'>connect</span><span class='lparen'>(</span><span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>closing(QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='ivar'>@default_document</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rbrace'>}</span>
    <span class='id editor_for!'>editor_for!</span> <span class='ivar'>@default_document</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="active_editor-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="active_editor-instance_method">
  
    - (<tt><span class='object_link'><a href="../EditorView.html" title="Ruber::EditorView (class)">EditorView</a></span></tt><sup>?</sup>) <strong>active_editor</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The active editor or <strong>nil</strong> if no active editor exists</p>

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../EditorView.html" title="Ruber::EditorView (class)">EditorView</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the active editor or <strong>nil</strong> if no active editor exists</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 107</span>

<span class='kw'>def</span> <span class='id active_editor'>active_editor</span>
  <span class='ivar'>@active_editor</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="project-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="project-instance_method">
  
    - (<tt><span class='object_link'><a href="../Project.html" title="Ruber::Project (class)">Project</a></span></tt><sup>?</sup>) <strong>project</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The project associated with the environment or <strong>nil</strong> if the
environment is not associated with a project</p>

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Project.html" title="Ruber::Project (class)">Project</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the project associated with the environment or <strong>nil</strong> if the
environment is not associated with a project</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 96</span>

<span class='kw'>def</span> <span class='id project'>project</span>
  <span class='ivar'>@project</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="tab_widget-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="tab_widget-instance_method">
  
    - (<tt><span class='object_link'><a href="../../KDE/TabWidget.html" title="KDE::TabWidget (class)">KDE::TabWidget</a></span></tt>) <strong>tab_widget</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The tab widget containing the views contained in the
environment</p>

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../KDE/TabWidget.html" title="KDE::TabWidget (class)">KDE::TabWidget</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the tab widget containing the views contained in the
environment</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 102</span>

<span class='kw'>def</span> <span class='id tab_widget'>tab_widget</span>
  <span class='ivar'>@tab_widget</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="activate_editor-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>activate_editor</strong>(view) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 173</span>

<span class='kw'>def</span> <span class='id activate_editor'>activate_editor</span> <span class='id view'>view</span>
  <span class='kw'>return</span> <span class='id view'>view</span> <span class='kw'>if</span> <span class='ivar'>@active_editor</span> <span class='op'>==</span> <span class='id view'>view</span>
  <span class='id deactivate_editor'>deactivate_editor</span> <span class='ivar'>@active_editor</span>
  <span class='kw'>if</span> <span class='id view'>view</span>
    <span class='kw'>if</span> <span class='id active?'>active?</span>
      <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id gui_factory'>gui_factory</span><span class='period'>.</span><span class='id add_client'>add_client</span> <span class='id view'>view</span><span class='period'>.</span><span class='id send'>send</span><span class='lparen'>(</span><span class='symbol'>:internal</span><span class='rparen'>)</span>
      <span class='ivar'>@active_editor</span> <span class='op'>=</span> <span class='id view'>view</span>
    <span class='kw'>end</span>
    <span class='ivar'>@views</span><span class='period'>.</span><span class='id move_to_front'>move_to_front</span> <span class='id view'>view</span>
    <span class='id view_tab'>view_tab</span> <span class='op'>=</span> <span class='id tab'>tab</span><span class='lparen'>(</span><span class='id view'>view</span><span class='rparen'>)</span>
    <span class='id idx'>idx</span> <span class='op'>=</span> <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id index_of'>index_of</span> <span class='id view_tab'>view_tab</span>
    <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id set_tab_text'>set_tab_text</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='id view'>view</span><span class='period'>.</span><span class='id document'>document</span><span class='period'>.</span><span class='id document_name'>document_name</span>
    <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id set_tab_icon'>set_tab_icon</span> <span class='id idx'>idx</span><span class='comma'>,</span> <span class='id view'>view</span><span class='period'>.</span><span class='id document'>document</span><span class='period'>.</span><span class='id icon'>icon</span>
    <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id current_index'>current_index</span> <span class='op'>=</span> <span class='id idx'>idx</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id active?'>active?</span>
    <span class='id emit'>emit</span> <span class='id active_editor_changed'>active_editor_changed</span><span class='lparen'>(</span><span class='id view'>view</span><span class='rparen'>)</span> 
    <span class='id view'>view</span><span class='period'>.</span><span class='id document'>document</span><span class='period'>.</span><span class='id activate'>activate</span> <span class='kw'>if</span> <span class='id view'>view</span>
  <span class='kw'>end</span>
  <span class='id view'>view</span><span class='period'>.</span><span class='id set_focus'>set_focus</span> <span class='kw'>if</span> <span class='id view'>view</span> <span class='kw'>and</span> <span class='id focus_on_editors?'>focus_on_editors?</span>
  <span class='id view'>view</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>activate_editor(QWidget*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="active_document-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>active_document</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


197
198
199</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 197</span>

<span class='kw'>def</span> <span class='id active_document'>active_document</span>
  <span class='ivar'>@active_editor</span> <span class='op'>?</span> <span class='ivar'>@active_editor</span><span class='period'>.</span><span class='id document'>document</span> <span class='op'>:</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_editor-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>add_editor</strong>(editor, pane)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


301
302
303
304
305
306
307
308
309
310
311
312
313
314</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 301</span>

<span class='kw'>def</span> <span class='id add_editor'>add_editor</span> <span class='id editor'>editor</span><span class='comma'>,</span> <span class='id pane'>pane</span>
  <span class='id maybe_close_default_document'>maybe_close_default_document</span> <span class='id editor'>editor</span><span class='period'>.</span><span class='id document'>document</span>
  <span class='ivar'>@views</span><span class='period'>.</span><span class='id add_view'>add_view</span> <span class='id editor'>editor</span><span class='comma'>,</span> <span class='id pane'>pane</span>
  <span class='id doc'>doc</span> <span class='op'>=</span> <span class='id editor'>editor</span><span class='period'>.</span><span class='id document'>document</span>
  <span class='id editor'>editor</span><span class='period'>.</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id label'>label</span> <span class='op'>=</span> <span class='id label_for_document'>label_for_document</span> <span class='id doc'>doc</span>
  <span class='kw'>unless</span> <span class='ivar'>@documents</span><span class='period'>.</span><span class='id include?'>include?</span> <span class='id doc'>doc</span>
    <span class='ivar'>@documents</span><span class='period'>.</span><span class='id add'>add</span> <span class='id doc'>doc</span>
    <span class='id connect'>connect</span> <span class='id doc'>doc</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>document_url_changed(QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>document_url_changed(QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id connect'>connect</span> <span class='id editor'>editor</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>focus_in(QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>editor_got_focus(QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='id doc'>doc</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>modified_changed(bool, QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>document_modified_status_changed(bool, QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='id editor'>editor</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>focus_out(QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>editor_lost_focus(QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id update_pane'>update_pane</span> <span class='id pane'>pane</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="close-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>close</strong>(mode = :save) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 208</span>

<span class='kw'>def</span> <span class='id close'>close</span> <span class='id mode'>mode</span> <span class='op'>=</span> <span class='symbol'>:save</span>
  <span class='kw'>if</span> <span class='ivar'>@project</span> <span class='kw'>then</span> <span class='ivar'>@project</span><span class='period'>.</span><span class='id close'>close</span> <span class='id mode'>mode</span> <span class='op'>==</span> <span class='symbol'>:save</span>
  <span class='kw'>else</span> 
    <span class='id docs_to_close'>docs_to_close</span> <span class='op'>=</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_document'>by_document</span><span class='period'>.</span><span class='id to_a'>to_a</span><span class='period'>.</span><span class='id select'>select</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='comma'>,</span> <span class='id v'>v</span><span class='op'>|</span> <span class='lparen'>(</span><span class='id d'>d</span><span class='period'>.</span><span class='id views'>views</span> <span class='op'>-</span> <span class='id v'>v</span><span class='rparen'>)</span><span class='period'>.</span><span class='id empty?'>empty?</span><span class='rbrace'>}</span>
    <span class='id docs_to_close'>docs_to_close</span><span class='period'>.</span><span class='id map!'>map!</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbrace'>}</span>
    <span class='kw'>if</span> <span class='id mode'>mode</span> <span class='op'>==</span> <span class='symbol'>:save</span>
      <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id save_documents'>save_documents</span> <span class='id docs_to_close'>docs_to_close</span>
    <span class='kw'>end</span>
    <span class='id emit'>emit</span> <span class='id closing'>closing</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id active'>active</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id docs_to_close'>docs_to_close</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id close'>close</span> <span class='kw'>false</span><span class='rbrace'>}</span>
    <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_activation'>by_activation</span><span class='period'>.</span><span class='id dup'>dup</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id v'>v</span><span class='op'>|</span> <span class='id v'>v</span><span class='period'>.</span><span class='id close'>close</span><span class='rbrace'>}</span>
    <span class='id delete_later'>delete_later</span>
    <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>close()</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="close_editor-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>close_editor</strong>(editor, ask = true) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


201
202
203
204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 201</span>

<span class='kw'>def</span> <span class='id close_editor'>close_editor</span> <span class='id editor'>editor</span><span class='comma'>,</span> <span class='id ask'>ask</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id doc'>doc</span> <span class='op'>=</span> <span class='id editor'>editor</span><span class='period'>.</span><span class='id document'>document</span>
  <span class='kw'>if</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id views'>views</span><span class='period'>.</span><span class='id count'>count</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='id editor'>editor</span><span class='period'>.</span><span class='id close'>close</span>
  <span class='kw'>else</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id close'>close</span> <span class='id ask'>ask</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="close_editors-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>close_editors</strong>(editors, ask = true) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


254
255
256
257
258
259
260
261
262
263
264
265
266
267
268</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 254</span>

<span class='kw'>def</span> <span class='id close_editors'>close_editors</span> <span class='id editors'>editors</span><span class='comma'>,</span> <span class='id ask'>ask</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id editors_by_doc'>editors_by_doc</span> <span class='op'>=</span> <span class='id editors'>editors</span><span class='period'>.</span><span class='id group_by'>group_by</span> <span class='op'>&amp;</span><span class='symbol'>:document</span>
  <span class='id docs'>docs</span> <span class='op'>=</span> <span class='id editors_by_doc'>editors_by_doc</span><span class='period'>.</span><span class='id keys'>keys</span>
  <span class='id to_close'>to_close</span> <span class='op'>=</span> <span class='id docs'>docs</span><span class='period'>.</span><span class='id select'>select</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id doc'>doc</span><span class='op'>|</span> <span class='lparen'>(</span><span class='id doc'>doc</span><span class='period'>.</span><span class='id views'>views</span> <span class='op'>-</span> <span class='id editors_by_doc'>editors_by_doc</span><span class='lbracket'>[</span><span class='id doc'>doc</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id empty?'>empty?</span><span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id ask'>ask</span>
    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id save_documents'>save_documents</span> <span class='id to_close'>to_close</span> 
  <span class='kw'>end</span>
  <span class='id to_close'>to_close</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id doc'>doc</span><span class='op'>|</span> 
    <span class='id doc'>doc</span><span class='period'>.</span><span class='id close'>close</span> <span class='kw'>false</span>
    <span class='id editors_by_doc'>editors_by_doc</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='id doc'>doc</span>
  <span class='kw'>end</span>
  <span class='id editors_by_doc'>editors_by_doc</span><span class='period'>.</span><span class='id each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id a'>a</span><span class='op'>|</span>
    <span class='id a'>a</span><span class='period'>.</span><span class='id each'>each</span> <span class='op'>&amp;</span><span class='symbol'>:close</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="close_tab-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>close_tab</strong>(idx)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


338
339
340
341</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 338</span>

<span class='kw'>def</span> <span class='id close_tab'>close_tab</span> <span class='id idx'>idx</span>
  <span class='id views'>views</span> <span class='op'>=</span> <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id widget'>widget</span><span class='lparen'>(</span><span class='id idx'>idx</span><span class='rparen'>)</span><span class='period'>.</span><span class='id views'>views</span>
  <span class='id close_editors'>close_editors</span> <span class='id views'>views</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>close_tab(int)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="create_tab-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>create_tab</strong>(view)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


405
406
407
408
409
410
411
412</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 405</span>

<span class='kw'>def</span> <span class='id create_tab'>create_tab</span> <span class='id view'>view</span>
  <span class='id pane'>pane</span> <span class='op'>=</span> <span class='const'>Pane</span><span class='period'>.</span><span class='id new'>new</span> <span class='id view'>view</span>
  <span class='id pane'>pane</span><span class='period'>.</span><span class='id label'>label</span> <span class='op'>=</span> <span class='id label_for_document'>label_for_document</span> <span class='id view'>view</span><span class='period'>.</span><span class='id document'>document</span>
  <span class='id connect'>connect</span> <span class='id pane'>pane</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>removing_view(QWidget*, QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>remove_editor(QWidget*, QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='id pane'>pane</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>pane_split(QWidget*, QWidget*, QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>pane_split(QWidget*, QWidget*, QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id connect'>connect</span> <span class='id pane'>pane</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>view_replaced(QWidget*, QWidget*, QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>view_replaced(QWidget*, QWidget*, QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id pane'>pane</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="current_tab_changed-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>current_tab_changed</strong>(idx)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


434
435
436
437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 434</span>

<span class='kw'>def</span> <span class='id current_tab_changed'>current_tab_changed</span> <span class='id idx'>idx</span>
  <span class='id current_tab'>current_tab</span> <span class='op'>=</span> <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id widget'>widget</span> <span class='id idx'>idx</span>
  <span class='id view'>view</span> <span class='op'>=</span> <span class='id idx'>idx</span> <span class='op'>&gt;=</span> <span class='int'>0</span> <span class='op'>?</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_tab'>by_tab</span><span class='lbracket'>[</span><span class='id current_tab'>current_tab</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='kw'>nil</span>
  <span class='id activate_editor'>activate_editor</span> <span class='id view'>view</span>
  <span class='id view'>view</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>current_tab_changed(int)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="deactivate_editor-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>deactivate_editor</strong>(view)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


387
388
389
390
391
392
393</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 387</span>

<span class='kw'>def</span> <span class='id deactivate_editor'>deactivate_editor</span> <span class='id view'>view</span>
  <span class='kw'>if</span> <span class='id view'>view</span> <span class='kw'>and</span> <span class='ivar'>@active_editor</span> <span class='op'>==</span> <span class='id view'>view</span>
    <span class='id view'>view</span><span class='period'>.</span><span class='id document'>document</span><span class='period'>.</span><span class='id deactivate'>deactivate</span>
    <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id gui_factory'>gui_factory</span><span class='period'>.</span><span class='id remove_client'>remove_client</span> <span class='id view'>view</span><span class='period'>.</span><span class='id send'>send</span><span class='lparen'>(</span><span class='symbol'>:internal</span><span class='rparen'>)</span>
    <span class='ivar'>@active_editor</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="display_document-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>display_document</strong>(doc, hints = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


246
247
248
249
250
251
252</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 246</span>

<span class='kw'>def</span> <span class='id display_document'>display_document</span> <span class='id doc'>doc</span><span class='comma'>,</span> <span class='id hints'>hints</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id ed'>ed</span> <span class='op'>=</span> <span class='id editor_for!'>editor_for!</span> <span class='id doc'>doc</span><span class='comma'>,</span> <span class='id hints'>hints</span>
  <span class='id activate_editor'>activate_editor</span> <span class='id ed'>ed</span>
  <span class='id line'>line</span> <span class='op'>=</span> <span class='id hints'>hints</span><span class='lbracket'>[</span><span class='symbol'>:line</span><span class='rbracket'>]</span>
  <span class='id ed'>ed</span><span class='period'>.</span><span class='id go_to'>go_to</span> <span class='id line'>line</span><span class='comma'>,</span> <span class='id hints'>hints</span><span class='lbracket'>[</span><span class='symbol'>:column</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='id hints'>hints</span><span class='lbracket'>[</span><span class='symbol'>:line</span><span class='rbracket'>]</span>
  <span class='id ed'>ed</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="do_activation-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>do_activation</strong>  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


375
376
377
378
379
380
381
382
383
384</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 375</span>

<span class='kw'>def</span> <span class='id do_activation'>do_activation</span>
  <span class='comment'>#showing the tab widget may make some editors all receive focus, but we
</span>  <span class='comment'>#want that setting to be kept until the environment becomes active again,
</span>  <span class='comment'>#so we store the original value in a temp variable and restore it afterwards
</span><span class='comment'>#         old_focus_on_editors = @focus_on_editors
</span><span class='comment'>#         @tab_widget.show
</span><span class='comment'>#         @focus_on_editors = old_focus_on_editors
</span>  <span class='id activate_editor'>activate_editor</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_activation'>by_activation</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="do_deactivation-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>do_deactivation</strong>  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


364
365
366
367
368
369
370
371
372
373</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 364</span>

<span class='kw'>def</span> <span class='id do_deactivation'>do_deactivation</span>
  <span class='comment'>#hiding the tab widget would make the editors all loose focus, but we
</span>  <span class='comment'>#want that setting to be kept until the environment becomes active again,
</span>  <span class='comment'>#so we store the original value in a temp variable and restore it afterwards
</span>  <span class='id old_focus_on_editors'>old_focus_on_editors</span> <span class='op'>=</span> <span class='ivar'>@focus_on_editors</span>
<span class='comment'>#         @tab_widget.hide
</span>  <span class='id deactivate_editor'>deactivate_editor</span> <span class='ivar'>@active_editor</span>
  <span class='ivar'>@focus_on_editors</span> <span class='op'>=</span> <span class='id old_focus_on_editors'>old_focus_on_editors</span>
  <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document_modified_status_changed-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>document_modified_status_changed</strong>(mod, doc)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


465
466
467
468
469
470
471
472
473</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 465</span>

<span class='kw'>def</span> <span class='id document_modified_status_changed'>document_modified_status_changed</span> <span class='id mod'>mod</span><span class='comma'>,</span> <span class='id doc'>doc</span>
  <span class='id label'>label</span> <span class='op'>=</span> <span class='id label_for_document'>label_for_document</span> <span class='id doc'>doc</span>
  <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_document'>by_document</span><span class='lbracket'>[</span><span class='id doc'>doc</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id v'>v</span><span class='op'>|</span> <span class='id v'>v</span><span class='period'>.</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id label'>label</span> <span class='op'>=</span> <span class='id label'>label</span><span class='rbrace'>}</span>
  <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id w'>w</span><span class='comma'>,</span> <span class='id i'>i</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_tab'>by_tab</span><span class='lbracket'>[</span><span class='id w'>w</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id document'>document</span> <span class='op'>==</span> <span class='id doc'>doc</span> 
      <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id set_tab_icon'>set_tab_icon</span> <span class='id i'>i</span><span class='comma'>,</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id icon'>icon</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>document_modified_status_changed(bool, QObject*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="document_url_changed-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>document_url_changed</strong>(doc)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


452
453
454
455
456
457
458
459
460
461
462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 452</span>

<span class='kw'>def</span> <span class='id document_url_changed'>document_url_changed</span> <span class='id doc'>doc</span>
  <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id t'>t</span><span class='op'>|</span> <span class='id update_pane'>update_pane</span> <span class='id t'>t</span><span class='rbrace'>}</span>
  <span class='id label'>label</span> <span class='op'>=</span> <span class='id label_for_document'>label_for_document</span> <span class='id doc'>doc</span>
  <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_document'>by_document</span><span class='lbracket'>[</span><span class='id doc'>doc</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id v'>v</span><span class='op'>|</span> <span class='id v'>v</span><span class='period'>.</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id label'>label</span> <span class='op'>=</span> <span class='id label'>label</span><span class='rbrace'>}</span>
  <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id w'>w</span><span class='comma'>,</span> <span class='id i'>i</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_tab'>by_tab</span><span class='lbracket'>[</span><span class='id w'>w</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id document'>document</span> <span class='op'>==</span> <span class='id doc'>doc</span> 
      <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id set_tab_text'>set_tab_text</span> <span class='id i'>i</span><span class='comma'>,</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id document_name'>document_name</span> 
      <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id set_tab_icon'>set_tab_icon</span> <span class='id i'>i</span><span class='comma'>,</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id icon'>icon</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>document_url_changed(QObject*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="documents-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>documents</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 150</span>

<span class='kw'>def</span> <span class='id documents'>documents</span>
  <span class='const'>DocumentList</span><span class='period'>.</span><span class='id new'>new</span> <span class='ivar'>@documents</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="editor_for!-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>editor_for!</strong>(doc, hints = DEFAULT_HINTS) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 129</span>

<span class='kw'>def</span> <span class='id editor_for!'>editor_for!</span> <span class='id doc'>doc</span><span class='comma'>,</span> <span class='id hints'>hints</span> <span class='op'>=</span> <span class='const'>DEFAULT_HINTS</span>
  <span class='id doc'>doc</span> <span class='op'>=</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:world</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id document'>document</span> <span class='id doc'>doc</span> <span class='kw'>unless</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>Document</span>
  <span class='id hints'>hints</span> <span class='op'>=</span> <span class='const'>DEFAULT_HINTS</span><span class='period'>.</span><span class='id merge'>merge</span> <span class='id hints'>hints</span>
  <span class='id editor'>editor</span> <span class='op'>=</span> <span class='ivar'>@hint_solver</span><span class='period'>.</span><span class='id find_editor'>find_editor</span> <span class='id doc'>doc</span><span class='comma'>,</span> <span class='id hints'>hints</span>
  <span class='kw'>unless</span> <span class='id editor'>editor</span>
    <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id hints'>hints</span><span class='lbracket'>[</span><span class='symbol'>:create_if_needed</span><span class='rbracket'>]</span>
    <span class='id view_to_split'>view_to_split</span> <span class='op'>=</span> <span class='ivar'>@hint_solver</span><span class='period'>.</span><span class='id place_editor'>place_editor</span> <span class='id hints'>hints</span>
    <span class='id editor'>editor</span> <span class='op'>=</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id create_view'>create_view</span>
    <span class='kw'>if</span> <span class='id view_to_split'>view_to_split</span>
      <span class='id orientation'>orientation</span> <span class='op'>=</span> <span class='id hints'>hints</span><span class='lbracket'>[</span><span class='symbol'>:split</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:vertical</span> <span class='op'>?</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>Vertical</span> <span class='op'>:</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>Horizontal</span>
      <span class='id view_to_split'>view_to_split</span><span class='period'>.</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id split'>split</span> <span class='id view_to_split'>view_to_split</span><span class='comma'>,</span> <span class='id editor'>editor</span><span class='comma'>,</span> <span class='id orientation'>orientation</span>
    <span class='kw'>else</span> 
      <span class='id new_pane'>new_pane</span> <span class='op'>=</span> <span class='id create_tab'>create_tab</span><span class='lparen'>(</span><span class='id editor'>editor</span><span class='rparen'>)</span>
      <span class='id add_editor'>add_editor</span> <span class='id editor'>editor</span><span class='comma'>,</span> <span class='id new_pane'>new_pane</span>
      <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id add_tab'>add_tab</span> <span class='id new_pane'>new_pane</span><span class='comma'>,</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id icon'>icon</span><span class='comma'>,</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id document_name'>document_name</span>
      <span class='id new_pane'>new_pane</span><span class='period'>.</span><span class='id label'>label</span> <span class='op'>=</span> <span class='id label_for_document'>label_for_document</span> <span class='id doc'>doc</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id editor'>editor</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="editor_got_focus-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>editor_got_focus</strong>(editor)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


344
345
346
347</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 344</span>

<span class='kw'>def</span> <span class='id editor_got_focus'>editor_got_focus</span> <span class='id editor'>editor</span>
  <span class='ivar'>@focus_on_editors</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id activate_editor'>activate_editor</span> <span class='id editor'>editor</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>editor_got_focus(QWidget*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="editor_lost_focus-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>editor_lost_focus</strong>(editor)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


350
351
352
353
354
355
356
357
358
359
360
361</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 350</span>

<span class='kw'>def</span> <span class='id editor_lost_focus'>editor_lost_focus</span> <span class='id editor'>editor</span>
  <span class='comment'>#When an editor is closed, the editor's parent pane is made parentless before the removing_editor
</span>  <span class='comment'>#signal is emitted by the pane, which means the editor is hidden (and thus
</span>  <span class='comment'>#looses focus) before it is actually closed. We don't want @focus_on_editors
</span>  <span class='comment'>#to be changed in that case (otherwise closing an editor which had focus
</span>  <span class='comment'>#would cause focus not to be given to the next active editor). The only
</span>  <span class='comment'>#check I can think of is whether the editor's parent pane has a parent
</span>  <span class='comment'>#or not
</span>  <span class='kw'>if</span> <span class='id editor'>editor</span><span class='period'>.</span><span class='id is_active_window'>is_active_window</span> <span class='kw'>and</span> <span class='id editor'>editor</span><span class='period'>.</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id parent'>parent</span>
    <span class='ivar'>@focus_on_editors</span> <span class='op'>=</span> <span class='kw'>false</span> 
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>editor_lost_focus(QWidget*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="focus_on_editors?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>focus_on_editors?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 270</span>

<span class='kw'>def</span> <span class='id focus_on_editors?'>focus_on_editors?</span>
  <span class='ivar'>@views</span><span class='period'>.</span><span class='id tabs'>tabs</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='op'>||</span> <span class='ivar'>@focus_on_editors</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="label_for_document-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>label_for_document</strong>(doc)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


395
396
397
398
399
400
401
402
403</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 395</span>

<span class='kw'>def</span> <span class='id label_for_document'>label_for_document</span> <span class='id doc'>doc</span>
  <span class='id url'>url</span> <span class='op'>=</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id url'>url</span>
  <span class='id label'>label</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id url'>url</span><span class='period'>.</span><span class='id local_file?'>local_file?</span> <span class='kw'>then</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id path'>path</span>
  <span class='kw'>elsif</span> <span class='id url'>url</span><span class='period'>.</span><span class='id valid?'>valid?</span> <span class='kw'>then</span> <span class='id url'>url</span><span class='period'>.</span><span class='id pretty_url'>pretty_url</span>
  <span class='kw'>else</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id document_name'>document_name</span>
  <span class='kw'>end</span>
  <span class='id label'>label</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> [modified]</span><span class='tstring_end'>'</span></span> <span class='kw'>if</span> <span class='id doc'>doc</span><span class='period'>.</span><span class='id modified?'>modified?</span>
  <span class='id label'>label</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="maybe_close_default_document-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>maybe_close_default_document</strong>(doc)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


293
294
295
296
297
298
299</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 293</span>

<span class='kw'>def</span> <span class='id maybe_close_default_document'>maybe_close_default_document</span> <span class='id doc'>doc</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='ivar'>@default_document</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@default_document</span> <span class='op'>==</span> <span class='id doc'>doc</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='ivar'>@default_document</span><span class='period'>.</span><span class='id pristine?'>pristine?</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@default_document</span><span class='period'>.</span><span class='id views'>views</span><span class='period'>.</span><span class='id count'>count</span> <span class='op'>!=</span> <span class='int'>1</span>
  <span class='ivar'>@default_document</span><span class='period'>.</span><span class='id close'>close</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="pane_split-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>pane_split</strong>(pane, old, new)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


414
415
416</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 414</span>

<span class='kw'>def</span> <span class='id pane_split'>pane_split</span> <span class='id pane'>pane</span><span class='comma'>,</span> <span class='id old'>old</span><span class='comma'>,</span> <span class='id new'>new</span>
  <span class='id add_editor'>add_editor</span> <span class='id new'>new</span><span class='comma'>,</span> <span class='id tab'>tab</span><span class='lparen'>(</span><span class='id pane'>pane</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>pane_split(QWidget*, QWidget*, QWidget*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="query_close-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>query_close</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


274
275
276
277
278
279
280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 274</span>

<span class='kw'>def</span> <span class='id query_close'>query_close</span>
  <span class='kw'>if</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:app</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id status'>status</span> <span class='op'>!=</span> <span class='symbol'>:asking_to_quit</span>
    <span class='id docs'>docs</span> <span class='op'>=</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_document'>by_document</span><span class='period'>.</span><span class='id select'>select</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='comma'>,</span> <span class='id v'>v</span><span class='op'>|</span> <span class='lparen'>(</span><span class='id d'>d</span><span class='period'>.</span><span class='id views'>views</span> <span class='op'>-</span> <span class='id v'>v</span><span class='rparen'>)</span><span class='period'>.</span><span class='id empty?'>empty?</span><span class='rbrace'>}</span>
    <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id save_documents'>save_documents</span> <span class='id docs'>docs</span><span class='period'>.</span><span class='id map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id a'>a</span><span class='op'>|</span> <span class='id a'>a</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbrace'>}</span>
  <span class='kw'>else</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_editor-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>remove_editor</strong>(pane, editor)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 316</span>

<span class='kw'>def</span> <span class='id remove_editor'>remove_editor</span> <span class='id pane'>pane</span><span class='comma'>,</span> <span class='id editor'>editor</span>
  <span class='id editor_tab'>editor_tab</span> <span class='op'>=</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id tabs'>tabs</span><span class='lbracket'>[</span><span class='id editor'>editor</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='ivar'>@active_editor</span> <span class='op'>==</span> <span class='id editor'>editor</span>
    <span class='id to_activate'>to_activate</span> <span class='op'>=</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_tab'>by_tab</span><span class='lbracket'>[</span><span class='id editor_tab'>editor_tab</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id activate_editor'>activate_editor</span> <span class='id to_activate'>to_activate</span>
    <span class='id deactivate_editor'>deactivate_editor</span> <span class='id editor'>editor</span>
  <span class='kw'>end</span>
  <span class='id disconnect'>disconnect</span> <span class='id editor'>editor</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>focus_in(QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>editor_got_focus(QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id disconnect'>disconnect</span> <span class='id editor'>editor</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>focus_out(QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>editor_lost_focus(QWidget*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='ivar'>@views</span><span class='period'>.</span><span class='id remove_view'>remove_view</span> <span class='id editor'>editor</span>
  <span class='kw'>unless</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_tab'>by_tab</span><span class='lbracket'>[</span><span class='id editor_tab'>editor_tab</span><span class='rbracket'>]</span>
    <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id remove_tab'>remove_tab</span> <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id index_of'>index_of</span><span class='lparen'>(</span><span class='id editor_tab'>editor_tab</span><span class='rparen'>)</span> 
  <span class='kw'>end</span>
  <span class='id doc'>doc</span> <span class='op'>=</span> <span class='id editor'>editor</span><span class='period'>.</span><span class='id document'>document</span>
  <span class='kw'>unless</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_document'>by_document</span><span class='lbracket'>[</span><span class='id doc'>doc</span><span class='rbracket'>]</span>
    <span class='ivar'>@documents</span><span class='period'>.</span><span class='id remove'>remove</span> <span class='id doc'>doc</span> 
    <span class='id disconnect'>disconnect</span> <span class='id doc'>doc</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>document_url_changed(QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>document_url_changed(QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='id disconnect'>disconnect</span> <span class='id doc'>doc</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>modified_changed(bool, QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>document_modified_status_changed(bool, QObject*)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>remove_editor(QWidget*, QWidget*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="remove_from_project-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>remove_from_project</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


282
283
284
285
286
287
288
289</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 282</span>

<span class='kw'>def</span> <span class='id remove_from_project'>remove_from_project</span>
  <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>environment not associated with a project</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@project</span>
  <span class='id emit'>emit</span> <span class='id closing'>closing</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id active'>active</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id docs_to_close'>docs_to_close</span> <span class='op'>=</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_document'>by_document</span><span class='period'>.</span><span class='id select'>select</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='comma'>,</span> <span class='id v'>v</span><span class='op'>|</span> <span class='lparen'>(</span><span class='id d'>d</span><span class='period'>.</span><span class='id views'>views</span> <span class='op'>-</span> <span class='id v'>v</span><span class='rparen'>)</span><span class='period'>.</span><span class='id empty?'>empty?</span><span class='rbrace'>}</span>
  <span class='id docs_to_close'>docs_to_close</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id close'>close</span> <span class='kw'>false</span><span class='rbrace'>}</span>
  <span class='ivar'>@views</span><span class='period'>.</span><span class='id dup'>dup</span><span class='period'>.</span><span class='id by_activation'>by_activation</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id v'>v</span><span class='op'>|</span> <span class='id v'>v</span><span class='period'>.</span><span class='id close'>close</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_tab-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>remove_tab</strong>(pane)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


442
443
444</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 442</span>

<span class='kw'>def</span> <span class='id remove_tab'>remove_tab</span> <span class='id pane'>pane</span>
  <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id remove_tab'>remove_tab</span> <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id index_of'>index_of</span><span class='lparen'>(</span><span class='id pane'>pane</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>remove_tab(QWidget*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="replace_editor-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>replace_editor</strong>(old, new) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


250
251
252
253
254
255
256
257
258
259
260
261
262
263</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 250</span>

<span class='kw'>def</span> <span class='id replace_editor'>replace_editor</span> <span class='id old'>old</span><span class='comma'>,</span> <span class='id new'>new</span>
  <span class='kw'>if</span> <span class='id new'>new</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>Document</span>
    <span class='id new'>new</span> <span class='op'>=</span> <span class='id new'>new</span><span class='period'>.</span><span class='id create_view'>create_view</span>
  <span class='kw'>elsif</span> <span class='id new'>new</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>String</span> <span class='kw'>or</span> <span class='id new'>new</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>Url</span>
    <span class='id new'>new</span> <span class='op'>=</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:world</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id document'>document</span><span class='lparen'>(</span><span class='id new'>new</span><span class='rparen'>)</span><span class='period'>.</span><span class='id create_view'>create_view</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id old'>old</span><span class='period'>.</span><span class='id document'>document</span><span class='period'>.</span><span class='id views'>views</span><span class='period'>.</span><span class='id count'>count</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id old'>old</span><span class='period'>.</span><span class='id document'>document</span><span class='period'>.</span><span class='id query_close'>query_close</span>
    <span class='id close_doc'>close_doc</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
  <span class='id old'>old</span><span class='period'>.</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id replace_view'>replace_view</span> <span class='id old'>old</span><span class='comma'>,</span> <span class='id new'>new</span>
  <span class='id close_editor'>close_editor</span> <span class='id old'>old</span><span class='comma'>,</span> <span class='kw'>false</span>
  <span class='id new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="tab-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>tab</strong>(arg) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167
168
169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 162</span>

<span class='kw'>def</span> <span class='id tab'>tab</span> <span class='id arg'>arg</span>
  <span class='kw'>if</span> <span class='id arg'>arg</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Pane</span><span class='rparen'>)</span>
    <span class='id pane'>pane</span> <span class='op'>=</span> <span class='id arg'>arg</span>
    <span class='kw'>while</span> <span class='id parent'>parent</span> <span class='op'>=</span> <span class='id pane'>pane</span><span class='period'>.</span><span class='id parent_pane'>parent_pane</span>
      <span class='id pane'>pane</span> <span class='op'>=</span> <span class='id parent'>parent</span>
    <span class='kw'>end</span>
    <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id index_of'>index_of</span><span class='lparen'>(</span><span class='id pane'>pane</span><span class='rparen'>)</span> <span class='op'>&gt;</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>?</span> <span class='id pane'>pane</span> <span class='op'>:</span> <span class='kw'>nil</span>
  <span class='kw'>else</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id tabs'>tabs</span><span class='lbracket'>[</span><span class='id arg'>arg</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="tabs-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>tabs</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 154</span>

<span class='kw'>def</span> <span class='id tabs'>tabs</span>
  <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id to_a'>to_a</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="update_pane-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>update_pane</strong>(pane)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


427
428
429
430
431</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 427</span>

<span class='kw'>def</span> <span class='id update_pane'>update_pane</span> <span class='id pane'>pane</span>
  <span class='id docs'>docs</span> <span class='op'>=</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_tab'>by_tab</span><span class='lbracket'>[</span><span class='id pane'>pane</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:document</span><span class='rparen'>)</span><span class='period'>.</span><span class='id uniq'>uniq</span>
  <span class='id tool_tip'>tool_tip</span> <span class='op'>=</span> <span class='id docs'>docs</span><span class='period'>.</span><span class='id map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:document_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id set_tab_tool_tip'>set_tab_tool_tip</span> <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id index_of'>index_of</span><span class='lparen'>(</span><span class='id pane'>pane</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id tool_tip'>tool_tip</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>update_pane(QWidget*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="update_tabs_for_document-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>update_tabs_for_document</strong>(doc)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


447
448
449</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 447</span>

<span class='kw'>def</span> <span class='id update_tabs_for_document'>update_tabs_for_document</span> <span class='id doc'>doc</span>
  <span class='ivar'>@tab_widget</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id w'>w</span><span class='op'>|</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>update_tabs_for_document(QObject*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="view_replaced-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>view_replaced</strong>(pane, old, new)  <span class="extras">(private)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


419
420
421
422
423
424</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 419</span>

<span class='kw'>def</span> <span class='id view_replaced'>view_replaced</span> <span class='id pane'>pane</span><span class='comma'>,</span> <span class='id old'>old</span><span class='comma'>,</span> <span class='id new'>new</span>
  <span class='id toplevel_pane'>toplevel_pane</span> <span class='op'>=</span> <span class='id tab'>tab</span><span class='lparen'>(</span><span class='id pane'>pane</span><span class='rparen'>)</span>
  <span class='id add_editor'>add_editor</span> <span class='id new'>new</span><span class='comma'>,</span> <span class='id toplevel_pane'>toplevel_pane</span>
  <span class='id remove_editor'>remove_editor</span> <span class='id toplevel_pane'>toplevel_pane</span><span class='comma'>,</span> <span class='id old'>old</span>
  <span class='id update_pane'>update_pane</span> <span class='id toplevel_pane'>toplevel_pane</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>view_replaced(QWidget*, QWidget*, QWidget*)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="views-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>views</strong>(doc = nil) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/world/environment.rb', line 158</span>

<span class='kw'>def</span> <span class='id views'>views</span> <span class='id doc'>doc</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id doc'>doc</span> <span class='op'>?</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_document'>by_document</span><span class='lbracket'>[</span><span class='id doc'>doc</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id dup'>dup</span> <span class='op'>:</span> <span class='ivar'>@views</span><span class='period'>.</span><span class='id by_activation'>by_activation</span><span class='period'>.</span><span class='id dup'>dup</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>



  <div id="instance_method_details" class="method_details_list">
    <h2>Signal Details</h2>
    
      <div class="method_details first">
  <p class="signature first" id="active_editor_changed-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>active_editor_changed</strong>(QWidget* arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deactivated-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>deactivated</strong> 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="activated-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>activated</strong> 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="closing-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>closing</strong>(QObject* arg1) 
</p>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sun Oct 23 14:12:24 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.3 (ruby-1.9.3).
</div>

  </body>
</html>